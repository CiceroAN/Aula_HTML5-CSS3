(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["BusinessAccountLoginPageDesktop~CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBefore~07d7977e"],{"2rhI":function(e,n,t){"use strict";t.d(n,"a",function(){return i}),t.d(n,"b",function(){return u}),t.d(n,"d",function(){return s}),t.d(n,"c",function(){return c});var o=t("hvnN"),r=t.n(o),a=t("QJ2d"),i={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",EMAIL:"email",OTHER:"other"},u=function(e){return e.facebook_id?i.FACEBOOK:e.google_open_id_token?i.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?i.GOOGLE:e.email?i.EMAIL:i.OTHER},s=(r.a.shape({credentials:r.a.shape({}),userData:r.a.shape({}),type:r.a.oneOf(Object.values(i))}),function(e){return e in a.a.settings.MINIMUM_AGE_BY_EU_COUNTRY}),c=function(e){return a.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)}},"3nbW":function(e,n,t){"use strict";var o=t("f5ca"),r=t("D+W/"),a=t("oFGA"),i=t("/YZq"),u=t("ePT2"),s=t("PhUE"),c=t("ggpB"),_=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[105,"FACEBOOK_ACCOUNT_NOT_LINKED"],[12,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[16,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[77,"INVALID_PASSWORD_FB_USER"],[78,"INVALID_PASSWORD_ERROR_CODE"],[79,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[83,"LOGIN_POLICY_VIOLATION_USER"],[85,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[93,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[8,"API_LIMIT_EXCEEDED_ERROR"],[9,"API_EVENT_BLOCKED_ERROR"],[19,"USER_IN_SAFE_MODE"],[84,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[85,"LOGIN_BAD_PASSWORD_ASK_RESET"],[1201,"LOGIN_MFA_REQUIRED"],[30,"LOGIN_USER_NOT_FOUND"],[88,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"]]);function g(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown_source",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var a=e.http_status===r.a.RESPONSE_CODE_TOO_MANY_REQUESTS?r.a.RESPONSE_CODE_TOO_MANY_REQUESTS:e.api_error_code,i=a;_.has(a)&&(i=_.get(a));var u=n.container;o?Object(c.a)("unauth_web_client_cctld_login_api_error.".concat(String(i),".").concat(u||"unknow_container",".").concat(t)):Object(c.a)("unauth_web_client_login_api_error.".concat(String(i),".").concat(u||"unknow_container",".").concat(t))}}var l=t("DU5A"),d=t("2rhI");function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var O=i.a.getLogger("UserLogin"),E=i.a.getLogger("AuthHandshake"),p=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?d.a.FACEBOOK:e.google_open_id_token?d.a.GOOGLE_ONE_TAP:e.gplus_id_token?d.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?d.a.EMAIL:d.a.OTHER},m=function(e,n){var t="referrer_unknown";try{var o=document.referrer;t=o?o.indexOf("/t.co/")>-1?"twitter":o.indexOf("google.")>-1?"google":o.indexOf("bing.")>-1?"bing":o.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}var r=p(e),a=n===Object(n)?n.hybridTier:"tier_unknown",i=n===Object(n)?n.container:"container_unknown";Object(c.a)("login.referrer."+t+"."+r),Object(c.a)("login.container."+i+"."+r),Object(c.a)("login.type."+r);var u=p(e)||"method_unknown",s=n.page||"page_unknown";e.gplus_autologin?Object(c.a)("web_autologin_google"):e.facebook_autologin?Object(c.a)("web_autologin_facebook"):Object(c.a)("web_login.".concat(u,".success.").concat(s,".").concat(i,".").concat(t,".").concat(a))},b=function(e,n){Object(c.a)("web_cross_domain_login.".concat(e,".").concat(p(n)))};n.a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)&&-1!==r.a.GEN.templateConst.settings.CORS_HANDSHAKE_DOMAINS.indexOf(a.a.instance.origin))return function(e,n){return b("attempt",e),o.default.loginUser(e).then(function(t){if(t&&t.data){b("success_with_token",e);var r=t.data;return o.default.exchangeTokenAndSetSession(r).then(function(t){return b("success_token_exchanged",e),m(e,n),E.debug("Cross domain login successful"),Promise.resolve()},function(n){throw b("success_token_not_exchanged",e),E.error("Failed to set session for current user; "+n.message),n})}throw b("success_without_token",e),E.error("No custom access token in cross domain login response"),new Error},function(t){throw b("failure",e),g(t,n,p(e),!0),E.error("Failed to login user; "+t.message),t})}(e,n);e.switch_account&&(e.get_user=!!t||e.get_user);var _=t?null:s.b.localStorage.getItem("visitedPagesBeforeLogin"),d=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){f(e,n,t[n])})}return e}({},e,{app_type_from_client:5,visited_pages_before_login:_?JSON.stringify(_):null,recaptchaToken:i,tokenV3:c});return u.a.create("UserSessionResource",d).callCreate({showError:!1,async:!0}).then(function(t){return O.debug("Login, successful",t),m(e,n),Object(l.f)(!1),t},function(t){return g(t,n,p(e)),Promise.reject(t)})}},"73jm":function(e,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"a",function(){return a});var o=t("hvnN"),r={login:"login",loginMfa:"loginMfa",signup:"signup",signupOrPersonalizedLogin:"signupOrPersonalizedLogin",socialSignupWithAge:"socialSignupWithAge",FBEmailRerequest:"FBEmailRerequest",emailConfirmation:"emailConfirmation",magicLinkConfirmation:"magicLinkConfirmation",respondMessage:"respondMessage"},a={boardPage:"boardPage",boardInvite:"boardInvite",defaultSource:"defaultSource",homePage:"homePage",mwebDefaultSource:"mwebDefaultSource",invite:"invite",login:"login",userFollow:"userFollow",userProfilePage:"userProfilePage",saveButton:"saveButton",actionButton:"actionButton",signupButton:"signupButton",personalizedFlyout:"personalizedFlyout",navigateBoard:"navigateBoard",navigatePin:"navigatePin",navigateInterest:"navigateInterest",unauthHeader:"unauthHeader",unauthBanner:"unauthBanner",giftWrap:"giftWrap",loginMfa:"loginMfa"};t.n(o).a.oneOf([a.boardPage,a.boardInvite,a.defaultSource,a.giftWrap,a.homePage,a.invite,a.login,a.mwebDefaultSource,a.navigateBoard,a.navigatePin,a.navigateInterest,a.saveButton,a.signupButton,a.unauthBanner,a.unauthHeader,a.userFollow,a.userProfilePage])},DU5A:function(e,n,t){"use strict";t.d(n,"a",function(){return i}),t.d(n,"d",function(){return u}),t.d(n,"e",function(){return s}),t.d(n,"g",function(){return c}),t.d(n,"f",function(){return _}),t.d(n,"c",function(){return g}),t.d(n,"b",function(){return l});var o=t("WQSK"),r=t("PhUE"),a=t("2cJX");function i(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";arguments.length>3&&arguments[3],arguments.length>4&&arguments[4];return n?a.a.tier1:t&&t.includes("yahoo.co.jp")&&"JP"===e?a.a.tier1:(e=e||"",a.e.has(e)?a.a.tier1:a.g.has(e)?a.a.tier2:a.a.tier3)}function u(){o.set("hasBeenShownLoginModalInOpen","true",a.c)}function s(e){r.b.localStorage.setItem("uimb",!!e)}function c(){return r.b.localStorage.getItem("uimb")||!1}function _(e){r.b.localStorage.setItem("uoiou",!!e)}function g(){return r.b.localStorage.getItem("uoiou")||!1}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g()||!e&&c()}},IItM:function(e,n,t){"use strict";n.a={ACCOUNT_SWITCHER_FLYOUT:"account_switcher_flyout",ACCOUNT_SWITCHER_MODAL:"account_switcher_modal",ACCOUNT_RECOVERY:"account_recovery",BOARD_INVITE:"board_invite",CLOSEUP:"closeup",CLOSEUP_BANNER:"closeup_banner",FOLLOW_BUTTON:"followbtn",GOOGLE_ONE_TAP:"google_one_tap_modal",LOGIN_PAGE:"login_page",INSPIRED_BANNER:"inspired_banner",MFA_LOGIN_PAGE:"mfa_login_page",HYBRID_CLICKTHROUGH:"hybrid_clickthrough",HYBRID_BANNER:"hybrid_banner",PIN_GRID:"pin_grid",PIN_IMAGE:"pin_image",RESPONSE_FLYOUT:"response_flyout",UNAUTH_BANNER:"unauth_banner",UNAUTH_HEADER:"unauth_header"}},V0Gb:function(e,n,t){"use strict";var o=t("GyhR"),r=t.n(o),a=t("Qo1m"),i=t("+U6O"),u={loadingIndicatorMask:{position:"absolute",backgroundColor:"#fff",top:"0",left:"0",right:"0",bottom:"0",opacity:"0.7",borderRadius:"8px",zIndex:"100"},spinner:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",opacity:"1",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"101"}};n.a=function(e){return r.a.createElement("div",null,r.a.createElement("div",{style:u.spinner},r.a.createElement(i.G,{accessibilityLabel:a.a._("Loading"),show:!0})),r.a.createElement("div",{style:u.loadingIndicatorMask}))}},f5ca:function(e,n,t){"use strict";t.r(n);t("oiDG");var o=t("D+W/"),r=t("oFGA"),a=t("/YZq"),i=t("ePT2"),u=t("ggpB"),s=t("q579"),c=a.a.getLogger("AuthHandshake"),_={_parseJson:function(e){return e.json()},_throwError:function(e){var n=new Error(e.statusText);throw n.response=e,_._reconstructError(n),n},_checkStatus:function(e){return 200===e.status||401===e.status?e:(_._throwError(e),{})},_crossDomainRequest:function(e,n,t){if("GET"!==t&&"POST"!==t)return Promise.resolve({});var a={credentials:"include",mode:"cors"};return"POST"===t&&(a.method="POST",a.body=n,a.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":r.a.instance.unauth_id},r.a.instance.unauth_id||Object(u.a)("unauth.auth_handshake.cross_domain.no_unauth_id.".concat(t))),fetch(e,a).then(_._checkStatus).then(_._parseJson).then(function(e){return"success"===e.status?Promise.resolve(e):e.code===o.a.LOGIN_MFA_REQUIRED?(e.api_error_code=e.code,Promise.reject(e)):(_._throwError(e),{})}).catch(function(e){throw e})},_reconstructError:function(e){!e.api_error_code&&e.response&&(e.api_error_code=e.response.code,e.message=e.response.message)},_verifyAndGetToken:function(){var e=o.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+"/v3/handshake/verify/";return _._crossDomainRequest(e,"","GET")},exchangeTokenAndSetSession:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.a.create("HandshakeSessionResource",{token:e,isRegistration:n}).callCreate()},verifyLoggedInStatus:function(){_._verifyAndGetToken().then(function(e){if(e&&e.data){var n=e.data;_.exchangeTokenAndSetSession(n).then(function(e){window.location.reload()},function(e){c.error("Failed to set session for current user; "+e.message)})}else c.error("No custom access token in cross domain verify response")},function(e){})},_setUpRegisterParameters:function(e){var n={};if(n.email=e.email||"",n.username=e.username||"",n.password=e.password||"",n.first_name=e.first_name||"",n.last_name=e.last_name||"",n.country=e.country||"",n.locale=r.a.instance.locale,n.referrer=r.a.instance.referrer,e.age){var t=new Date;t.setFullYear(t.getFullYear()-e.age);var o=parseInt(t/1e3,10);n.birthday=o.toString()}if(e.custom_gender&&(n.custom_gender=e.custom_gender),e.gender&&(n.gender=e.gender),e.business_name&&(n.account_type=e.account_type,n.business_name=e.business_name,n.first_name=e.business_name),r.a.instance.invite_code&&(n.invite_code=r.a.instance.invite_code),e.facebook_id){var a=r.a.instance.facebook_token||e.facebook_token||"";a||c.debug("Facebook token is not being set during login call."),n.facebook_id=e.facebook_id,n.facebook_token=a,n.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(n.password=e.password||"",n.one_time_code=e.gplus_code,n.id_token=e.gplus_id_token,n.redirect_uri=e.gplus_redirect_uri);return s.a.getQueryStringFromObject(n)},_setUpLoginParameters:function(e){var n={};if(e.username_or_email&&(n.username_or_email=e.username_or_email.trim(),n.password=e.password,n.referrer=r.a.instance.referrer),e.facebook_id){var t=r.a.instance.facebook_token||e.facebook_token||"";t||c.debug("Facebook token is not being set during login call."),n.facebook_id=e.facebook_id,n.facebook_token=t,n.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(n.gplus_id_token=e.gplus_id_token,n.gplus_access_token=e.gplus_access_token,n.gplus_expires_at=e.gplus_expires_at,n.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(n.mfa_token=e.mfa_token),s.a.getQueryStringFromObject(n)},_getRegisterRequestUrl:function(e){var n="/v3/register/email/handshake/";return e.facebook_id&&(n="/v3/register/facebook/handshake/"),(e.gplus_code||e.gplus_id_token)&&(n="/v3/register/gplus/handshake/"),e.business_name&&(n="/v3/register/partner/handshake/"),o.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+n},_getLoginRequestUrl:function(e){var n="/v3/login/handshake/";return e.facebook_id&&(n="/v3/login/facebook/handshake/"),e.gplus_id_token&&(n="/v3/login/gplus/handshake/"),e.mfa_token&&(n="/v3/login/mfa/handshake/"),o.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+n},registerUser:function(e){var n=_._getRegisterRequestUrl(e),t=_._setUpRegisterParameters(e);return _._crossDomainRequest(n,t,"POST")},loginUser:function(e){var n=_._getLoginRequestUrl(e),t=_._setUpLoginParameters(e);return _._crossDomainRequest(n,t,"POST")}};n.default=_},rlRx:function(e,n,t){"use strict";var o=t("D+W/"),r=t("IItM"),a=function(e){return"undefined"!=typeof window?window.localStorage.getItem(e):null},i=function(e,n){"undefined"!=typeof window&&window.localStorage.setItem(e,n)},u={getAccounts:function(){return a(o.a.MULTIPLE_ACCOUNTS)},getAccountsJSON:function(){return u.getAccounts()?JSON.parse(u.getAccounts()):{}},getGroupId:function(){var e=a(o.a.MULTIPLE_ACCOUNTS_GROUP);return e?JSON.parse(e):null},setAccounts:function(e){return i(o.a.MULTIPLE_ACCOUNTS,e)},setGroupId:function(e){return i(o.a.MULTIPLE_ACCOUNTS_GROUP,JSON.stringify(e))}},s=u,c=t("QzGC"),_=t.n(c),g=t("ggpB");function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",function(){return d}),t.d(n,"e",function(){return f}),t.d(n,"d",function(){return O}),t.d(n,"c",function(){return E}),t.d(n,"h",function(){return p}),t.d(n,"b",function(){return m}),t.d(n,"g",function(){return b}),t.d(n,"f",function(){return h});var d=4,f=function(){return s.getAccountsJSON()},O=function(){return Object.keys(f()).length},E=function(){var e;return l(e={},o.a.MULTIPLE_ACCOUNTS,s.getAccountsJSON()),l(e,o.a.MULTIPLE_ACCOUNTS_GROUP,s.getGroupId()),e},p=function(e,n,t){var o=s.getGroupId();o||(o=function(){var e=_()();return Object(g.c)("".concat("web_account_switcher",".utils.group_created"),{group_id:e,group_count:O()}),e}(),s.setGroupId(o));var a={group_id:o,group_count:O()},i="";t&&(i=t===r.a.ACCOUNT_SWITCHER_MODAL?"modal.":"flyout."),Object(g.c)("".concat("web_account_switcher",".").concat(i).concat(e),Object.assign({},n,a))},m=function(e,n,t){var o=s.getAccountsJSON();o[e.id]=function(e){var n={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return n.fullName&&n.imageMediumUrl&&n.imageLargeUrl||p("utils.incomplete_user_values"),n}(e),s.setAccounts(JSON.stringify(o)),n&&t&&p("new_account_add_success",{method:n,user_added:e.id},t)},b=function(e){var n=s.getAccountsJSON();delete n[e],s.setAccounts(JSON.stringify(n))},h=function(e,n){if(!s.getAccounts()||e&&!(e.id in f())){if(e.partner&&e.partner.is_linked_business&&n)return void m(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){l(e,n,t[n])})}return e}({},e,{email:n.partner&&n.partner.is_linked_business?n.partner.biz_ownership_email:""}));m(e)}}}}]);
//# sourceMappingURL=pjs-BusinessAccountLoginPageDesktop~CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBefore~07d7977e-a9d3b9d8628f43e3d21a.js.map
