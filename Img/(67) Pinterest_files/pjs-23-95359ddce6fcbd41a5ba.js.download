(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[23],{"7HzE":function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r=n("GyhR"),o=n.n(r),a=n("8WpO"),i=n("Qo1m"),c=n("Irlq"),l=n("+U6O");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=1800,b=function(e){return{opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}},y=function(e,t,n,r){var o=[],a={};if(n.current&&r&&r.current){var i=t.current.getBoundingClientRect(),c=n.current.getBoundingClientRect(),l=r.current.getBoundingClientRect();a={left:c.left-i.left,top:c.top-i.top,width:c.width,height:c.height};var s={x:l.x-c.x,y:l.y-c.y},u={x:l.width/c.width,y:l.height/c.height};o.push("translate(".concat(s.x,"px, ").concat(s.y,"px)")),o.push("scale(".concat(u.x,", ").concat(u.y,")"))}return{position:"absolute",left:a.left,top:a.top,width:a.width,height:a.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?o.join(" "):"none",transform:e?o.join(" "):"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",overflow:"hidden",zIndex:2}},g=function(e){return{opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"}},v=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return o=this,n=!(a=(e=d(t)).call.apply(e,[this].concat(c)))||"object"!==s(a)&&"function"!=typeof a?f(o):a,h(f(f(n)),"state",{isInitialized:!1}),h(f(f(n)),"containerRef",Object(r.createRef)()),h(f(f(n)),"pinDestinationRef",Object(r.createRef)()),n}var n,v,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["PureComponent"]),n=t,(v=[{key:"componentDidMount",value:function(){var e=this;this.requestAnimationFrameId=window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.isInitialized,r=this.props.onDismiss;n&&r&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(r,m+800))}},{key:"render",value:function(){var e,t=this.props,n=t.firstRepin,s=t.pin,u=t.pinImageRef,d=t.selectedBoardName,p=s.description,f=void 0===p?"":p,h=s.images["236x"]||{},m=h.height,v=void 0===m?0:m,w=h.width,_=void 0===w?0:w,E=h.url,S=void 0===E?"":E,C=this.state.isInitialized;return o.a.createElement(r.Fragment,null,o.a.createElement(l.b,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef},o.a.createElement(l.b,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:y(C,this.containerRef,u,this.pinDestinationRef)}},o.a.createElement(l.p,{alt:f,src:S||"",naturalHeight:v||1,naturalWidth:_||1})),o.a.createElement(l.b,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(e=C,{pointerEvents:"none",opacity:e?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})}},o.a.createElement(l.b,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:b(C)}},o.a.createElement(a.a,{delay:1250,startAnimation:C},o.a.createElement(l.u,{shape:"rounded",width:270,height:180},o.a.createElement(l.b,{display:"flex",height:"100%",width:"100%"},o.a.createElement(l.b,{ref:this.pinDestinationRef,color:"transparent",marginRight:1,flex:"grow",height:"100%"}),o.a.createElement(l.b,{display:"flex",width:80,direction:"column"},o.a.createElement(l.b,{color:"lightGray",flex:"grow",marginBottom:1}),o.a.createElement(l.b,{color:"lightGray",flex:"grow"}))))),o.a.createElement(l.b,{paddingX:2,dangerouslySetInlineStyle:{__style:g(C)}},o.a.createElement(l.m,{size:"sm"},n?Object(c.b)(i.a._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message"),{selectedBoardName:d}):Object(c.b)(i.a._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message"),{selectedBoardName:d})))))))}}])&&u(n.prototype,v),w&&u(n,w),t}();h(v,"defaultProps",{firstRepin:!1})},AlW1:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=n("D+W/"),c=n("Qo1m"),l=n("kIql"),s=n("evwu"),u=n("j/DJ"),d=n("Irlq"),p=n("7Iyi"),f=n("9Y9K"),h=n("J+kV");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t,n;return n=t=function(t){function n(){var e,t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return r=this,o=(e=v(n)).call.apply(e,[this].concat(l)),t=!o||"object"!==m(o)&&"function"!=typeof o?_(r):o,E(_(_(t)),"state",{createBoardError:null,inputName:t.props.prefilledName||"",nameValidators:[Object(h.d)({message:c.a._("Don't forget to name your board!")}),Object(h.b)({max:i.a.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:Object(d.b)(c.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long"),{maxLength:i.a.MAX_CHARS_FOR_BOARD_TITLE})})],nameValidatorErrors:[],privacy:t.props.isAdAccountOwner?i.a.BoardPrivacy.PUBLIC:i.a.BoardPrivacy.PROTECTED,saving:!1}),E(_(_(t)),"handleChangeName",function(e,n){var r=Object(h.f)(t.state.nameValidators,e);t.setState({inputName:e,nameValidatorErrors:r,createBoardError:null},function(){n&&t.handleCreate()})}),E(_(_(t)),"handleChangePrivacy",function(){var e=t.state.privacy===i.a.BoardPrivacy.SECRET?i.a.BoardPrivacy.PUBLIC:i.a.BoardPrivacy.SECRET;t.setState({privacy:e})}),E(_(_(t)),"handleCreate",function(){var e=t.state,n=e.inputName,r=e.privacy,o=t.props,a=o.createBoard,i=o.invalidateResource,l=o.onCreate,s=o.isAdAccountOwner,u=o.advertiser_id,d=y({privacy:r,name:n},!s&&u?{advertiser_id:u}:{});t.setState({saving:!0,createBoardError:null}),a(d).then(function(e){t.setState({saving:!1}),l(e)}).catch(function(e){var n=c.a._("Uh oh! Something went wrong.");if(e.message){var r=e.message,o=e.message_detail;n=o?"".concat(r," ").concat(o):r}else"string"==typeof e&&(n=e);t.setState({saving:!1,createBoardError:n})}),i(r)}),t}var a,l,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,r["Component"]),a=n,(l=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.prefilledName&&this.setState({inputName:e.prefilledName})}},{key:"render",value:function(){var t=this.props,n=(t.createBoard,t.invalidateResource,b(t,["createBoard","invalidateResource"]));return o.a.createElement(e,Object.assign({onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,onBoardCreate:this.handleCreate},n,this.state))}}])&&g(a.prototype,l),s&&g(a,s),n}(),E(t,"displayName","WithBoardCreatePane(".concat(e.displayName||e.name,")")),n}function C(e){var t=e.advertiser,n=e.viewer,r=!t||n.isAuth&&t.owner_user_id===n.id,o=t&&t.id;return y({isAdAccountOwner:r},o?{advertiser_id:o}:{})}function O(e,t){return{invalidateResource:function(n){e(Object(p.f)("BoardsResource",Object(u.a)(t.viewer.username,n===i.a.BoardPrivacy.SECRET)))},createBoard:function(t){return e(Object(s.e)(t))}}}function j(e){return Object(f.compose)(l.a,Object(a.connect)(C,O),S)(e)}},FIpZ:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=(n("rWj7"),n("Qo1m")),i=n("HcVA"),c=n("g4pz"),l=n("+U6O"),s=function(e){var t=e.link,n=e.grayscale,r=e.handleClick,s=e.handleFocus;return o.a.createElement("div",{className:"ShareLink"},o.a.createElement("div",{className:"link"},o.a.createElement("div",{className:"icon"},o.a.createElement(c.a,{size:30,grayscale:n})),o.a.createElement(i.a,{ref:function(e){return e&&e.focus()},className:"Input linkField",value:t,onFocus:s}),o.a.createElement("div",{className:"cancelLink",onClick:r},o.a.createElement(l.n,{accessibilityLabel:a.a._("Close","close copy link"),icon:"cancel",color:"gray"}))))};s.defaultProps={grayscale:!1},t.a=s},HcVA:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("GyhR"),o=n.n(r);n("hvnN");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e){function t(e,n){var r,o,i,l,u,d;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=c(t).call(this,e,n),r=!i||"object"!==a(i)&&"function"!=typeof i?s(o):i,l=s(s(r)),d=function(e){r.props.onChange&&r.props.onChange(e.target.value),r.setState({value:e.target.value,hasChanged:!0})},(u="handleChange")in l?Object.defineProperty(l,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[u]=d,r.state={isFocused:r.props.focused||!1,value:r.props.value,hasChanged:void 0!==r.props.value},r}var n,u,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["Component"]),n=t,(u=[{key:"componentDidMount",value:function(){this.state.isFocused&&this._input.focus()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"getId",value:function(){return this.props.id}},{key:"getValue",value:function(){return this.state.value}},{key:"focus",value:function(){this._input.focus()}},{key:"render",value:function(){var e=this;return o.a.createElement("input",{autoComplete:this.props.autoComplete,className:this.props.className,disabled:this.props.disabled?"disabled":"",id:this.props.id,name:this.props.name,onBlur:this.props.onBlur?this.props.onBlur.bind(this):null,onChange:this.handleChange,onClick:this.props.onClick?this.props.onClick.bind(this):null,onFocus:this.props.onFocus?this.props.onFocus.bind(this):null,onKeyDown:this.props.onKeyDown?this.props.onKeyDown.bind(this):null,placeholder:this.props.placeholder,ref:function(t){e._input=t},style:this.props.style,type:this.props.type,value:this.state.value||""})}}])&&i(n.prototype,u),d&&i(n,d),t}();u.defaultProps={type:"text"}},JXQe:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=(n("hvnN"),n("vBbO")),c=n("SMmS"),l=n("VSY/"),s=n("+U6O");function u(e){var t=e.body,n=e.img,o=e.onClick,i=e.selected,c=e.title,l=e.username,u=e.valid,d=l||t;return r.createElement(s.b,{marginBottom:4},r.createElement(s.P,{onTouch:o},r.createElement(s.b,{display:"flex",alignItems:"center",direction:"row",width:"100%"},n,r.createElement(s.b,{marginLeft:3,flex:"grow",marginRight:2},r.createElement(s.b,{marginBottom:1},r.createElement(s.K,{bold:!0,size:"md",truncate:!0},c)),r.createElement(s.K,{size:"xs",truncate:!0},d)),r.createElement(s.b,{marginLeft:2},function(e,t){if(l)return e?r.createElement(s.n,{icon:"check-circle",color:"red",accessibilityLabel:a.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites"),size:32}):r.createElement(s.b,{height:32,width:32,shape:"circle",dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}}});var n={text:a.a._("Sent","Sent a board collaborator invite"),color:"gray",size:"sm",disabled:!0,inline:!0};return e||(n.text=a.a._("Invite","Add board collaborator invite"),n.disabled=Boolean(!t)),r.createElement(s.c,n)}(i,u)))))}var d=n("0Wmr");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n){var r=e.id;return t===n.findIndex(function(e){return e.id===r})}var v=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=h(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==p(o)&&"function"!=typeof o?b(r):o,y(b(b(n)),"state",{selectedCollaborators:[],showCollabList:!1,showSocialConnectPanel:!1,typeaheadSuggestions:[],value:""}),y(b(b(n)),"handleTextFieldChange",function(e){var t=e.value;n.setState({value:t})}),y(b(b(n)),"handleCollaboratorClick",function(e){var t=e.id,r=e.type;n.isIdSelected[t]=!n.isIdSelected[t];var o=n.state.selectedCollaborators.concat([e]),a="email"===r?d.c:d.d;n.props.onSelectedCollaboratorsChange({id:t,resource:a}),n.setState({selectedCollaborators:o})}),y(b(b(n)),"handleTypeaheadSuggestionsChange",function(e){n.setState({typeaheadSuggestions:e})}),y(b(b(n)),"handleToggleCollabList",function(){n.setState(function(e){return{showCollabList:!e.showCollabList}})}),y(b(b(n)),"isIdSelected",{}),n}var n,c,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(c=[{key:"render",value:function(){var e=this,t=this.state,n=t.value,c=t.showCollabList,d=this.props.inCollabInBoardCreateExperiment,p=(""===n?this.props.shareSuggestions:this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:n,valid:Object(l.g)(n)}).concat(this.props.shareSuggestions).filter(g)).map(function(t,n){return function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){var o=r.createElement(s.a,{name:e.title||e.full_name,src:e.image_medium_url,size:"md"});return r.createElement(u,{img:o,onClick:function(){return n(e)},selected:t,title:e.full_name,username:e.username})}if("email"===e.type){var i,c,d=e.id,p=e.valid,f=r.createElement(s.b,{shape:"circle",color:"lightGray",height:40,width:40,display:"flex",justifyContent:"center",alignItems:"center"},r.createElement(s.n,{color:"darkGray",icon:"envelope",size:20,accessibilityLabel:a.a._("Email icon","Email icon on board create modal")})),h=Object(l.c)(a.a._("Email {{ email }}"),{email:d});return t?(i=a.a._("Done!","Text that lets the user know we sent the board invite email"),c=function(){}):(i=p?a.a._("Click to send!","Text that lets the user know they can successfully send a board invite email"):a.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet"),c=function(){return p?n(e):void 0}),r.createElement(u,{body:i,img:f,onClick:c,selected:t,title:h,valid:p})}}(t,e.isIdSelected[t.id],e.handleCollaboratorClick)}).map(function(e,t){return o.a.createElement("li",{key:t},e)}),f=d?o.a.createElement(s.P,{onTouch:this.handleToggleCollabList},o.a.createElement(s.d,null,o.a.createElement(s.b,{display:"flex",alignItems:"center",justifyContent:"between",paddingX:3,marginTop:3,marignBottom:1,paddingY:3},o.a.createElement(s.K,{size:"md"},a.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create")),o.a.createElement(s.n,{accessibilityLabel:"",icon:c?"arrow-down":"arrow-forward"})))):o.a.createElement(s.b,{paddingX:3,marginBottom:4,marginTop:3,paddingY:3},o.a.createElement(s.K,{size:"md"},a.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create")));return o.a.createElement(s.b,{display:"flex",direction:"column",height:"100%"},f,(d&&c||!d)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(s.b,{paddingX:3,marginTop:2,marginBottom:4,width:"100%"},o.a.createElement(s.b,{flex:"grow"},o.a.createElement(i.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:n},o.a.createElement(s.D,{id:"CollaboratorInviteSearchField",accessibilityLabel:a.a._("Search for collaborators by name or email"),onChange:this.handleTextFieldChange,placeholder:a.a._("Search by name or email"),value:n})))),o.a.createElement(s.b,{paddingX:3,overflow:"scrollY"},o.a.createElement("ul",null,p))))}}])&&f(n.prototype,c),v&&f(n,v),t}();y(v,"defaultProps",{shareSuggestions:[]});t.a=Object(c.b)({name:"ShareSuggestionsResource",key:"shareSuggestions"},{allowStale:!1})(v)},Kqiz:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("7HzE"),i=n("Ivf5"),c=n("D+W/"),l=n("Qo1m"),s=n("Reqc"),u=n("AlW1"),d=n("9Y9K"),p=n("UmN8"),f=n("JXQe"),h=n("kIql"),m=n("+U6O");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){function t(){var e,n,r,o,a,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return r=this,o=(e=g(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==b(o)&&"function"!=typeof o?w(r):o,a=w(w(n)),c=function(e){e.preventDefault(),n.props.onBoardCreate()},(i="handleBoardCreateFormSubmit")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.createBoardError,n=e.inputName,r=e.nameValidatorErrors,a=e.onCancel,i=e.onChangeBoardName,u=e.onChangeBoardPrivacy,d=e.onInvite,h=e.privacy,b=e.saving,y=e.showTitle,g=e.isAdAccountOwner,v=e.viewer,w=0===r.length,_=h===c.a.BoardPrivacy.SECRET,E=v.isAuth&&0===v.boardCount;return o.a.createElement(m.b,{color:"white",height:"100%",position:"absolute",width:"100%",top:!0,left:!0},o.a.createElement("form",{onSubmit:this.handleBoardCreateFormSubmit,style:{height:"100%"}},o.a.createElement(m.b,{direction:"column",display:"flex",height:"100%"},y&&o.a.createElement(m.b,{display:"flex",marginTop:3,paddingX:6,paddingY:3},o.a.createElement(m.K,{size:"xl",bold:!0},l.a._("Create board"))),o.a.createElement(m.b,{padding:3},o.a.createElement(m.b,{marginBottom:2},o.a.createElement(m.q,{htmlFor:"boardEditName"},o.a.createElement(m.K,null,l.a._("Name")))),o.a.createElement(m.b,null,o.a.createElement(m.M,{errorMessage:r.join(", "),id:"boardEditName",name:"boardName",onChange:function(e){var t=e.value;return i(t)},placeholder:l.a._('Like "Places to Go" or "Recipes to Make"'),value:n}))),o.a.createElement(m.j,null),g&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.b,{padding:3},o.a.createElement(m.b,{marginBottom:2},o.a.createElement(m.q,{htmlFor:"secret"},o.a.createElement(m.K,null,l.a._("Secret","secret board")))),o.a.createElement(m.b,null,o.a.createElement(m.I,{onChange:u,id:"secret",switched:_}))),o.a.createElement(m.j,null),o.a.createElement(m.b,{display:"flex",flex:"grow",overflow:"hidden"},o.a.createElement(m.b,{width:"100%"},o.a.createElement(p.a,{name:"web_collaborators_in_board_create_v3",isEligible:E},function(e){var t=e.anyEnabled;return o.a.createElement(f.a,{onSelectedCollaboratorsChange:d,inCollabInBoardCreateExperiment:t})}))),o.a.createElement(m.j,null)),!g&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.b,{padding:3},o.a.createElement(m.b,{marginBottom:2},o.a.createElement(m.q,{htmlFor:"protected"},o.a.createElement(m.K,null,l.a._("Protected board (not listed on user's profile)","protected board")))),o.a.createElement(m.b,null,o.a.createElement(m.I,{onChange:function(){},id:"protected",switched:!0,disabled:!0}))),o.a.createElement(m.j,null)),o.a.createElement(m.b,{padding:6},!!t&&o.a.createElement(m.b,{marginBottom:3},o.a.createElement(m.K,{align:"center",bold:!0,color:"red",size:"sm"},t)),o.a.createElement(m.b,{display:"flex",justifyContent:"between"},o.a.createElement(m.c,{inline:!0,onClick:a,text:l.a._("Cancel","cancel board create")}),o.a.createElement(s.b,{disabled:!n.trim()||!w||!!t||b,submitting:b,text:l.a._("Create","create a new board")}))))))}}])&&y(n.prototype,a),i&&y(n,i),t}(),E=Object(d.compose)(h.a,u.a)(_),S=n("vBjq"),C=n("Y2BC"),O=n("OUI7"),j=n("cSL5");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var B=function(e){function t(){var e,n,r,o,a,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return r=this,o=(e=P(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==k(o)&&"function"!=typeof o?T(r):o,a=T(T(n)),c=function(e){var t=n.props,r=t.board,o=t.sectionsResource.data;return e.length>=j.a?[{items:Object(O.a)([r],e),customProps:{inSectionSelection:!0}},{items:Object(O.a)(o,e,"title")}]:[{items:[r],customProps:{inSectionSelection:!0}},{items:o}]},(i="getSections")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.sectionsResource,n=t.error,r=t.isLoaded,a=e.boardSavedTo,i=e.isSelectMode,c=e.onSectionCreate,s=e.onSectionSelected,u=e.pinId;return o.a.createElement(j.b,{isSelectMode:i,boardSavedTo:a,createButtonLabel:l.a._("Add section","Button for creating a board section"),hasLoadError:!!n,isLoaded:r,getSections:this.getSections,onCreate:c,onSelected:s,pinId:u})}}])&&x(n.prototype,a),i&&x(n,i),t}(),R=Object(C.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:function(e){return{board_id:e.board.id}}})(B),L=n("7Iyi"),D=n("NmcB");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=2,W=3,U=void 0,Y=function(e){var t=[],n=[];return e.forEach(function(e){e.name.match(/^\d/)?n.push(e):t.push(e)}),t.concat(n)};function G(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){H(e,t,n[t])})}return e}({},e?{pin_id:e}:{},t?{username:t}:{},n?{advertiser_id:n,filter:"protected"}:{},{field_set_key:"board_picker",limit:U,shortlist_suggestions:z})}var q=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=N(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==A(o)&&"function"!=typeof o?K(r):o,H(K(K(n)),"getSections",function(e){var t=n.props.boardResource.data;if(!t)return[];var r=t.all_boards,o=t.boards_shortlist,a=Y(r);return a.length<=W?[{items:a}]:e.length>=j.a?[{items:Object(O.a)(a,e)}]:[o.length?{items:o,title:l.a._("Top choices")}:{items:[]},{items:a,title:l.a._("All boards","title for board picker all boards section")}]}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.boardResource,n=t.data,r=t.error,a=t.isLoaded,i=e.boardSavedTo,c=e.isSelectMode,l=e.onBoardCreate,s=e.onBoardSelected,u=e.pinId,d=a&&!!n&&n.all_boards.length<=W;return o.a.createElement(j.b,{isSelectMode:c,boardSavedTo:i,hasLoadError:!!r,hasLowBoardCount:d,isLoaded:a,getSections:this.getSections,onCreate:l,onSelected:s,pinId:u})}}])&&F(n.prototype,a),i&&F(n,i),t}();var Q=Object(d.compose)(Object(i.connect)(function(e){var t=e.advertiser,n=e.viewer;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}}),Object(C.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function(e){return G(e.pinId,e.username,e.advertiser_id)}}))(q);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=J(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==V(o)&&"function"!=typeof o?$(r):o,ee($($(n)),"state",{newName:"",selectedSectionBoard:n.props.boardWithSection||null,showCreate:n.props.showCreate||!1,inviteQueue:{}}),ee($($(n)),"close",function(){var e=n.state,t=e.selectedSectionBoard,r=e.showCreate,o=n.props.onClose;r?n.setState({showCreate:!1},n.manageModalTitle):t?n.setState({selectedSectionBoard:null},n.manageModalTitle):o()}),ee($($(n)),"sendInvites",function(e){var t=n.state.inviteQueue;Object.keys(t).forEach(function(n){t[n].resource(e.id,[n])})}),ee($($(n)),"handleInvite",function(e){var t=n.state.inviteQueue;if(t[e.id]){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ee(e,t,n[t])})}return e}({},t);delete r[e.id],n.setState({inviteQueue:r})}else{var o=Object.assign({},t,ee({},e.id,e));n.setState({inviteQueue:o})}}),ee($($(n)),"handleBoardCreate",function(e){var t=n.props.onBoardCreated;n.handleBoardSave(e,!0),t&&t(e)}),ee($($(n)),"handleBoardSave",function(e,t){var r=n.state.selectedSectionBoard,o=n.props,a=o.onBoardSave,i=o.invalidatePinBetterSaveResource;if((0,o.invalidateResource)(),i(),r&&"board_section"===e.type)return a(r,e,t);var c=e,l=c.section_count;!r&&(void 0===l?0:l)>0?n.setState({selectedSectionBoard:c},n.manageModalTitle):(n.sendInvites(e),a(c,void 0,t))}),ee($($(n)),"handleCreate",function(e){return function(t){t=t||"",n.setState({newName:t,showCreate:!0},n.manageModalTitle);var r=e?13105:13025,o=e?10306:249;Object(D.a)(101,{component:r,element:o})}}),ee($($(n)),"manageModalTitle",function(){var e=n.props.setModalTitle,t=n.state,r=t.selectedSectionBoard,o=t.showCreate;e&&e(o&&r?l.a._("Add section","Repin title for making a board section"):o&&!r?l.a._("Create board","Repin title for making a new board"):r&&!o?l.a._("Choose section","Repin title for choosing a board section"):l.a._("Choose board","Repin title for choosing a board"))}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.isRepin,r=e.isSelectMode,a=e.pinId,i=e.setModalTitle,c=e.suggestedBoardTitle,l=this.state,s=l.newName,u=l.selectedSectionBoard,d=l.showCreate,p=!!u,f=!i;return o.a.createElement(m.b,{display:"flex",width:"100%",position:"relative"},o.a.createElement(m.b,{width:"100%",display:"flex",direction:"column",marginTop:4},u?o.a.createElement(R,{isSelectMode:r,board:u,boardSavedTo:t,onSectionCreate:this.handleCreate(p),onSectionSelected:this.handleBoardSave}):o.a.createElement(Q,{isSelectMode:r,boardSavedTo:t,onBoardCreate:this.handleCreate(p),onBoardSelected:this.handleBoardSave,pinId:a})),d&&!u&&o.a.createElement(E,{prefilledName:s||c,onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,showTitle:f}),d&&u&&o.a.createElement(S.a,{board:u,completeCreateSectionAction:this.handleBoardSave,initialName:s,isRepin:n,onClearModal:this.close,showTitle:f}))}}])&&X(n.prototype,r),a&&X(n,a),t}();var ne=Object(i.connect)(null,function(e,t){return{invalidateResource:function(){e(Object(L.f)("BoardPickerBoardsResource",G(t.pinId)))},invalidatePinBetterSaveResource:function(){e(Object(L.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}})(te),re=n("iz36"),oe=n("dsfX"),ae=n("RiVL"),ie=n("n/kK"),ce=n("TYRv"),le=n("aqOH"),se=n("SMmS");function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return o=this,a=(e=pe(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==ue(a)&&"function"!=typeof a?he(o):a,me(he(he(n)),"state",{isFacebookChecked:n.props.resourceLoaded&&!!n.props.userSocial&&n.props.userSocial.facebook_publish_stream_enabled,isTwitterChecked:n.props.resourceLoaded&&!!n.props.userSocial&&n.props.userSocial.twitter_publish_enabled}),me(he(he(n)),"handleTwitterCheckboxChanged",function(){var e=!n.state.isTwitterChecked;n.setState({isTwitterChecked:e}),n.props.onSocialConnect(ce.a.TWITTER,e)}),me(he(he(n)),"handleFacebookCheckboxChanged",function(){var e=!n.state.isFacebookChecked;e?ie.a.maybeRequestFbTimelinePermission({success:function(){n.setState({isFacebookChecked:!0}),le.default.set("facebook_publish_stream_enabled",e),n.props.onSocialConnect(ce.a.FACEBOOK,e)},error:function(){n.setState({isFacebookChecked:!1}),le.default.set("facebook_publish_stream_enabled",!1),n.props.onSocialConnect(ce.a.FACEBOOK,e)}}):(n.setState({isFacebookChecked:!1}),le.default.set("facebook_publish_stream_enabled",!1),n.props.onSocialConnect(ce.a.FACEBOOK,e))}),me(he(he(n)),"renderFacebookShare",function(){return r.createElement(m.b,{display:"flex",alignItems:"center",marginLeft:2},r.createElement(m.e,{checked:n.state.isFacebookChecked,id:"share_facebook",onChange:n.handleFacebookCheckboxChanged,size:"sm"}),r.createElement(m.q,{htmlFor:"share_facebook"},r.createElement(m.b,{marginLeft:2},r.createElement(m.K,null,l.a._("Post to Facebook")))))}),me(he(he(n)),"renderTwitterShare",function(){return r.createElement(m.b,{display:"flex",alignItems:"center",marginLeft:5},r.createElement(m.e,{checked:n.state.isTwitterChecked,id:"share_twitter",onChange:n.handleTwitterCheckboxChanged,size:"sm"}),r.createElement(m.q,{htmlFor:"share_twitter"},r.createElement(m.b,{marginLeft:2},r.createElement(m.K,null,l.a._("Post to Twitter")))))}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,r["Component"]),n=t,(o=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.resourceLoaded,n=e.userSocial;t&&n&&this.setState({isFacebookChecked:!!n.facebook_publish_stream_enabled,isTwitterChecked:!!n.twitter_publish_enabled})}},{key:"render",value:function(){var e=this.props,t=e.resourceLoaded,n=e.userSocial;if(!t||!n)return null;var o=n.connected_to_facebook,a=n.twitter_url;return!(!o&&!a)&&r.createElement(m.b,{display:"flex",padding:2},o&&this.renderFacebookShare(),a&&this.renderTwitterShare())}}])&&de(n.prototype,o),a&&de(n,a),t}(),ye=Object(d.compose)(Object(i.connect)(function(e){var t=e.viewer;return{userId:t.isAuth?t.id:""}}),Object(se.b)({name:"UserResource",key:"userSocial",options:function(e){return{user_id:e.userId,field_set_key:"social_connect"}}}))(be),ge=n("Qcp0"),ve=(n("rHfS"),n("bWet")),we=n("ms9C"),_e=n("FIpZ");function Ee(e){var t,n,o="-7 -7 30 30";switch(e.name){case"facebook":n=r.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#3B5998"}),t=r.createElement("path",{fill:"#fff",d:"M9.267 16V8.702h2.506l.376-2.845H9.267V4.041c0-.823.234-1.384 1.442-1.384l1.541-.001V.112A21.09 21.09 0 0 0 10.005 0C7.783 0 6.262 1.325 6.262 3.76v2.097H3.75v2.845h2.512V16h3.005z"});break;case"messenger":n=r.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#1DA1F2"}),t=r.createElement("path",{fill:"#fff",d:"M8 0C3.582 0 0 3.316 0 7.407c0 2.332 1.163 4.41 2.981 5.769V16l2.724-1.495c.727.201 1.497.31 2.295.31 4.418 0 8-3.317 8-7.408C16 3.317 12.418 0 8 0zm.795 9.975L6.758 7.802 2.783 9.975l4.372-4.642 2.087 2.173 3.926-2.173-4.373 4.642z"});break;case"pinterest":o="0 0 16 16",t=r.createElement("path",{fill:"#e60023",d:"M5.644 15.648A8.01 8.01 0 0 0 8 16a8 8 0 1 0-2.847-.521c-.073-.625-.151-1.655.017-2.378.145-.621.934-3.958.934 -3.958s-.238-.477-.238-1.183c0-1.107.642-1.934 1.44-1.934.68 0 1.008.51 1.008 1.122 0 .683-.435 1.705-.66 2.652-.187.792.398 1.439 1.18 1.439 1.416 0 2.504-1.493 2.504-3.647 0-1.907-1.37-3.24-3.327 -3.24-2.266 0-3.596 1.7-3.596 3.456 0 .684.264 1.418.593 1.817a.238.238 0 0 1 .055.229c-.06.252-.195.792-.221.903-.035.146-.116.177-.267.107C3.581 10.4 2.96 8.946 2.96 7.778c0-2.512 1.825-4.82 5.262-4.82 2.763 0 4.91 1.97 4.91 4.6 0 2.745-1.73 4.954-4.133 4.954-.807 0-1.566-.42-1.825-.914 0 0-.4 1.52-.496 1.893-.188.722-.71 1.637-1.033 2.157z"});break;case"link":n=r.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#EFEFEF"}),t=r.createElement("path",{fill:"#8e8e8e",d:"M6.555 7.236L4.848 8.943l-2.389 2.39 2.21 2.21 2.39-2.39 1.707-1.707.82.821a.92.92 0 0 1 .006 1.301l-4.166 4.167a.926.926 0 0 1-1.302-.005L.272 11.878a.92.92 0 0 1-.005-1.302L4.433 6.41a.924.924 0 0 1 1.302.005l.82.821zM9.45 8.764l1.707-1.707 2.389-2.389-2.21-2.211-2.39 2.389-1.707 1.707-.82-.82a.921.921 0 0 1-.006-1.302L10.578.265a.924.924 0 1 1.301.006l3.853 3.852a.92.92 0 0 1 .004 1.301l-4.165 4.167a.924.924 0 0 1-1.302-.006l-.82-.82zm-4.573.889l4.779-4.78 1.473 1.474-4.779 4.78-1.473-1.474z"});break;default:t=null}return r.createElement("svg",{width:"36",height:"36",viewBox:o},n,t)}var Se=n("dMYx");function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=je(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ce(o)&&"function"!=typeof o?xe(r):o,Pe(xe(xe(n)),"state",{showShareLink:!1,pinterestProfileLink:"",fb:null}),Pe(xe(xe(n)),"selectText",function(e){e.target.select()}),Pe(xe(xe(n)),"openSocialDialog",function(e,t){var r,o=n.props,a=o.handleShare,i=o.dismissModal,c=o.experienceComplete;switch(e){case"facebook":ve.default.logIn(n.state.fb,function(){we.a.shareFacebookInvite(n.getShareOptions(5))});break;case"messenger":ve.default.logIn(n.state.fb,function(){we.a.shareFbMessengerInvite(n.getShareOptions(6))});break;case"link":r=n.getShareOptions(12),we.a.createAndLogShareInvite(r).then(function(e){var t=e.invite_url;t?n.setState({pinterestProfileLink:t,showShareLink:!0}):a&&a()});break;default:a&&a()}"link"!==e&&(c&&c(),i(!0))}),Pe(xe(xe(n)),"handleShareLinkDismiss",function(e){n.setState({showShareLink:!1})}),Pe(xe(xe(n)),"handleFacebookClick",function(e){n.openSocialDialog("facebook",e)}),Pe(xe(xe(n)),"handleMessengerClick",function(e){n.openSocialDialog("messenger",e)}),Pe(xe(xe(n)),"handlePinterestClick",function(e){n.openSocialDialog("pinterest",e)}),Pe(xe(xe(n)),"handleLinkClick",function(e){n.openSocialDialog("link",e)}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;ve.default.ensureInit(function(t){return e.setState({fb:t})})}},{key:"getShareOptions",value:function(e){var t=this.props.pin;return{invite_channel:e,object_type:Se.a.PIN,object_id:t.id,name:"",description:t.description||"",path:"/pin/".concat(t.id,"/"),picture:t.images&&t.images["236x"]&&t.images["236x"].url||""}}},{key:"render",value:function(){var e=this.props.close,t=this.state,n=t.pinterestProfileLink,r=t.showShareLink,a=o.a.createElement(_e.a,{link:n,handleClick:this.handleShareLinkDismiss,handleFocus:this.selectText}),i=function(e,t,n){var i="share-upsell-label-"+e,c="";return"facebook"===e?c="#3b5998":"messenger"===e&&(c="#1da1f2"),"link"===e&&r?a:o.a.createElement(m.P,{onTouch:function(e){var t=e.event;return n(t)},fullWidth:!1},o.a.createElement(m.b,{display:"flex",paddingY:2,alignItems:"center"},o.a.createElement(Ee,{name:e}),o.a.createElement(m.h,{xs:1}),o.a.createElement("div",{id:i},o.a.createElement(m.K,{size:"xl",bold:!0},o.a.createElement("span",{style:{color:c}},t)))))};return o.a.createElement(m.b,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},o.a.createElement("div",null,o.a.createElement(m.b,{paddingX:6,flex:"none"},o.a.createElement(m.b,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:16,right:16}}},o.a.createElement(m.o,{icon:"cancel",onClick:e,accessibilityLabel:l.a._("Cancel"),size:"sm"})),o.a.createElement(m.m,{size:"md"},l.a._("Saved!","Save pin to board")),o.a.createElement(m.b,{paddingY:3,marginRight:8},o.a.createElement(m.K,{size:"xl"},l.a._("Know someone who might like it?","Upsell share a recently saved pin to board"))),o.a.createElement(m.b,{paddingY:2,flex:"none"},i("facebook",l.a._("Send on Facebook"),this.handleFacebookClick),i("messenger",l.a._("Send on Messenger"),this.handleMessengerClick),i("pinterest",l.a._("Send on Pinterest"),this.handlePinterestClick),i("link",l.a._("Send a link"),this.handleLinkClick)))),o.a.createElement(m.h,{xs:1}))}}])&&Oe(n.prototype,a),i&&Oe(n,i),t}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return Fe}),n.d(t,"c",function(){return Me}),n.d(t,"b",function(){return Ke});var Fe=4e3,Ne=660,Me={LOADING:"loading",SUCCESS:"success"},Ke=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return o=this,a=(e=Re(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Te(a)&&"function"!=typeof a?De(o):a,Ae(De(De(n)),"state",{experienceComplete:function(){},experienceDismiss:function(){},height:0}),Ae(De(De(n)),"pinImageRef",Object(r.createRef)()),Ae(De(De(n)),"unmounted",!1),Ae(De(De(n)),"safeSetState",function(e,t){n.unmounted?t&&t():n.setState(e,t)}),Ae(De(De(n)),"scrollToRelatedPins",function(){document&&document.documentElement&&"scrollBehavior"in document.documentElement.style?window.scroll({top:n.state.height,left:0,behavior:"smooth"}):window.scrollTo(0,n.state.height)}),Ae(De(De(n)),"_adjustHeightToPin",function(){0===n.state.height&&(n.safeSetState({height:Ne}),n.props.onHeightChange&&n.props.onHeightChange(Ne))}),Ae(De(De(n)),"close",function(){var e=n.props.handleAbort;n.experienceDismiss&&n.experienceDismiss(),e()}),Ae(De(De(n)),"dismissModal",function(e){var t=n.props.dismissModal;n.experienceDismiss&&!e&&n.experienceDismiss(),t&&t()}),n}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){this._adjustHeightToPin()}},{key:"componentDidUpdate",value:function(){this._adjustHeightToPin()}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardSavedTo,r=t.boardWithSection,i=t.color,c=t.displaySuccessAnimation,s=t.handleNewBoardAnimationCompletion,u=t.handleSocialConnectSet,d=t.handleSaveToBoard,p=t.isInModal,f=t.newPin,h=t.pin,b=t.onCloseAndShare,y=t.onBoardCreated,g=t.sensitiveContentNotice,v=t.setModalTitle,w=t.showCreate,_=t.showSharingUpsell,E=t.shouldRenderContent,S=t.suggestedBoardTitle,C=t.updateDescription;if(!h||!h&&!h.resourceLoaded||!E)return null;var O=this.state.height,j=null;f&&f.board&&(j=f.board.name);var k=O||660,x=g&&g.title||this.props.modalTitle,P=g?o.a.createElement(ge.a,{notice:g,inModal:!0}):o.a.createElement(m.b,{position:"relative",height:k,width:"100%",display:"flex",justifyContent:"center"},o.a.createElement(m.b,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",shape:"rounded",width:"100%"},o.a.createElement(m.b,{width:"40%",direction:"column",display:"flex",justifyContent:"between",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #f5f5f5"}}},o.a.createElement(m.b,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"start",direction:"column",marginTop:3},o.a.createElement(ae.a,{color:i,pin:h,pinImageRef:this.pinImageRef,updateDescription:C})),o.a.createElement(ye,{onSocialConnect:u})),_?o.a.createElement(re.a,{placementId:33,experienceIds:[500388]},function(t){var n=t.complete,r=t.dismiss;t.display_data;return e.experienceComplete=n,e.experienceDismiss=r,o.a.createElement(Ie,{handleShare:b,close:e.close,experienceComplete:n,pin:h,dismissModal:e.dismissModal})}):o.a.createElement(m.b,{display:"flex",width:"60%"},o.a.createElement(ne,{boardSavedTo:n,boardWithSection:r,isRepin:!0,onBoardCreated:y,onBoardSave:d,onClose:this.close,pinId:h.id,showCreate:w,suggestedBoardTitle:S,setModalTitle:p?v:void 0}))),c&&o.a.createElement(a.b,{onDismiss:function(){s(),e.dismissModal()},pin:h,pinImageRef:this.pinImageRef,selectedBoardName:j}));return p?o.a.createElement(oe.b,{accessibilityCloseLabel:l.a._("Close"),accessibilityModalLabel:x,onDismiss:this.close,heading:x,size:"lg"},P):P}}])&&Be(n.prototype,i),c&&Be(n,c),t}();Ae(Ke,"defaultProps",{pwtAuxData:{}})},LxOv:function(e,t,n){"use strict";var r=n("aqOH"),o=function(e){var t=document.documentElement,n=t.scrollWidth-t.clientWidth,o=t.scrollHeight-t.clientHeight;e&&(n=Math.max(n,0),o=Math.max(o,0)),r.default.isAuthenticated()||(o=340),window.resizeBy(n,o)},a={};a.open=function(e,t,n){var r=function(e,t){var n=screen.width,r=screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(r>t?Math.round((r-t)/2):0)}(t,n);window.open(e,void 0,r)},a.shrinkWrap=function(){o(!1)},a.contain=function(){o(!0)},a.resizeViewPort=function(e,t){window.outerWidth?window.resizeTo(e+(window.outerWidth-window.innerWidth),t+(window.outerHeight-window.innerHeight)):(window.resizeTo(500,500),window.resizeTo(e+(500-document.body.offsetWidth),t+(500-document.body.offsetHeight)))},t.a=a},MFVv:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("D+W/"),o=function(e,t){if(!t)return e;var n=new RegExp(/http(s?):/);if(!n.test(e)){var r=n.exec(t);if(r&&r.length)e=r[0]+e}return e},a=function(e){var t=r.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION;return{clamped:e.length>50?e.slice(0,50).trim()+"…":e,full:e.length>t?e.slice(0,t):e}}},"QMJ+":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("GyhR"),o=n("D+W/"),a=n("q579"),i=n("+U6O");function c(e){var t=e.url,n=e.description,c=e.color;return c=c||o.a.DEFAULT_IMAGELESS_PIN_COLOR,r.createElement(i.b,{shape:"rounded",height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:c}}},r.createElement(i.b,{maxHeight:200,padding:4,overflow:"hidden"},t&&r.createElement(i.b,{marginBottom:2},r.createElement(i.K,{color:"white",size:"xs"},a.a.parse(t).hostname||t)),r.createElement(i.b,{maxHeight:144},r.createElement(i.K,{bold:!0,color:"white",overflow:"normal",size:"lg"},n))))}},Qcp0:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("iJ35"),i=n("+U6O");function c(e){var t=e.action,n=e.alignCenter,r=t.title,c=t.description,l=t.button,s=r&&r.text,u=c&&c.text,d=l&&l.text||"",p=l&&l.link||"",f=l&&l.link?l.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"";return l&&d&&p.startsWith("http")?o.a.createElement(i.b,null,o.a.createElement(i.b,{marginBottom:1},o.a.createElement(i.K,{bold:!0,align:n?"center":"left"},""!==d?d:"Visit")),o.a.createElement(i.b,{marginBottom:1},o.a.createElement(a.b,{className:"underlineLink",to:p},o.a.createElement("span",{style:{textDecoration:"underline"}},o.a.createElement(i.K,{align:n?"center":"left",truncate:!0},f))))):o.a.createElement(i.b,null,!!s&&o.a.createElement(i.b,{marginBottom:1},o.a.createElement(i.K,{bold:!0,align:n?"center":"left"},s)),!!u&&o.a.createElement(i.b,{marginBottom:1},o.a.createElement(i.K,{align:n?"center":"left"},u)))}n.d(t,"a",function(){return u});var l={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},s={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function u(e){var t=e.inModal,n=e.notice,r=n.title,a=n.description,u=n.actions,d=void 0===u?[]:u,p=a&&a.text||"",f=1===d.length;return o.a.createElement(i.b,{shape:"rounded",padding:6,dangerouslySetInlineStyle:{__style:t?s:l}},!!r&&!t&&o.a.createElement(i.b,{marginBottom:2,display:"flex"},o.a.createElement(i.m,{size:"xs"},r)),!!p&&o.a.createElement(i.b,{marginBottom:4},o.a.createElement("span",{style:{whiteSpace:"pre-wrap"}},o.a.createElement(i.K,{overflow:"normal",align:t?"center":"left"},p))),!!d.length&&o.a.createElement(i.b,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:t?"column":"row"},d.map(function(e){return o.a.createElement(i.b,{column:t||f?12:6,paddingY:1,paddingX:2,key:JSON.stringify(e)},o.a.createElement(c,{action:e,alignCenter:t||f}))})))}},RiVL:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("Y2BC"),c=n("Irlq"),l=n("+U6O"),s=185;var u=Object(i.b)({name:"PinSaveStatusResource",key:"saveStatusResource",options:function(e){return{id:e.pin.id}}},{allowStale:!1})(function(e){var t=e.saveStatusResource.data;return t&&t.pinned_to_board?o.a.createElement(l.b,null,o.a.createElement(l.b,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,shape:"rounded",width:s},o.a.createElement(l.K,{align:"center",bold:!0,color:"white",size:"sm"},Object(c.b)(a.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" "))),o.a.createElement(l.b,{display:"flex",justifyContent:"center",marginTop:-3},o.a.createElement(l.n,{accessibilityLabel:"",color:"red",icon:"heart",size:26}))):null}),d=n("P4K9"),p=n("QMJ+");n("hvnN");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(e,n){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=m(t).call(this,e,n),r=!a||"object"!==f(a)&&"function"!=typeof a?y(o):a,g(y(y(r)),"handleChange",function(e){r.props.onChange&&r.props.onChange.call(y(y(r)),e.target.value,e.target.selectionStart),r.setState({value:e.target.value})}),g(y(y(r)),"updateCursor",function(e){r.props.onCursorChange&&r.props.onCursorChange(e.target.selectionStart)}),g(y(y(r)),"handleKeyUp",function(e){r.props.onKeyUp&&r.props.onKeyUp(e),r.updateCursor(e)}),g(y(y(r)),"handleKeyDown",function(e){r.props.onKeyDown&&r.props.onKeyDown(e)}),g(y(y(r)),"handleFocus",function(e){r.props.onFocus&&r.props.onFocus(e),r.updateCursor(e)}),g(y(y(r)),"handleBlur",function(e){r.props.onBlur&&r.props.onBlur(e)}),g(y(y(r)),"handleClick",function(e){r.props.onClick&&r.props.onClick(e),r.updateCursor(e)}),r.state={isFocused:r.props.focused||!1,value:r.props.value},r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.focusIfNeeded()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isFocused:e.focused,value:e.value})}},{key:"componentDidUpdate",value:function(){this.focusIfNeeded()}},{key:"focusIfNeeded",value:function(){this.state.isFocused&&document.activeElement!==this._textArea&&this._textArea.focus()}},{key:"select",value:function(){this._textArea.select()}},{key:"render",value:function(){var e=this,t=this.props;return o.a.createElement("textarea",{className:t.className,cols:t.cols,disabled:t.disabled?"disabled":"",id:t.id,name:t.name,onBlur:this.handleBlur,onChange:this.handleChange,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,placeholder:t.placeholder,ref:function(t){e._textArea=t},rows:t.rows,style:t.style,value:this.state.value})}}])&&h(n.prototype,a),i&&h(n,i),t}();v.defaultProps={validators:[]};var w=function(e){var t=e.allowChange,n=e.description,o=e.editing,i=e.onHandleDescriptionBlur,c=e.onHandleDescriptionEdit,s=e.onRefTextArea,u=e.onChange,d=e.onCursorChange,p=function(e){var t=e.description,n=e.editing,o=e.allowChange;return r.createElement(l.b,{display:"flex",justifyContent:"between",marginLeft:-1,marginRight:-1},r.createElement(l.b,{paddingX:1,overflow:"hidden"},r.createElement(l.K,{bold:!0,color:t.clamped?"darkGray":"gray",size:"sm"},function(e,t){return e.clamped?e.clamped:t?a.a._("Tell us about this Pin..."):""}(t,o))),r.createElement(l.b,{paddingX:1},!n&&o&&r.createElement(l.n,{accessibilityLabel:a.a._("Edit description"),icon:"edit"})))};return r.createElement(l.b,{mdDisplay:"flex"},o?r.createElement(v,{focused:!0,onBlur:i,onFocus:t&&c,onChange:u,onCursorChange:d,placeholder:a.a._("Tell us about this Pin..."),style:t&&{outline:"none",maxHeight:120,minHeight:60,width:"100%"},ref:s,rows:3,value:n.full}):r.createElement(l.b,{width:"100%"},t?r.createElement(l.P,{onTouch:c},r.createElement(p,{description:n,editing:o,allowChange:t})):r.createElement(p,{description:n,editing:o,allowChange:t})))},_=n("MFVv"),E=n("UmN8"),S=n("NmcB");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return L});var I=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,T=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/,B=0,R="g",L=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=j(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==C(o)&&"function"!=typeof o?x(r):o,P(x(x(n)),"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:n.props.pin&&n.props.pin.description&&n.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,editedBefore:!1,flyoutOpened:!1}),P(x(x(n)),"onDescriptionChange",function(e,t){var r=new RegExp(I,R),o="";if(t<e.length){for(var a=r.exec(e),i=r.lastIndex<t;a&&i;)a=r.exec(e),i=r.lastIndex<t;var c=!!a&&I.test(e.slice(a.index,t));i=!!a&&a.index<t,a&&c&&i&&(o=a[B])}else{var l=T.exec(e);o=l?l[B]:""}n.updateDescription(e);var s=I.test(o),u=n.state.isHashtagFlyoutOpen?n.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");n.setState({cursorIndex:t,flyoutCursorIndex:u,description:e,hashtagQuery:o,isHashtagFlyoutOpen:s,flyoutOpened:n.state.flyoutOpened||s})}),P(x(x(n)),"onCursorChange",function(e){var t=n.state,r=t.isHashtagFlyoutOpen,o=t.flyoutCursorIndex;r&&e<o&&n.setState({isHashtagFlyoutOpen:!1})}),P(x(x(n)),"updateDescription",function(e){n.props.updateDescription&&n.props.updateDescription(e)}),P(x(x(n)),"handleDescriptionBlur",function(e){var t=e.target.value.trim(),r=n.state.isHashtagFlyoutOpen;n.updateDescription(t),n.setState({description:t,editing:r})}),P(x(x(n)),"handleDescriptionEdit",function(){n.setState({editing:!0,editedBefore:!0})}),P(x(x(n)),"handleHashtagAddition",function(e){var t=n.props.pin;Object(S.a)(101,{component:208,element:10249,hashtags:e,objectId:t.id});var r=n.state.flyoutCursorIndex,o=Number(r+n.state.hashtagQuery.length),a=n.state.description.slice(0,r)+e+" "+n.state.description.slice(o);n.updateDescription(a),n.setState({description:a,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),P(x(x(n)),"handleRefTextArea",function(e){n._textArea=e}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.color,r=t.isFirstPin,a=t.pin,i=t.pinImageRef,c=this.state,s=c.description,f=c.editing,h=c.flyoutOpened,m=c.hashtagQuery,b=c.isHashtagFlyoutOpen,y=a.images,g=a.link,v=y&&y["236x"],S=v&&v.url||a.image_base64;return o.a.createElement(l.b,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:r?"50%":"",dangerouslySetInlineStyle:{__style:h&&f?{transform:"translateY(-75px)"}:{}}},o.a.createElement(l.b,{display:"flex",direction:"column",alignItems:"center"},a&&a.id&&o.a.createElement(u,{pin:a}),o.a.createElement(l.b,{paddingY:r?9:0,width:216},o.a.createElement(l.b,{ref:i,maxHeight:h&&f?220:335,shape:"rounded",overflow:"hidden"},S?o.a.createElement(l.p,{alt:s,src:S,naturalHeight:v.height||1,naturalWidth:v.width||1}):!!g&&o.a.createElement(p.a,{color:n||"",description:s,url:g})),o.a.createElement(l.b,{marginTop:2,paddingX:2,id:"PinPanePinMeta"},o.a.createElement("div",{ref:function(t){e.anchor=t}},o.a.createElement(E.a,{name:"web_deprecate_user_note"},function(t){return!t.anyEnabled&&o.a.createElement(w,{allowChange:!a.is_native,description:Object(_.a)(s),editing:f,hashtagFlyoutOpen:b,onHandleDescriptionBlur:e.handleDescriptionBlur,onHandleDescriptionEdit:e.handleDescriptionEdit,onRefTextArea:e.handleRefTextArea,onChange:e.onDescriptionChange,onCursorChange:e.onCursorChange})}))))),this.anchor&&b?o.a.createElement(d.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:f,query:m}):null)}}])&&O(n.prototype,a),i&&O(n,i),t}()},g4pz:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("GyhR"),o=n.n(r),a="#EFEFEF",i="#333333";function c(e){var t=e.size,n=e.iconColor,r=e.backgroundColor,c=e.grayscale,l=void 0!==c&&c,s=n||(l?i:"#8E8E8E"),u=r||(l?a:"#EFEFEF");return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",version:"1.1"},o.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("circle",{fill:u,cx:"18",cy:"18",r:"18"}),o.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:s,fillRule:"nonzero"},o.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}},ms9C:function(e,t,n){"use strict";var r=n("H++a"),o=n("ePT2"),a=n("UhjI"),i=n("q579"),c=n("LxOv"),l={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function(e){var t=e.ga_category||"share_twitter";a.a.trackEvent(t,"click");var n=l._getWindowUrl(e.tweet_path,e.tweet_text);c.a.open(n,l.DIALOG_WIDTH,l.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return i.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?i.a.absolutify(e):void 0,text:t||void 0})}},s=l,u={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6},_convertToInviteObject:function(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite:function(e,t){var n=this._convertToInviteObject(e.object_type),r=e.invite_channel,a=null==e.invite_category?3:e.invite_category,i=e.object_id;return o.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:a,invite_object:n,invite_channel:r},invite_code:t,object_id:i}).callCreate()},createAndLogShareInvite:function(e){return u.createShareInviteData(e).then(function(t){return u._logShareInvite(e,t.invite_code),Promise.resolve(t)},function(e){return Promise.reject(e)})},createShareInviteData:function(e){var t=this._convertToInviteObject(e.object_type),n=e.invite_channel,r=null==e.invite_category?3:e.invite_category,a=e.object_id;return o.a.create("CreateExternalInviteResource",{invite_type:{invite_category:r,invite_object:t,invite_channel:n},object_id:a}).callCreate().then(function(e){return Promise.resolve(e.resource_response.data)},function(e){return Promise.reject(e)})},logShareInvite:function(e,t){t&&u._logShareInvite(e,t.invite_code)},shareFacebookInvite:function(e){return u.createShareInviteData(e).then(function(t){var n=t.invite_url,o=t.invite_code;return n&&r.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback:function(t){t&&!t.error_message&&u._logShareInvite(e,o)}}),Promise.resolve(t)},function(e){return Promise.reject(e)})},shareTwitterInvite:function(e){var t=this._convertToInviteObject(e.object_type);return u.createShareInviteData(e).then(function(n){var r=n.invite_url,o=n.invite_code,a=e.description;return 6===t&&e.name&&(a=e.name),r&&s.openDialog({tweet_path:r,tweet_text:a}),u._logShareInvite(e,o),Promise.resolve(n)},function(e){return Promise.reject(e)})},shareFbMessengerInvite:function(e){return u.createShareInviteData(e).then(function(t){var n=t.invite_url,o=t.invite_code;return n&&r.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback:function(t){t&&t.success&&u._logShareInvite(e,o)}}),Promise.resolve(t)},function(e){return Promise.reject(e)})}};t.a=u},rHfS:function(e,t,n){},rWj7:function(e,t,n){},vBjq:function(e,t,n){"use strict";var r=n("GyhR"),o=n("Ivf5"),a=n("D+W/"),i=n("vI2X"),c=n("Qo1m"),l=n("Reqc"),s=n("KsVg"),u=n("9Y9K"),d=n("+U6O");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=h(t).call(this,e),n=!o||"object"!==p(o)&&"function"!=typeof o?b(r):o,y(b(b(n)),"onCreateSection",function(){var e=n.props,t=e.board,r=e.dispatch,o=e.completeCreateSectionAction,a=e.pinImport;return n.setState({isSaving:!0}),r(Object(i.a)({boardId:t.id,name:n.state.inputName.trim(),pinImport:a})).then(function(e){n.setState({isSaving:!1,newSection:e}),o(e)}).catch(function(e){n.setState({createError:e.message,isSaving:!1})})}),y(b(b(n)),"handleKeyDown",function(e){var t=e.event,r=(e.value,n.state),o=r.createError,i=r.inputName;[a.a.KeyCode.ENTER,a.a.KeyCode.NUMPAD_ENTER].includes(t.which)&&!o&&i.trim()&&n.onCreateSection()}),y(b(b(n)),"handleChangeName",function(e){var t=e.value;n.setState({createError:null,inputName:t})}),y(b(b(n)),"handleInputRef",function(e){n.setState({inputRef:e})}),n.state={createError:null,inputName:e.initialName||"",inputRef:null,newSection:null,isSaving:!1},n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.createError,o=n.inputRef;!o||t.inputRef&&!r||o.focus()}},{key:"render",value:function(){var e=this.props,t=e.onClearModal,n=e.showTitle,o=e.positionRelative,a=this.state,i=a.createError,s=a.inputName,u=a.isSaving,p=!!s.trim()&&!i;return r.createElement(d.b,{xs:{display:"flexColumn"},color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:o?"relative":"absolute",shape:"rounded",width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},n&&r.createElement(d.b,{marginTop:3,paddingX:6,paddingY:3},r.createElement(d.K,{size:"xl",bold:!0},c.a._("Add section","Title in the add section modal"))),r.createElement(d.b,{padding:3},r.createElement(d.b,{marginBottom:2},r.createElement(d.q,{htmlFor:"sectionEditName"},r.createElement(d.K,{size:"sm",color:i?"red":"gray"},c.a._("Name","Board section name")))),r.createElement(d.b,null,r.createElement(d.b,{ref:this.handleInputRef},r.createElement(d.M,{id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,errorMessage:i||"",placeholder:c.a._('Like "Lighting"',"Placeholder for board section name"),type:"text",value:s})))),r.createElement(d.j,null),r.createElement(d.b,{display:"flex",flex:"grow"}),r.createElement(d.j,null),r.createElement(d.b,{padding:6},r.createElement(d.b,{display:"flex",justifyContent:"between"},r.createElement(d.c,{onClick:t,text:c.a._("Cancel","cancel section add"),inline:!0}),r.createElement(l.b,{disabled:!p||u,onClick:this.onCreateSection,submitting:u,text:c.a._("Add","add a new section")}))))}}])&&f(n.prototype,o),s&&f(n,s),t}();t.a=Object(u.compose)(Object(o.connect)(),s.a)(g)}}]);
//# sourceMappingURL=pjs-23-95359ddce6fcbd41a5ba.js.map
