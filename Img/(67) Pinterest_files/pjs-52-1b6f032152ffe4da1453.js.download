(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[52],{"/ml6":function(e,t,n){"use strict";var r=n("GyhR"),o=n("Ivf5"),a=n("SMmS"),i=n("7Iyi");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];return r=this,o=(e=s(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==c(o)&&"function"!=typeof o?f(r):o,p(f(f(n)),"fetch",function(){var e=n.props,t=e.dispatch,r=e.name,o=e.options;t(Object(i.a)(r,o))}),p(f(f(n)),"fetchMore",function(){var e=n.props,t=e.dispatch,r=e.name,o=e.options;t(Object(i.d)(r,o))}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.allowStale,n=void 0===t||t,r=e.data;n&&r||this.fetch()}},{key:"componentWillUnmount",value:function(){this.interval&&(clearInterval(this.interval),delete this.interval)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.data,r=e.isAtEnd,o=e.isFetching;return t?t({refresh:this.fetch,loadMore:this.fetchMore,data:n,isAtEnd:r,isFetching:o}):null}}])&&u(n.prototype,o),a&&u(n,a),t}();t.a=Object(o.connect)(function(e,t){var n=t.name,r=t.options,o=void 0===r?{}:r,i=e.resources,c=Object(a.a)(o,{}),u=!!(i.fetching[n]||{})[c];return i.data[n]&&i.data[n][c]?{isFetching:u,isAtEnd:"-end-"===i.data[n][c].nextBookmark,data:i.data[n][c].data}:{isFetching:u,isAtEnd:!1,data:null}})(d)},JD0j:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("/ml6"),c=n("LCmp"),u=n("+U6O");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}var n,s,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(s=[{key:"render",value:function(){var e=this,t=this.props,n=t.conversationId,r=t.onSelect,s=t.onDismiss,l=t.height;return o.a.createElement(u.b,{height:l||600,width:"100%",display:"flex",direction:"column"},o.a.createElement(u.b,{display:"flex",direction:"row",alignItems:"center",paddingY:6,paddingX:6},o.a.createElement(u.b,{flex:"grow"},o.a.createElement(u.K,{size:"xl",bold:!0},a.a._("Send a Pin back","header text for sending a Pin to a conversation thread"))),o.a.createElement(u.o,{accessibilityLabel:a.a._("Close","Icon to close the related pins send a pin back"),icon:"cancel",onClick:s})),o.a.createElement(u.b,{paddingX:4,flex:"grow",overflow:"scroll"},o.a.createElement(i.a,{name:"ConversationRelatedPinsResource",options:{conversationId:n},allowStale:!1},function(t){var n=function(t){var n=t.data,a=t.isFetching,i=t.loadMore;return o.a.createElement("div",{ref:function(t){t&&(e._gridContainer=t)}},o.a.createElement(u.v,{items:n||[],comp:function(e){var t=e.data,n=t.id,a=t.grid_description,i=t.dominant_color,s=t&&t.images?t.images["474x"]||t.images["736x"]||t.images.orig:{};return o.a.createElement(u.b,{marginBottom:1},o.a.createElement(u.P,{onTouch:function(){return r(n)},mouseCursor:"pointer",shape:"rounded"},o.a.createElement(u.d,{image:o.a.createElement(u.u,{shape:"rounded",wash:!0},o.a.createElement(u.p,{alt:a,color:i,src:s.url,naturalHeight:s.height,naturalWidth:s.width}))},o.a.createElement(u.b,{padding:1},o.a.createElement(u.K,{size:"sm",bold:!0},Object(c.a)(a))))))},columnWidth:236,flexible:!0,minCols:2,gutterWidth:16,loadItems:i,scrollContainer:function(){return e._gridContainer}}),o.a.createElement(u.G,{show:a,accessibilityLabel:""}))};return t.data&&0===t.data.length?o.a.createElement(i.a,{name:"CategoryFeedResource",options:{feed:"everything"},allowStale:!1},n):n(t)})))}}])&&l(n.prototype,s),y&&l(n,y),t}()},SMmS:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"c",function(){return _});var r=n("GyhR"),o=n("Ivf5"),a=n("jlBG"),i=n("E56J"),c=(n("hvnN"),n("7Iyi"));function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return Object(a.a)("function"==typeof e?e(t):e||{})}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o,a;return a=o=function(o){function a(){var n,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var s=arguments.length,l=new Array(s),p=0;p<s;p++)l[p]=arguments[p];return o=this,i=(n=d(a)).call.apply(n,[this].concat(l)),r=!i||"object"!==u(i)&&"function"!=typeof i?h(o):i,m(h(h(r)),"loadData",function(n){var r=t;e.forEach(function(e){var t=e.options,o=e.name,a="function"==typeof t?t(n):t;n.dispatch(Object(c.a)(o,a,void 0,void 0,r.traceLoggerHandlerName))})}),m(h(h(r)),"loadMoreData",function(n){var r=t;e.forEach(function(e){var t=e.options,o=e.name,a="function"==typeof t?t(n):t;n.dispatch(Object(c.d)(o,a,void 0,void 0,r.traceLoggerHandlerName))})}),m(h(h(r)),"resourcesHash",JSON.stringify(e.map(function(e){return f({},e,{options:b(e.options,r.props)})}))),r}var i,v,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,r["Component"]),i=a,(v=[{key:"componentDidMount",value:function(){!1!==t.allowStale&&this.props.resourceLoaded||this.loadData(this.props)}},{key:"shouldComponentUpdate",value:function(e){var t,n,r=l(Object.keys(this.props)).concat(l(Object.keys(e))),o=!0,a=!1,i=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value;if("resourceData"===s){if(t=this.props.resourceData,n=e.resourceData,JSON.stringify(t)!==JSON.stringify(n))return!0}else if(this.props[s]!==e[s])return!0}}catch(e){a=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw i}}return!1}},{key:"UNSAFE_componentWillUpdate",value:function(t){!this.props.resourceLoaded&&t.resourceLoaded&&this.props.onResourceLoaded&&this.props.onResourceLoaded(),!this.props.error&&t.error&&this.props.onResourceError&&this.props.onResourceError(t.error);var n=JSON.stringify(e.map(function(e){return f({},e,{options:b(e.options,t)})}));this.resourcesHash!==n&&(this.loadData(t),this.resourcesHash=n)}},{key:"render",value:function(){var e=this,t=this.props,o=t.error,a=t.isAtEnd,i=t.isFetching,c=t.resourceData,u=t.resourceLoaded,l=s(t,["error","isAtEnd","isFetching","resourceData","resourceLoaded"]);return delete l.onResourceError,delete l.onResourceLoaded,r.createElement(n,Object.assign({},c,l,{error:o,fetchMoreData:function(){return e.loadMoreData(e.props)},isAtEnd:a,isFetching:i,refreshData:function(){return e.loadData(e.props)},resourceLoaded:u}))}}])&&p(i.prototype,v),g&&p(i,g),a}(),m(o,"WrappedComponent",n),m(o,"displayName",1===e.length?e[0].name:"".concat(e.length," resources")),a}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r,a={name:e.name,options:e.options||{},key:e.key||"data"};return Object(o.connect)((r={},function(e){return function(t,n){var o,a=t.resources,c=a.fetching,u=a.data,s=e.some(function(e){var t=e.name,r=e.options;return c[t]&&c[t][b(r,n)]}),l={},f=[];e.forEach(function(e){var t=e.name,a=e.options,c=e.key;if(u[t]){var s=b(a,n);if(r[t]||(s in u[t]?i.default.increment("webapp.withResource.cache-hit",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"success",v:1}):Object.keys(u[t]).length?i.default.increment("webapp.withResource.populated-cache-miss",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"error",v:1,xFoundKeys:JSON.stringify(Object.keys(u[t])),xExpectedKey:s}):i.default.increment("webapp.withResource.empty-cache-miss",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"warn",v:1,xFoundKeys:null,xExpectedKey:s})),r[t]=!0,u[t][s]){var p=u[t][s],d=p.data,y=p.nextBookmark,h=p.error;l[c]=d,f.push(y),h&&(o=h)}}else i.default.increment("webapp.withResource.no-cache",.05,{resource:t,cache_size:0,level:"error",v:1})});var p=e.every(function(e){var t=e.key;return void 0!==l[t]});return{resourceLoaded:p,isAtEnd:p&&!s&&f.every(function(e){return"-end-"===e}),isFetching:s,nextBookmark:f[0],resourceData:l,error:o}}})([a]))(v([a],t)(n))}};t.b=g;var O=function(e){var t=e.name,n=e.options;return function(e,r){var o=e.resources.data;if(o[t]){var a=b(n,r);if(o[t][a])return{data:o[t][a].data}}return{data:null}}};function _(e){var t=e.name,n=e.options;return Object(o.connect)(O({name:t,options:n||{}}))}},Y7oc:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("GyhR"),o=n.n(r),a=n("Ivf5");function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e){return(0,e.children)(i(e,["children"]))}function u(e){var t=e.mapStateToProps,n=e.children,r=Object(a.connect)(t)(c);return o.a.createElement(r,null,n)}},hXwk:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=n("PNko"),c=n.n(i),u=(n("hvnN"),n("+U6O"));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y,h,m,b=[["fullWrapper"],["leftWrapper halfWrapper","rightWrapper halfWrapper isWholeHalf"],["leftWrapper halfWrapper","rightWrapper halfWrapper smallImage top","rightWrapper halfWrapper smallImage bottom"]],v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(a=[{key:"getUsersToShow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.props.viewerId;return void 0!==n&&(t=t.filter(function(e){return e.id!==n})),t.concat(e.map(function(e){return{id:"",full_name:e,first_name:e,username:e}})).slice(0,3)}},{key:"render",value:function(){var e=this.props,t=e.board,n=e.emails,r=e.shouldLink,a=e.size,i=e.users,s=this.getUsersToShow(n,i),l=s.length<=3?b[s.length-1]:[];return t?function(e,t){var n=e.name,r=e.image_thumbnail_url;return o.a.createElement("div",{className:c()("Image","Module","boardMessageRep",t)},o.a.createElement("img",{alt:n,src:r}))}(t,a):s.length>0?function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2?arguments[2]:void 0;arguments.length>3&&arguments[3];return o.a.createElement(u.b,{display:"flex",alignItems:"center"},o.a.createElement(u.l,{collaborators:t.map(function(e,t){return{name:e.full_name||e.email||e.username||"user ".concat(t),src:e.is_default_image?void 0:e.image_large_url||e.image_medium_url}}),size:{small:"sm",medium:"md",normal:"lg"}[e]}))}(a,l,s,r):null}}])&&l(n.prototype,a),i&&l(n,i),t}();m={shouldLink:!1,size:"medium"},(h="defaultProps")in(y=v)?Object.defineProperty(y,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):y[h]=m,t.a=Object(a.connect)(function(e){var t=e.viewer;return{viewerId:t.isAuth?t.id:null}})(v)},spTd:function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return f}),n.d(t,"k",function(){return p}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return m});var r=n("ePT2");function o(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function a(e){return{type:"CONVERSATION_HIDE",payload:{id:e}}}function i(e){return{type:"CONVERSATION_OPEN",payload:{id:e}}}function c(e){return{type:"CONVERSATION_CLOSE",payload:{id:e}}}function u(e){return{type:"CONVERSATION_CREATE",payload:e}}function s(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}function l(e,t){return{type:"CONVERSATION_MESSAGES_UPDATE",payload:{conversationId:e,messages:t}}}function f(){return function(e){r.a.create("ConversationBadgeResource",{}).callDelete({showError:!1}),e({type:"CONVERSATION_BADGE_RESET"})}}function p(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}function d(e,t,n){return{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:n}}}var y,h=(y=0,function(){return y++});function m(e,t,n){var o,a=new Promise(function(i){(o=function(o,a){var c=t.text,s=t.pinId,l=t.boardId,f=t.userId,y=t.didItId,m=a();function b(){var t=r.a.create("ConversationMessagesResource",{conversation_id:e,text:c,pin:s,board:l,user:f,user_did_it_data:y,source:n}),a="".concat(h());t.callCreate().then(function(t){o(d(e,a,t.resource_response.data.id))}),o(p(e,{text:c,sender:m.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:a,board:null,event_type:null,pin:s?m.pins[s]:null,type:"message",user_did_it_data:null,user:null})),i()}m.conversations.data[e]?b():r.a.create("ConversationResource",{conversation_id:e}).callGet().then(function(e){var t=e&&e.resource_response&&e.resource_response.data;o(u(t)),b()})}).getPromise=function(){return a}});return o}}}]);
//# sourceMappingURL=pjs-52-1b6f032152ffe4da1453.js.map
