(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~LaunchpadPage~PinAnalyt~c901f584"],{"8Hll":function(e,t,n){"use strict";function r(e){return{type:"SET_NUX_PROGRESS",payload:{step:e}}}n.d(t,"a",function(){return r})},UY39:function(e,t,n){},"xd+Y":function(e,t,n){},xjFC:function(e,t,n){},zEno:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=(n("UY39"),n("VSY/")),l=n("KrKF"),s=n("pjsG"),c=n("Qo1m"),u=n("7Tih"),p=(n("xjFC"),n("+U6O")),d=3,f=10,m=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"];var h=o.a.memo(function(){var e=function(){for(var e=[],t=0,n=0;n<f;n+=1){e.push([]);for(var r=0;r<d;r+=1){var a=m[t];e[n].push(o.a.createElement("div",{key:n+r,className:"NuxEducationLoaderGrid__column".concat(r)},o.a.createElement(p.b,{color:a,height:155,width:105,dangerouslySetInlineStyle:{__style:{borderRadius:8}}}))),(t+=1)>=m.length&&(t=0)}}return e}();return o.a.createElement("div",{className:"NuxEducationLoaderGrid"},e)});var b=o.a.memo(function(e){var t=e.selectedInterest,n={label:c.a._("Food and Drink","Title for topic"),images:{"400x":{height:561,url:"https://i.pinimg.com/400x/10/31/0a/10310a3d860e8f7f2a5753612a870f5a.jpg",width:400}}},r={},a=t||n,i=a.label,l=a.images["400x"],s=l.url,u=l.height,d=l.width;r.domain=i.trim().toLowerCase().replace(/\s/g,"").concat(".com"),r.imageHeight=u,r.imageWidth=d,r.imageUrl=s;var f=r.domain,m=r.imageUrl,h=r.imageHeight,b=r.imageWidth;return o.a.createElement("div",{className:"NuxEducationLoaderPin","data-test-id":"nux-loader-pin"},o.a.createElement(p.b,{position:"relative"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinImage"},o.a.createElement(p.u,{shape:"rounded",height:310,width:210},o.a.createElement(p.p,{alt:c.a._("Pin image","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:h,naturalWidth:b,src:m})),o.a.createElement(p.b,{position:"absolute",top:!0,right:!0,marginTop:1,marginRight:1},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinSaveButton"},o.a.createElement(p.c,{accessibilityLabel:c.a._("Save button"),color:"red",text:c.a._("Save","save button for nux loading step"),size:"md"}))),o.a.createElement(p.b,{position:"absolute",bottom:!0,left:!0,margin:2,maxWidth:"90%"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinLinkButton"},o.a.createElement(p.b,{padding:2,color:"lightGray",display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:4}}},o.a.createElement(p.b,null,o.a.createElement(p.n,{icon:"arrow-up-right",accessibilityLabel:c.a._("link","Pin website url link for nux loading step"),size:14,color:"darkGray"})),o.a.createElement(p.b,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},o.a.createElement(p.K,{bold:!0,size:"sm",truncate:!0},f))))))))}),y={backgroundColor:"#efefef"},g={transition:"width .4s ease-out"};function x(e,t){return Object.assign({},y,{height:e+"px",borderRadius:t})}function w(e,t,n){return Object.assign({},g,{backgroundColor:e,width:t+"%",borderRadius:n})}var v=function(e){var t=e.color,n=e.height,r=e.progress,a=e.outerBorderRadius,i=e.innerBorderRadius;return o.a.createElement(p.b,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:x(n,a)}},o.a.createElement(p.b,{height:"inherit",dangerouslySetInlineStyle:{__style:w(t,r,i)}}))};v.defaultProps={color:"#333",height:8,progress:0,outerBorderRadius:"10px",innerBorderRadius:"inherit"};var S=v,E=n("ePT2"),_=n("kIql"),O=n("NmcB"),C=n("8Hll"),k=n("zlIe"),N=n("9Y9K");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=P(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==T(o)&&"function"!=typeof o?L(r):o,R(L(L(n)),"state",{progressPercent:0}),R(L(L(n)),"incrementStepAndCompleteLoading",function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux;(t(),r)||E.a.create("UserStateResource",{state:k.t,value:k.b}).callCreate()}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dispatchSetNuxStepProgress,r=t.isRenux;r||E.a.create("UserStateResource",{state:k.t,value:k.y}).callCreate();n("loader"),Object(O.a)(13,{view:r?213:24,viewParameter:261}),this.intervalId=setInterval(function(){return e.setState(function(e){return{progressPercent:Math.min(e.progressPercent+100/17,100)}})},300)}},{key:"componentDidUpdate",value:function(e,t){this.state.progressPercent>=100&&(clearInterval(this.intervalId),setTimeout(this.incrementStepAndCompleteLoading,1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props,t=e.isRenux,n=e.selectedInterests,r=e.showProgressBar,a=this.state.progressPercent;return o.a.createElement("div",{className:"NuxEducationLoader","data-test-id":"nux-complete-loader"},o.a.createElement(p.b,{alignItems:"center",display:"flex",direction:"row",height:"100%",justifyContent:"center",overflow:"hidden",width:"100%"},o.a.createElement(p.b,{position:"relative",marginLeft:10,marginRight:4},o.a.createElement("div",{className:"NuxEducationLoader__loadingCopyContainer"},o.a.createElement(p.m,{size:"sm"},c.a._("All set!","Title for nux loading step")),o.a.createElement(p.b,{marginTop:4},t?c.a._("We're refreshing your home feed with lots of new Pins...","Details for ReNUX loading step"):c.a._("We're building your home feed with lots of Pins...","Details for nux loading step"))),o.a.createElement("div",{className:"NuxEducationLoader__pinEducationCopyContainer"},o.a.createElement(p.m,{size:"sm"},c.a._("Pins are ideas.","Pin education on NUX loading step")),o.a.createElement(p.b,{marginTop:5},c.a._("They are links saved from around the web","Pin education on NUX loading step")))),o.a.createElement(p.b,{marginRight:5,marginLeft:5,width:344},o.a.createElement(h,null)),o.a.createElement(p.b,null,o.a.createElement(b,{selectedInterest:n[0]}))),r?null:o.a.createElement(p.b,{position:"absolute",top:!0,width:"100%"},o.a.createElement(S,{height:8,color:"#e60023",progress:a})))}}])&&j(n.prototype,a),i&&j(n,i),t}(),G=Object(N.compose)(Object(a.connect)(null,function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))}}}),_.a)(A),B=n("VLF8"),F=n("FEwd"),U=n("rPo8");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=z(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==D(o)&&"function"!=typeof o?W(r):o,X(W(W(n)),"onInstallButtonClicked",function(){var e=n.props.isRenux;B.a.handleExtensionInstall(n.incrementStepAndCompleteLoading),Object(O.a)(101,{component:17,element:280,view:e?213:24,viewParameter:260})}),X(W(W(n)),"onSkipButtonClick",function(){var e=n.props.isRenux;Object(O.a)(101,{component:17,element:1150,view:e?213:24,viewParameter:260}),n.incrementStepAndCompleteLoading()}),X(W(W(n)),"incrementStepAndCompleteLoading",function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux,o=e.setNuxUpsellProgress;r||o(k.b),t()}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxUpsellProgress;n||r(k.y),t("extension"),Object(O.a)(13,{view:n?213:24,viewParameter:260})}},{key:"render",value:function(){var e=this.props.personalizationCopy,t=e.headerText,n=e.subHeaderText;return o.a.createElement(F.a,{header:t,installClick:this.onInstallButtonClicked,skipClick:this.onSkipButtonClick,subheader:n})}}])&&H(n.prototype,a),i&&H(n,i),t}(),K=Object(a.connect)(null,function(e,t){return{setNuxUpsellProgress:function(t){return e(Object(U.a)(k.q,t))},dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))}}})(Y),q=(n("xd+Y"),n("UmN8")),V=n("k9eC"),Q=n("2YES");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){var t,n=e.isChecked,a=e.label,i=e.selectGender,l=e.value,s=e.isHorizontal;switch(a){case k.h:t="end";break;case k.D:t="start";break;default:t="center"}var c=o.a.createElement(p.b,{alignItems:"center",display:"flex","data-test-id":"nux-gender-".concat(a,"-label"),height:40,justifyContent:t,width:"calc(800px / 3)"},o.a.createElement(p.q,{htmlFor:a},o.a.createElement(p.b,{alignItems:"center",display:"flex"},o.a.createElement(p.B,{checked:n,id:a,name:"genderOptions",onChange:i,size:"md",value:a}),o.a.createElement(p.b,{marginStart:2,width:a===k.D&&225},l))));return s?c:o.a.createElement(r.Fragment,null,o.a.createElement(p.b,{"data-test-id":"nux-gender-".concat(a,"-label")},o.a.createElement(p.q,{htmlFor:a},o.a.createElement("div",{className:"NuxGenderSelector"},o.a.createElement(p.b,{alignItems:"center",display:"flex",flex:"none",paddingX:8,paddingY:6},o.a.createElement(p.B,{checked:n,id:a,name:"genderOptions",onChange:i,size:"md",value:a}),o.a.createElement(p.b,{display:"flex",flex:"grow",marginStart:10},l))))),o.a.createElement(p.j,null))},oe=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=this,i=(e=$(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==J(i)&&"function"!=typeof i?te(a):i,ne(te(te(n)),"state",{customGender:n.props.customGender,gender:n.props.gender,showCustomGenderTextfield:n.props.gender===k.D&&n.props.customGender.length>0,showNextButton:[k.l,k.h].includes(n.props.gender)||n.props.customGender.length>0,showCustomGenderDoneButton:n.props.gender===k.D&&n.props.customGender.length>0}),ne(te(te(n)),"setCustomGender",function(e){e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?n.setState({customGender:e.target.value,showCustomGenderDoneButton:!0}):n.state.showNextButton&&e.target instanceof HTMLInputElement?n.setState({customGender:e.target.value,showCustomGenderDoneButton:!1}):n.setState({showCustomGenderDoneButton:!1})}),ne(te(te(n)),"updateCustomGender",function(e){var t=e.value;return n.setState({customGender:t,showCustomGenderDoneButton:t.length>0})}),ne(te(te(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.customGender,i=t.gender,l=t.showCustomGenderDoneButton,s=t.showCustomGenderTextfield;return o.a.createElement(r.Fragment,null,o.a.createElement(p.m,{overflow:"normal",size:"sm"},e),o.a.createElement(p.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(p.b,{alignItems:"around",display:"flex",height:"100%",marginTop:10},o.a.createElement(re,{isChecked:!s&&i.toLowerCase()===k.h,label:k.h,selectGender:function(){return n.onSelectGender(k.h)},value:n.renderGenderLabel(c.a._("Female"),!0),isHorizontal:!0}),o.a.createElement(re,{isChecked:!s&&i.toLowerCase()===k.l,label:k.l,selectGender:function(){return n.onSelectGender(k.l)},value:n.renderGenderLabel(c.a._("Male"),!0),isHorizontal:!0}),o.a.createElement(re,{isChecked:s,label:k.D,selectGender:function(){return n.onSelectGender(k.D)},value:s?o.a.createElement(p.b,{"data-test-id":"nux-gender-unspecified-input"},o.a.createElement(p.M,{id:"customGender",onChange:n.updateCustomGender,placeholder:c.a._("Enter custom gender","placeholder text for custom gender text field"),type:"text",value:a})):n.renderGenderLabel(c.a._("Non-binary","Non-binary label for custom gender"),!0),isHorizontal:!0})),l&&o.a.createElement(p.b,{"data-test-id":"nux-gender-unspecified-done-btn"},o.a.createElement(p.c,{color:"red",disabled:!i&&!a,inline:!0,onClick:function(){return n.updateGenderCompleteStep()},text:c.a._("Done","button text for entering a custom gender type")}))))}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxGenderProgress;t("gender"),n||r(k.y),Object(O.a)(13,{view:n?213:24,viewParameter:3120})}},{key:"onSelectGender",value:function(e){var t=this.props.requestContext,n=this.state,r=n.showCustomGenderTextfield;n.showNextButton?this.setState({gender:e,showCustomGenderTextfield:e===k.D}):e===k.D&&new V.c(t,"web_hide_custom_gender_field").enabled()?this.setState({gender:k.D,showCustomGenderTextfield:!1},this.updateGenderCompleteStep):e===k.D||r?this.setState({gender:k.D,customGender:"",showCustomGenderTextfield:!r,showCustomGenderDoneButton:!1}):this.setState({gender:e},this.updateGenderCompleteStep)}},{key:"setUserStateCompletedGenderStep",value:function(){var e=this.props,t=e.isRenux,n=e.setNuxGenderProgress;t||n(k.b)}},{key:"updateGenderCompleteStep",value:function(){var e=this,t=this.props,n=t.incrementNuxStep,r=t.isRenux,o=t.updateGenderInfo,a=this.state,i=a.customGender,l=a.gender;o(a.showCustomGenderTextfield?{gender:k.D,custom_gender:i.slice(0,30)}:{gender:l}).then(function(){e.setUserStateCompletedGenderStep(),Object(O.a)(101,{component:17,element:241,view:r?213:24,viewParameter:3120}),n()})}},{key:"submitHandler",value:function(e){e.preventDefault()}},{key:"renderGenderLabel",value:function(e,t){return t?o.a.createElement(p.K,{size:"xl"},e):o.a.createElement(p.m,{size:"sm"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isRenux,a=t.personalizationCopy,i=a.headerText,l=a.subHeaderText,s=this.state,u=s.customGender,d=s.showCustomGenderDoneButton,f=s.showCustomGenderTextfield,m=s.showNextButton,h=f?o.a.createElement(r.Fragment,null,o.a.createElement(p.b,{marginEnd:5},o.a.createElement("input",{className:"NuxGenderSelector","data-test-id":"nux-gender-unspecified-input",id:"customGender",onChange:this.setCustomGender,placeholder:u||c.a._("Enter custom gender","placeholder text for custom gender text field"),style:d?k.k:k.j,type:"text"})),!m&&d&&o.a.createElement("div",{"data-test-id":"nux-gender-unspecified-done-btn"},o.a.createElement(p.c,{color:"red",inline:!0,onClick:function(){return e.updateGenderCompleteStep()},text:c.a._("Done","button text for entering a custom gender type")}))):this.renderGenderLabel(c.a._("Non-binary","Non-binary label for custom gender"));return o.a.createElement(q.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(p.b,{display:"flex",direction:"column",height:"100%",justifyContent:"around",paddingY:8,width:"100%"},o.a.createElement(p.b,{direction:"column",display:"flex",paddingX:8,dangerouslySetInlineStyle:{__style:{textAlign:"center"}}},o.a.createElement(p.m,{size:n?"xs":"sm"},i),n&&o.a.createElement(p.K,{align:"center",size:"xl"},l)),o.a.createElement(p.b,null,o.a.createElement(p.j,null),o.a.createElement(re,{isChecked:!f&&e.state.gender.toLowerCase()===k.h,label:k.h,selectGender:function(){return e.onSelectGender(k.h)},value:e.renderGenderLabel(c.a._("Female"))}),o.a.createElement(re,{isChecked:!f&&e.state.gender.toLowerCase()===k.l,label:k.l,selectGender:function(){return e.onSelectGender(k.l)},value:e.renderGenderLabel(c.a._("Male"))}),o.a.createElement(re,{isChecked:f,label:k.D,selectGender:function(){return e.onSelectGender(k.D)},value:h})),m&&o.a.createElement(p.b,{"data-test-id":"nux_gender_next_btn",marginTop:8,marginStart:8,marginEnd:8},o.a.createElement(p.c,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:f&&0===e.state.customGender.length,onClick:function(){return e.updateGenderCompleteStep()},text:c.a._("Next","next nux step button"),type:"button"})))})}}])&&Z(n.prototype,a),i&&Z(n,i),t}(),ae=Object(N.compose)(Object(a.connect)(function(e){var t=e.viewer;return{gender:t.gender?t.gender:"",customGender:t.customGender?t.customGender:""}},function(e,t){return{dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))},setNuxGenderProgress:function(t){return e(Object(U.a)(k.s,t))},updateGenderInfo:function(t){return e(Object(U.f)({updateUserData:t}))}}}),Q.e)(oe),ie=n("kiCl");function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=ce(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==le(o)&&"function"!=typeof o?pe(r):o,de(pe(pe(n)),"state",{focused:!1,errorIsOpen:!1}),de(pe(pe(n)),"handleOnChange",function(e){n.props.onChange({event:e,value:e.target.value})}),de(pe(pe(n)),"handleBlur",function(){n.props.errorMessage&&n.setState({errorIsOpen:!1})}),de(pe(pe(n)),"handleFocus",function(){n.props.errorMessage&&n.setState({errorIsOpen:!0})}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,r["Component"]),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.errorMessage!==t.errorMessage?{errorIsOpen:!!e.errorMessage,errorMessage:e.errorMessage}:null}}],(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.id,o=t.name,a=t.options,i=t.value;return r.createElement(p.b,{alignItems:"center",display:"flex",position:"relative"},r.createElement(p.b,{alignItems:"center",bottom:!0,color:"white",display:"flex",position:"absolute",dangerouslySetInlineStyle:{__style:{margin:"1px",paddingRight:"31px",paddingLeft:"15px",pointerEvents:"none"}},right:!0,shape:"rounded",top:!0},r.createElement(p.n,{icon:"arrow-down",size:24,color:"darkGray",accessibilityLabel:""})),r.createElement("select",{id:n,name:o,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleOnChange,ref:function(t){e.select=t},value:i,style:{backgroundColor:"white",border:"1px solid #979797",borderRadius:8,cursor:"pointer",height:68,fontSize:20,paddingLeft:32,width:"100%",WebkitAppearance:"none",MozAppearance:"none"}},a.map(function(e){return r.createElement("option",{key:e.value,value:e.value},e.label)})))}}])&&se(n.prototype,o),a&&se(n,a),t}();de(fe,"defaultProps",{options:[]});var me=function(e){var t=e.defaultOptions,n=e.id,r=e.items,a=e.name,i=e.onChange,l=e.value,s=(r.data||t||[]).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){var t=e.name,n=e.key;return{label:t.toString(),value:n}});return o.a.createElement(fe,{id:n,name:a,onChange:i,options:s,value:l})},he=n("Y2BC"),be=Object(he.b)({name:"CountriesResource",key:"items"})(me),ye=Object(he.b)({name:"LocalesResource",key:"items"})(me),ge=n("hvnN"),xe=n.n(ge),we=n("PhUE");function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=this,i=(e=Ee(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==ve(i)&&"function"!=typeof i?Oe(a):i,Ce(Oe(Oe(n)),"state",{locale:n.props.reduxLocale||(n.context||{}).locale||k.e,country:n.props.reduxCountry||(n.context||{}).country||k.d,swappingLanguage:!1}),Ce(Oe(Oe(n)),"onNextButtonClick",function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux,o=e.updateUserInfo,a=e.setNuxLocaleProgress,i=n.state;o({updateUserData:{country:i.country,locale:i.locale}}).then(function(){r||a(k.b),Object(O.a)(101,{component:17,element:10374,view:24,viewParameter:3139}),t()})}),Ce(Oe(Oe(n)),"updateLocale",function(e){var t=e.value;return n.setState({locale:t})}),Ce(Oe(Oe(n)),"updateCountry",function(e){var t=e.value;return n.setState({country:t})}),Ce(Oe(Oe(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.country,i=t.locale,l=t.swappingLanguage;return o.a.createElement(r.Fragment,null,o.a.createElement(p.m,{size:"sm",overflow:"normal"},e),o.a.createElement(p.b,{display:"flex",justifyContent:"center",marginBottom:10,marginTop:5},o.a.createElement(p.b,{"data-test-id":"nux-locale-select",marginRight:3,width:350},o.a.createElement(ye,{id:"newUserLanguage",name:"locale",onChange:n.updateLocale,value:i})),o.a.createElement(p.b,{"data-test-id":"nux-country-select",marginLeft:3,width:350},o.a.createElement(be,{id:"newUserCountry",name:"country",onChange:n.updateCountry,value:a}))),o.a.createElement(p.b,{"data-test-id":"nux-locale-country-next-btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(p.c,{size:"lg",color:"red",text:c.a._("Next","go to next step"),onClick:n.onNextButtonClick,type:"submit",disabled:l})))}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxLocaleProgress;n||r(k.y),t("country"),we.b.localStorage.getItem("signupUserLocale")||we.b.localStorage.getItem("signupUserCountry")||Object(O.a)(13,{view:24,viewParameter:3139})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.toggleLoadingIndicator,a=r.isBizNux,i=r.updateUserInfo,l=t.country,c=t.locale,p=this.state,d=p.country,f=p.locale,m=l!==d,h=c!==f;(m||h)&&i({updateUserData:{country:d,locale:f}}).then(function(){if(m&&we.b.localStorage.setItem("signupUserCountry",d),h){we.b.localStorage.setItem("signupUserLocale",f);var e=new u.a;e.evt=new ie.a("",null,{forceRefresh:1}),a?n.setState({swappingLanguage:!0}):o(!0),s.default.navigate("/",e)}})}},{key:"render",value:function(){var e=this,t=this.props.personalizationCopy.headerText,n=this.state,r=n.country,a=n.locale,i=n.swappingLanguage;return o.a.createElement(q.a,{name:"web_homefeed_nux",activate:!1},function(n){return n.anyEnabled?e.renderOnHomefeed():o.a.createElement(p.b,{display:"flex",direction:"column",height:"100%",padding:8,width:"100%"},o.a.createElement(p.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{textAlign:"center"}},display:"flex",direction:"column",flex:"grow",justifyContent:"around",marginBottom:8},o.a.createElement(p.b,{width:"100%"},o.a.createElement(p.m,{size:"sm"},t)),o.a.createElement(p.b,{width:"100%"},o.a.createElement(p.b,{"data-test-id":"nux-locale-select"},o.a.createElement(ye,{id:"newUserLanguage",name:"locale",onChange:e.updateLocale,value:a})),o.a.createElement(p.b,{marginTop:4,"data-test-id":"nux-country-select"},o.a.createElement(be,{id:"newUserCountry",name:"country",onChange:e.updateCountry,value:r})))),o.a.createElement(p.b,{bottom:!0,"data-test-id":"nux-locale-country-next-btn"},o.a.createElement(p.c,{size:"lg",color:"red",text:c.a._("Next","go to next step"),onClick:e.onNextButtonClick,type:"submit",disabled:i})))})}}])&&Se(n.prototype,a),i&&Se(n,i),t}();ke.contextTypes={country:xe.a.string,locale:xe.a.string};var Ne=Object(a.connect)(function(e){var t=e.viewer;return{reduxCountry:t.country?t.country:"",reduxLocale:t.locale?t.locale:""}},function(e,t){return{updateUserInfo:function(t){return e(Object(U.f)(t))},setNuxLocaleProgress:function(t){return e(Object(U.a)(k.r,t))},dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))}}})(ke),Te=n("dg2R"),je=n("V0Gb"),Pe=function(e){var t=e.nuxStepIndex,n=e.showCounter,r=e.numSteps;return n&&r>1?o.a.createElement(p.b,null,o.a.createElement(p.K,{size:"md"},Object(i.i)(c.a._("Step {{current}} of {{total}}"),{current:"".concat(t+1),total:"".concat(r)}))):null},Ie=40,Le="10px",Re="15px",Ae="30px",Ge="45px",Be="85px",Fe=function(e,t,n,r,a){return o.a.createElement(p.b,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",margin:2,width:t},o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{marginTop:n===Le?"3px":"0px"}},"data-test-id":"nux-toc-dot",color:e,height:n,shape:"circle",width:n}),r&&o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{whiteSpace:a?"nowrap":"",marginTop:n===Le?"6px":"4px"}},"data-test-id":"nux-toc-text",display:"flex",wrap:!0},o.a.createElement(p.K,{align:"center",bold:!0,color:e,size:"sm"},r)))},Ue="M24 12a2 2 0 0 1-2 2H7.676l4.631 4.586a2 2 0 1 1-2.829 2.828L0 12l9.478-9.414a2 2 0 0 1 2.829 2.828L7.676 10H22a2 2 0 0 1 2 2";var De=o.a.memo(function(e){var t=e.renderType,n=e.currentNuxStep,r=e.steps,a=e.onPrevStepClick,i=r.map(function(e){return e.moduleName}),l=i.indexOf(n.moduleName),s=l>0&&o.a.createElement(q.a,{name:"web_nux_back_button"},function(e){return e.anyEnabled&&o.a.createElement(p.b,{display:"flex",alignItems:"center"},o.a.createElement(p.o,{accessibilityLabel:c.a._("Go back to previous step","Accessibility label on NUX back button"),dangerouslySetSvgPath:{__path:Ue},iconColor:"gray",size:"sm",onClick:a}))});if(r.length>1)return o.a.createElement(p.b,{"data-test-id":"nux-toc-container",display:"flex",justifyContent:"between",padding:4},o.a.createElement(p.b,{width:Ie},s),o.a.createElement(p.b,{display:"flex",justifyContent:"center"},r.map(function(e,r){return o.a.createElement("div",{key:r},function(e){var r=i.indexOf(e.moduleName)>l,o=r?"darkGray":"red",a=r?Le:Re,s="",u=Ae,p=!1;if("single"===t){u=Ge,p=!0;var d=e.moduleName===n.moduleName,f={NuxGenderStep:c.a._("You","Label for NUX gender step in a table of contents"),NuxLocaleCountryStep:c.a._("Your Language","Label for NUX language/locale step in a table of contents"),NuxPicker:c.a._("Your Interests","Label for NUX topic picker in a table of contents"),NuxExtensionUpsell:c.a._("Your Browser","Label for NUX Browser Extension in a table of contents")};s=d?f[e.moduleName]:""}return"all"===t&&(u=Be,s={NuxGenderStep:c.a._("You","Label for NUX gender step in a table of contents, where text should be short since there is not much space to show it"),NuxLocaleCountryStep:c.a._("Language","Label for NUX language/locale step in a table of contents, where text should be short since there is not much space to show it"),NuxPicker:c.a._("Interests","Label for NUX topic picker in a table of contents, where text should be short since there is not much space to show it"),NuxExtensionUpsell:c.a._("Extension","Label for NUX Browser Extension in a table of contents, where text should be short since there is not much space to show it")}[e.moduleName]||""),Fe(o,u,a,s,p)}(e))})),o.a.createElement(p.b,{width:Ie}))});function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=["NuxDismissableWelcome","NuxWelcomeNameStep","NuxAboutYouStep","NuxGenderStep","NuxLocaleCountryStep"],qe=110,Ve=280,Qe=575,Je=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return a=this,i=(e=Me(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==He(i)&&"function"!=typeof i?Xe(a):i,Ye(Xe(Xe(n)),"state",{animateIn:!0}),Ye(Xe(Xe(n)),"runAnimation",function(){window.setTimeout(function(){return n.setState({animateIn:!1})},200)}),Ye(Xe(Xe(n)),"renderOnHomefeed",function(){var e=n.props,t=e.children,a=e.nuxStep,i=e.steps,l=e.isLoading,s=e.onPrevStepClick,c=n.state.animateIn,u=["NuxPicker","NuxEducationLoader"].includes(a.moduleName)&&!l?Qe:Ve,d="NuxEducationLoader"===a.moduleName||i.length<=1;return o.a.createElement(r.Fragment,null,o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{background:"rgba(255, 255, 255, 0.8)",top:-104,zIndex:999}},height:64,position:"absolute",width:"100%"}),o.a.createElement(p.b,{color:"white",dangerouslySetInlineStyle:{__style:{margin:"40px 40px 16px",opacity:c?0:1,transition:"height .1s, opacity .1s ease-in .1s",textAlign:"center"}},height:c?0:u,overflow:"scroll"},o.a.createElement(p.b,{alignItems:"center",direction:"column",display:"flex",height:"100%",minWidth:k.n,position:"relative"},!d&&o.a.createElement(De,{currentNuxStep:a,onPrevStepClick:s,renderType:"dots",steps:i,inHomefeedExp:!0}),t)),o.a.createElement(p.r,null,o.a.createElement(p.b,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{opacity:.8,top:u+qe,transition:"height .1s linear .1s"}},height:c?0:"100%",position:"absolute",left:!0,right:!0})),l&&o.a.createElement(p.r,null,o.a.createElement(p.b,{bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:999}},height:"100vh",left:!0,position:"absolute",right:!0,top:!0},o.a.createElement(je.a,null))))}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isRenux,r=t.isSimpleRenux,o=t.requestContext;document.body&&(document.body.style.overflow="hidden");var a=new V.c(o,"web_renux_moving_bg_pins");n&&!r&&a.enabled()&&(this.windowScrollInterval=window.setInterval(function(){window.scrollBy(0,1)},50),this.windowScrollTimer=window.setTimeout(function(){window.clearInterval(e.windowScrollInterval)},12e4)),Te.b.pause(),this.runAnimation()}},{key:"componentDidUpdate",value:function(){this.runAnimation()}},{key:"componentWillUnmount",value:function(){this.windowScrollInterval&&window.clearInterval(this.windowScrollInterval),this.windowScrollTimer&&window.clearTimeout(this.windowScrollTimer),document.body&&(document.body.style.overflow=""),Te.b.resume()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.displayHide,i=t.onHide,l=t.onPrevStepClick,s=t.nuxStep,u=t.steps,d=t.isLoading,f=t.showCounter,m=t.showTableContents,h=u.map(function(e){return e.moduleName}).indexOf(s.moduleName);return o.a.createElement(q.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(p.r,null,o.a.createElement(p.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",zIndex:"999"}},display:"flex",height:"100vh",justifyContent:"center",overflow:"scroll",position:"fixed",width:"100vw",top:!0},o.a.createElement(p.b,{color:"white",dangerouslySetInlineStyle:{__style:{transition:Ke.includes(s.moduleName)?"":"width 0.5s"}},direction:"column",display:"flex",height:640,position:"relative",shape:"rounded",width:Ke.includes(s.moduleName)?544:800},d&&o.a.createElement(je.a,null),m&&o.a.createElement(r.Fragment,null,o.a.createElement(De,{currentNuxStep:s,onPrevStepClick:l,renderType:"dots",steps:u}),o.a.createElement(p.j,null)),o.a.createElement(p.b,{flex:"grow",height:"100%",width:"100%"},n),o.a.createElement(p.b,{position:"absolute",marginEnd:8,marginTop:8,right:!0,top:!0},o.a.createElement(Pe,{nuxStepIndex:h,showCounter:f,numSteps:u.length}),a&&i&&o.a.createElement(p.o,{accessibilityLabel:c.a._("cancel","close nux modal"),icon:"cancel",onClick:i,size:"sm"})))))})}}])&&ze(n.prototype,a),i&&ze(n,i),t}(),Ze=n("dkdd");function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ot="Header_Highlight 1s ease-in-out",at=function(e){function t(){var e,n,r,o,a,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=this,n=!(o=(e=tt(t)).call.apply(e,[this].concat(c)))||"object"!==$e(o)&&"function"!=typeof o?rt(r):o,a=rt(rt(n)),l={animate:!0},(i="state")in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.dismissTimeout=setTimeout(function(){e.props.onComplete()},1e3)}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.isSmall,r=e.item,a=e.left,i=e.name,l=e.top,s=e.width;return o.a.createElement(p.b,{bottom:!0,left:!0,position:"fixed",right:!0,top:!0},o.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n@keyframes Header_Highlight {\n  0% { transform: scale(1.0); opacity: 0 }\n  30% { transform: scale(1.2); opacity: 1 }\n  40% { transform: scale(1.1); opacity: 1 }\n  80% { transform: scale(1.1); opacity: 1 }\n  100% { transform: scale(1.0); opacity: 0 }\n}\n"}}),o.a.createElement(p.b,{alignItems:"center",color:"white",dangerouslySetInlineStyle:{__style:{animation:ot,WebkitAnimation:ot,left:a,top:l}},display:"flex",justifyContent:"center",padding:2,position:"absolute",shape:n?"circle":"pill",height:t,width:s},"home"===r&&n&&o.a.createElement(p.n,{accessibilityLabel:c.a._("Home","Header logo label"),color:"red",icon:"pinterest",size:28}),"profile"===r&&o.a.createElement(p.a,{name:i,size:"sm",src:""}),!n&&o.a.createElement(p.b,{color:"white",paddingX:2,paddingY:1},o.a.createElement(p.K,{bold:!0,color:"home"===r?"darkGray":"gray",overflow:"normal"},"home"===r?c.a._("Home","Header home tab label"):i))))}}])&&et(n.prototype,a),i&&et(n,i),t}(),it=Object(a.connect)(function(e){return{name:e.viewer.firstName||""}})(at),lt=n("POeB"),st=n("yxuo"),ct=Object(Q.e)(function(e){var t=e.requestContext,n=e.interests,r=e.InterestComponentToRender,a=e.gridContainerRef,i=n&&n.length<1,l=k.m.DESKTOP,s=new V.b(t,"web_nux_picker_hover_state"),u=s.check("enabled_border")||s.check("employees")?8:0;return o.a.createElement("div",{style:l.STYLES},o.a.createElement(p.v,{columnWidth:l.COLUMN_WIDTH+u,comp:r,loadItems:function(){},gutterWidth:l.GUTTER_WIDTH-u,items:n,minCols:l.COLUMNS,scrollContainer:function(){return a||window}}),o.a.createElement(p.G,{accessibilityLabel:c.a._("Loading topics"),show:i}))}),ut=n("x0Vy"),pt=function(e){var t=e.interests,n=e.handleInterestClickFn,r=e.interestFlipMessages,a=e.interestsToFlip;return o.a.createElement(ct,Object.assign({},e,{InterestComponentToRender:function(e){e.itemIdx;var i=e.data,l={clickHandler:n(i),interest:i,key:i.id,isSelected:i.is_followed,flipText:r[i.id]||"",shouldFlip:a.has(i.id)};return t.length>0&&we.b.localStorage.setItem("signupInterestsPickerStartTime",Date.now()),o.a.createElement(ut.a,l)}}))},dt=n("IO+S"),ft=function(e){var t=e.categories,n=e.handleInterestClickFn,r=e.interestFlipMessages,a=e.interestsToFlip;return o.a.createElement(p.b,{display:"flex",direction:"row",justifyContent:"between",wrap:!0,paddingX:8},t.map(function(e){return o.a.createElement(p.b,{key:e.title,paddingY:1},o.a.createElement(p.K,{size:"xl",bold:!0},e.title),o.a.createElement(p.b,{direction:"row",display:"flex",justifyContent:"between"},e.interests.map(function(e){var t={clickHandler:n(e),interest:e,key:e.id,isSelected:e.is_followed,isCategorized:!0,flipText:r[e.id]||"",shouldFlip:a.has(e.id)};return o.a.createElement(p.b,{key:e.id,padding:1},o.a.createElement(ut.a,t))})))}))};function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xt=n.n(dt)()(function(){we.b.localStorage.setItem("signupInterestsPickerScrollDown",!0)}),wt=function(e){function t(){var e,n,r,o,a,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=this,o=(e=bt(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==mt(o)&&"function"!=typeof o?gt(r):o,a=gt(gt(n)),l=function(){var e=n.gridContainer.scrollTop===n.gridContainer.scrollHeight-n.gridContainer.offsetHeight;xt(),n.props.handleBottomScroll(e)},(i="handleScroll")in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.categorized,r=t.categoryProps,a=t.handleBottomScroll,i=t.handleInterestClickFn,l=t.interests,s=t.showTableOfContents,u=t.interestFlipMessages,d=t.interestsToFlip,f=o.a.createElement(pt,{gridContainerRef:this.gridContainer,handleBottomScroll:a,handleInterestClickFn:i,interests:l,showTableOfContents:s,interestFlipMessages:u,interestsToFlip:d});return n&&r.categories&&(f=o.a.createElement(ft,Object.assign({},this.props,r))),o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{paddingBottom:!n&&"40px"}},height:s?"280px":"368px",flex:"grow",overflow:"scrollY",width:"800px"},o.a.createElement("div",{onScroll:this.handleScroll,ref:function(t){e.gridContainer=t}},l.length>0?f:o.a.createElement(p.G,{accessibilityLabel:c.a._("Loading default interests"),show:!0})))}}])&&ht(n.prototype,r),a&&ht(n,a),t}(),vt=n("q579"),St=n("p968"),Et=n("yINQ");function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pt(e,t,n[t])})}return e}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(){var e,t,n=1e3*(t=90-(e=20),e+Math.floor(Math.random()*t)),r=c.a.getLocaleData().locale,o=Object(St.d)(r,n,{shortform:!0});return function(e){var t=e.length;return e[Math.floor(Math.random()*t)]}([Object(i.i)(c.a.ngettext("{{ formattedNumber }} person collecting ideas about","{{ formattedNumber }} people collecting ideas about",n,"How many people collect ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:o}),Object(i.i)(c.a.ngettext("{{ formattedNumber }} person saving ideas about","{{ formattedNumber }} people saving ideas about",n,"How many people save ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:o}),Object(i.i)(c.a.ngettext("{{ formattedNumber }} person sharing ideas about","{{ formattedNumber }} people sharing ideas about",n,"How many people share ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:o})])}var Lt=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Nt(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==_t(o)&&"function"!=typeof o?jt(r):o,Pt(jt(jt(n)),"state",{defaultInterests:[],categoryProps:{},contextualMap:{},addedContextualTopics:{},interestFlipMessages:{},interestsToFlip:new Set}),Pt(jt(jt(n)),"calculateCategories",function(){var e={},t=n.getInterestsWithUpdatedIsFollowed(),r=n.handleInterestClickFn;t.forEach(function(t){var n=t.nux_category||"";Object.keys(e).includes(n)?e[n].push(t):e[n]=[t]});var o=[];if(Object.keys(e).forEach(function(t){o.push({title:t,interests:e[t]})}),6===o.length){for(var a=0;a<o.length;a++){var i=o[a];if(""===i.title||!i.interests||3!==i.interests.length)return}n.setState({categoryProps:{categories:o,handleInterestClickFn:r}})}}),Pt(jt(jt(n)),"handleInterestClickFn",function(e){return function(){var t=n.props,r=t.selectedInterests,o=t.onSelectedInterestsChange,a=t.inDynamicExp,i=!Object(l.b)(r,e);o([e],i),n.logInterestClick(i),n.setState({interestsToFlip:new Set([e.id])}),a&&n.contextualUpdateInterests(Pt({},e.id,""))}}),Pt(jt(jt(n)),"logInterestClick",function(e){var t=n.props.isRenux,r=e?1030:1151;Object(O.a)(101,{component:36,element:r,view:t?213:24,viewParameter:172})}),Pt(jt(jt(n)),"componentName",k.u),Pt(jt(jt(n)),"recordRenderLogToServer",function(){var e=n.renderTimers.pop();e.end(),st.default.logToServer(st.default.SERVER_LOG_TYPE.RENDER_TIME,st.default.HTTP_METHOD.POST,{timing:e.getCompletedTime(),component:n.componentName})}),Pt(jt(jt(n)),"renderTimers",[]),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,r["Component"]),n=t,(a=[{key:"getExtraImageSignal",value:function(){var e=Object(l.a)(),t=e.plpImages,n=e.blpImages,r=this.props,o=r.mostRecentPinImages,a=r.plpEnabledGroup,i=r.plpActivate,s=t.concat(n);return o.length>0&&(i&&i(),a)?o.concat(s):s}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isRenux,r=t.isSimpleRenux,o=t.selectedInterests,a=t.limited,i=t.inDynamicExp,l=E.a.create("NuxInterestsResource",{is_renux:n,logNetworkTimer:!0,loggerComponentName:k.u,extraImageSignal:this.getExtraImageSignal(),hideFollowedInterests:n&&!r,limited:a,urlParams:vt.a.getQueryStringParams()}).callGet({showError:!1},{retries:1}).then(function(t){if(t.resource_response&&t.resource_response.data){e.logSignupTiming();var n=e.mapInterests(o,t.resource_response.data);e.setState({defaultInterests:n}),e.getInterestsWithUpdatedIsFollowed().length>0&&e.calculateCategories()}}).catch(function(e){lt.default&&lt.default.showError(e.message||c.a._("Unable to load topics","Error message when failed to load topics."))}),s=Promise.resolve(!0);i&&(s=E.a.create("NuxContextualInterestsResource").callGet({showError:!1},{retries:1}).then(function(t){if(t.resource_response&&t.resource_response.data){for(var n=t.resource_response.data,r=Object.keys(n),o=0;o<r.length;o++){var a=r[o];n[a]=e.mapInterests([],n[a])}e.setState({contextualMap:t.resource_response.data})}}).catch(function(e){lt.default&&lt.default.showError(e.message||c.a._("Unable to load contextual topics","Error message when failed to get contextual topics."))}));Promise.all([l,s]).then(function(){var t=e.state,n=t.contextualMap,r=t.defaultInterests,o=t.interestFlipMessages,a={};r.forEach(function(e){!0===e.is_followed&&(a=Ct({},a,Pt({},e.id,"")))}),Object.keys(a).length>0&&e.contextualUpdateInterests(a);var i=Ct({},o);r.forEach(function(e){o[e.id]||(i[e.id]=It())}),Object.keys(n).forEach(function(e){(n[e]||[]).forEach(function(e){i[e.id]||(i[e.id]=It())})}),e.setState({interestsToFlip:new Set(Object.keys(a)),interestFlipMessages:i})})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){this.state.defaultInterests!==t.defaultInterests&&this.renderTimers.unshift((new Et.a).start())}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.defaultInterests;n!==t.defaultInterests&&(this.renderTimers.length&&this.recordRenderLogToServer(),this.calculateCategories()),n.length>0&&0===t.defaultInterests.length&&this.props.preselect&&this.preselectInterests()}},{key:"getInterestsWithUpdatedIsFollowed",value:function(){var e=this.props.selectedInterests;return this.state.defaultInterests.map(function(t){return t.is_followed=Object(l.b)(e,t),t})}},{key:"logSignupTiming",value:function(){var e=we.b.localStorage.getItem("signupTime");if(e){var t=Date.now()-e;t<k.z&&st.default.logToServer(st.default.SERVER_LOG_TYPE.SIGNUP_LOAD,st.default.HTTP_METHOD.POST,{timing:t,component:"nux"}),we.b.localStorage.removeItem("signupTime")}}},{key:"mapInterests",value:function(e,t){var n=this.props,r=n.anyEnabledForPreselectExp,o=n.customActivateForPreselectExp,a=t.map(function(e){var t=e.log_data,n=JSON.parse(t);return n&&"viewed_recs"===n.source&&0===n.pos&&(o&&o(),r&&(e.is_followed=!0)),Ct({},e,{label:e.name})});this.props.onSelectedInterestsChange(a.filter(function(e){return e.is_followed}),!0);var i=new Set(e.map(function(e){return e.id})),l=a.filter(function(e){return!i.has(e.id)});return e.concat(l)}},{key:"preselectInterests",value:function(){var e=this.props,t=e.numberToFollow,n=e.onSelectedInterestsChange,r=this.state.defaultInterests,o=t||k.g;n(r.slice(0,o),!0)}},{key:"contextualUpdateInterests",value:function(e){var t=this.props,n=t.dynamicEnabledGroup,r=t.dynamicActivate,o=this.state,a=o.defaultInterests,i=o.contextualMap,l=o.addedContextualTopics,s=[],c=!1;a.forEach(function(t){if(s.push(t),Object.keys(e).includes(t.id)&&Object.keys(i).includes(t.id)&&!Object.keys(l).includes(t.id)){if(r&&r(),!n)return;var o=i[t.id]||[];s.push.apply(s,Ot(o)),c=!0}}),c&&this.setState({addedContextualTopics:Ct({},l,e),defaultInterests:s})}},{key:"render",value:function(){var e=this.props,t=e.categorized,n=e.handleBottomScroll,r=e.showTableOfContents,a=this.state,i=a.interestFlipMessages,l=a.interestsToFlip;return o.a.createElement(wt,{categorized:t,categoryProps:this.state.categoryProps,handleBottomScroll:n,handleInterestClickFn:this.handleInterestClickFn,interests:this.getInterestsWithUpdatedIsFollowed(),interestFlipMessages:i,interestsToFlip:l,showTableOfContents:r})}}])&&kt(n.prototype,a),i&&kt(n,i),t}(),Rt=Object(a.connect)(function(e){var t=e.mostRecentPin;return{mostRecentPinImages:t&&t.plp_image_signatures?t.plp_image_signatures:[]}},function(){return{}})(function(e){return o.a.createElement(q.a,{name:"web_nux_auth_plp_picker",activate:!1},function(t){var n=t.anyEnabled,r=t.customActivate;return o.a.createElement(q.a,{name:"web_nux_dynamic_picker",isEligible:!e.isRenux&&"female"===e.gender,activate:!1},function(t){var a=t.anyEnabled,i=t.group,l=t.customActivate;return o.a.createElement(q.a,{name:"web_nux_preselect_topic",activate:!1,isEligible:!e.isRenux},function(t){var s=t.anyEnabled,c=t.customActivate;return o.a.createElement(q.a,{name:"web_renux_preselect_topic",activate:!1,isEligible:e.isRenux},function(t){var u=t.anyEnabled,p=t.customActivate;return o.a.createElement(Lt,Object.assign({},e,{anyEnabledForPreselectExp:s||u,customActivateForPreselectExp:c||p,inDynamicExp:!!i,dynamicEnabledGroup:a,dynamicActivate:l,plpEnabledGroup:n,plpActivate:r}))})})})})}),At=n("OLQZ"),Gt=n.n(At),Bt=n("Irlq");function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xt(e,t,n[t])})}return e}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1))"}},height:40,left:!0,marginTop:-10,position:"absolute",right:!0,top:!0}),Kt=function(e){function t(e){var n,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,l=zt(t).call(this,e),n=!l||"object"!==Ft(l)&&"function"!=typeof l?Wt(a):l,Xt(Wt(Wt(n)),"getButtonState",function(e,t,r,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=n.props,s=l.isRenux,u=l.isSimpleRenux,p=l.pickButtonTextGenerator,d=e.length,f=a&&d>=k.o?0:Math.max(0,t-d),m=o.nextButtonText,h=o.completionNextButtonText,b=p(f),y={done:{buttonText:h||c.a._("Done"),isDisabled:!1,allowSkip:!1},more:{buttonText:s&&!u?c.a._("Next","go to next step"):i.i(m||b,{numberLeftToFollow:"".concat(f)}),isDisabled:!0,allowSkip:!1},skip:{buttonText:c.a._("Skip (pick topics for me)"),isDisabled:!1,allowSkip:!0}};return 0===f?y.done:r?y.skip:y.more}),Xt(Wt(Wt(n)),"handleBottomScroll",function(e){var t=n.props,r=t.numberToFollow,o=t.selectedInterests,a=t.skipButton,i={nextButtonText:t.nextButtonText,nextButtonTextSingleTopic:t.nextButtonTextSingleTopic,completionNextButtonText:t.completionNextButtonText},l=n.getButtonState(o,r||k.f,a,i,e);n.setState(Dt({},n.state,l))}),Xt(Wt(Wt(n)),"handleBottomScrollThrottled",Gt()(n.handleBottomScroll,50)),Xt(Wt(Wt(n)),"handleNextClick",function(){var e,t=n.props,r=t.customProcessFollowedInterests,o=t.isRenux,a=t.selectedInterests,i=t.followedInterests,l=t.incrementNuxStep,s=t.nuxAnimationElement,c=t.setNuxPickerProgress,u=t.dispatchUpdateFollows,p=t.dispatchSubmitOrientationContext,d=t.requestContext;if(r)return o||c(k.b),r(),void l();if(o){var f=i.reduce(function(e,t){return e[t.id]=t.is_followed,e},{});e=Promise.resolve(u(f))}else{var m=[],h=[];a.forEach(function(e){m.push(e.id),h.push(e.log_data?e.log_data:null)});var b={interests:m.join(),log_data:JSON.stringify(h),referrer:"nux",user_behavior_data:Object(Ze.a)()};e=Promise.resolve(p(b))}e.then(function(){o||c(k.b),Object(O.a)(101,{component:17,element:96,view:n.viewType,viewParameter:172}),s&&new V.c(d,"web_nux_topics_home_animation").enabled()?n.setState({animateTopics:!0}):l()})}),Xt(Wt(Wt(n)),"renderSelectedTopicsSubHeader",function(){var e=n.props.selectedInterests,t=Ut(e.map(function(e){return e.label}),3),r=t[0],a=t[1],l=t[2],s=e.length-3,u=null;return e&&e.length>0&&(u=1===e.length?i.c(c.a._("You've selected {{firstTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r}):2===e.length?i.c(c.a._("You've selected {{firstTopic}} and {{secondTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r,secondTopic:a}):3===e.length?i.c(c.a._("You've selected {{firstTopic}}, {{secondTopic}} and {{thirdTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r,secondTopic:a,thirdTopic:l}):i.c(c.a.ngettext("You've selected {{firstTopic}}, {{secondTopic}}, {{thirdTopic}} and {{count}} more topic.","You've selected {{firstTopic}}, {{secondTopic}}, {{thirdTopic}} and {{count}} more topics.",s,"Subheader text to show the first three topics a user selects in topic picker, followed by a count of remaining topics chosen."),{firstTopic:r,secondTopic:a,thirdTopic:l,count:s.toString()})),o.a.createElement(p.K,{size:"xl"},u)}),Xt(Wt(Wt(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.isDisabled,i=t.allowSkip,l=t.buttonText,s=n.props,c=s.gender,u=s.isRenux,d=s.isSimpleRenux,f=s.numberToFollow,m=s.onSelectedInterestsChange,h=s.preselect,b=s.selectedInterests,y=s.showTableOfContents;return o.a.createElement(r.Fragment,null,o.a.createElement(p.m,{size:"sm",overflow:"normal"},e),o.a.createElement(p.b,{height:"100%",margin:5,overflow:"hidden"},o.a.createElement(p.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(Rt,{gender:c,handleBottomScroll:n.handleBottomScrollThrottled,isRenux:u,isSimpleRenux:d,numberToFollow:f,onSelectedInterestsChange:m,preselect:h,selectedInterests:b,showTableOfContents:y})),o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1))",bottom:75}},height:40,position:"absolute",width:k.n})),o.a.createElement(p.b,{"data-test-id":"nux-picker-done-btn",padding:1},o.a.createElement(p.c,{size:"lg",color:i?"gray":"red",text:l,disabled:a,onClick:n.handleNextClick,type:"submit"})))});var s=e.nextButtonText,u=e.nextButtonTextSingleTopic,d=e.completionNextButtonText,f=e.isRenux,m=e.selectedInterests,h={nextButtonText:s,nextButtonTextSingleTopic:u,completionNextButtonText:d},b=n.getButtonState(m,e.numberToFollow||k.f,e.skipButton,h);return n.state=Dt({},b,{animateTopics:!1}),n.viewType=f?213:24,n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxPickerProgress;n||r(k.y),t("topic"),Object(O.a)(13,{view:this.viewType,viewParameter:172})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.numberToFollow,r=t.selectedInterests,o=t.skipButton,a=t.nextButtonText,i=t.nextButtonTextSingleTopic,l=t.completionNextButtonText;if(r.length!==e.selectedInterests.length){var s={nextButtonText:a,nextButtonTextSingleTopic:i,completionNextButtonText:l},c=this.getButtonState(r,n||k.f,o,s);this.setButtonState(c)}}},{key:"setButtonState",value:function(e){this.setState(Dt({},e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.gender,a=t.incrementNuxStep,i=t.isRenux,l=t.isSimpleRenux,s=t.nuxAnimationElement,u=t.onSelectedInterestsChange,d=t.personalizationCopy,f=d.headerText,m=d.subHeaderText,h=t.preselect,b=t.selectedInterests,y=t.showTableOfContents,g=t.numberToFollow,x=this.state,w=x.animateTopics,v=x.isDisabled,S=x.buttonText;return o.a.createElement(r.Fragment,null,w&&o.a.createElement(it,Object.assign({item:"home",onComplete:a},s)),o.a.createElement(q.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(q.a,{name:"web_renux_categorized_topics",isEligible:i&&("male"===n||"female"===n)},function(t){var r=t.group,a=["enabled_categorized","enabled_limited","employees"].includes(r),s="enabled_categorized"===r||"employees"===r;return o.a.createElement(p.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(p.b,{display:"visuallyHidden",role:"alert"},Object(Bt.b)(c.a._("{{selectedTopicsCount}} of at least 5 topics selected","accessible label how many topics are selected"),{selectedTopicsCount:b.length})),o.a.createElement(p.b,{paddingX:8,marginTop:8,marginBottom:s?3:8,wrap:!0},o.a.createElement(p.m,{size:"xs"},f),i&&o.a.createElement(p.K,{size:"xl"},m),o.a.createElement(q.a,{name:"web_nux_selected_topics_subheader",isEligible:!i},function(t){return t.anyEnabled?e.renderSelectedTopicsSubHeader():null})),o.a.createElement(Rt,{categorized:s,gender:n,handleBottomScroll:e.handleBottomScrollThrottled,isRenux:i,isSimpleRenux:l,limited:a,numberToFollow:g,onSelectedInterestsChange:u,preselect:h,selectedInterests:b,showTableOfContents:y}),o.a.createElement(p.b,{position:"relative"},!s&&Yt,o.a.createElement(p.b,{"data-test-id":"nux-picker-done-btn",marginBottom:8,marginTop:s?3:4,paddingX:8},o.a.createElement(p.c,{size:"lg",color:"red",text:S,disabled:v,onClick:e.handleNextClick,type:"submit"}))))})}))}}])&&Ht(n.prototype,a),l&&Ht(n,l),t}();Xt(Kt,"defaultProps",{skipButton:!1,pickButtonTextGenerator:function(e){return c.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",e,"number of interests left to pick")}});var qt=Object(N.compose)(Q.e,Object(a.connect)(function(e){var t=e.viewer,n=e.ui;return{gender:t&&t.gender?t.gender:"",nuxAnimationElement:n&&n.header&&n.header.nuxAnimationElements&&n.header.nuxAnimationElements.hf?n.header.nuxAnimationElements.hf:void 0}},function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))},dispatchUpdateFollows:function(t){return e(Object(U.e)(t))},dispatchSubmitOrientationContext:function(t){return e(Object(U.b)(t))},setNuxPickerProgress:function(t){return e(Object(U.a)(k.v,t))}}}))(Kt),Vt=n("lx8N"),Qt=n("KstO");var Jt,Zt={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#4A90E2",purple:"#B469EB"},$t="DelightfulBubbles__",en=["".concat($t,"fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n"),"".concat($t,"growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n"),"".concat($t,"swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n")].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(Jt=Object.keys(Zt).map(function(e){var t,n,r,o,a=(t=Object.keys(Zt),n=e,r=t.length,o=t.indexOf(n)+1>=r?0:t.indexOf(n)+1,t[o]);return"".concat($t,"colorChange_").concat(e," {\n      0% {\n        background-color: ").concat(Zt[e],";\n      }\n      50% {\n        background-color: ").concat(Zt[a],";\n      }\n    }\n    ")}))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(Jt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),tn=Object(Qt.a)(en);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cn=function(e){var t=e.delay,n=e.diameter,r=e.height,a=e.initialColor,i=e.width,l=e.xOffset,s=e.yOffset,c=function(e,t,n,r,o,a,i,l){return{bubblePositionStyles:{position:"absolute",marginLeft:"".concat(a/2-o,"px"),marginTop:"".concat(n/2-o,"px"),left:"".concat(i,"px"),top:"".concat(l,"px")},bubbleSwirlStyles:{animation:"".concat($t,"swirl 6s ease-in-out ").concat(e,"s infinite forwards"),WebkitAnimation:"".concat($t,"swirl 6s ease-in-out ").concat(e,"s infinite forwards")},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:"".concat($t,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate"),WebkitAnimation:"".concat($t,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate")},bubbleShapeStyles:{height:"".concat(t,"px"),width:"".concat(t,"px"),borderRadius:"50%",backgroundColor:Zt[r],opacity:0,animation:"".concat($t,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat($t,"fadeIn 3s linear ").concat(e,"s 1 forwards"),WebkitAnimation:"".concat($t,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat($t,"fadeIn 3s linear ").concat(e,"s 1 forwards")}}}(t,n,r,a,Math.floor(n/2),i,l,s);return o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:c.bubblePositionStyles}},o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:c.bubbleSwirlStyles}},o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:c.bubbleGrowShrinkStyles}},o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:c.bubbleShapeStyles}}))))},un=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,n=!(o=(e=on(t)).call.apply(e,[this].concat(i)))||"object"!==nn(o)&&"function"!=typeof o?ln(r):o,sn(ln(ln(n)),"state",{isInitialized:!1}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.requestAnimationFrameId=window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"shouldComponentUpdate",value:function(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}},{key:"getSize",value:function(){return void 0!==this.props.width&&void 0!==this.props.height?{height:this.props.height,width:this.props.width}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{}}},{key:"createBubbles",value:function(e,t){for(var n=this.props,r=n.bubbleSize,a=n.delayFactor,i=n.delayOffset,l=n.numBubbles,s=n.xRadiusAdjustment,c=e+2*n.yRadiusAdjustment,u=t+2*s,p=[],d=Object.keys(Zt),f=0;f<l;f+=1){var m=r+Object(Qt.c)(-4,4),h=d[f%d.length],b=Object(Qt.b)(c,u),y=b.x,g=b.y;p.push(o.a.createElement(cn,{delay:f*a+i,diameter:m,initialColor:h,xOffset:y,yOffset:g,height:e,width:t,key:f}))}return p}},{key:"render",value:function(){var e=this,t=this.getSize();return o.a.createElement(p.b,Object.assign({},t,{position:"relative"}),o.a.createElement("style",{dangerouslySetInnerHTML:{__html:tn}}),o.a.createElement("div",{ref:function(t){return e.containerElement=t}},this.state.isInitialized&&this.createBubbles(t.height||0,t.width||0),o.a.createElement(p.b,{position:"relative"},this.props.children)))}}])&&rn(n.prototype,a),i&&rn(n,i),t}();sn(un,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var pn=un,dn=n("ggpB"),fn=n("hCBh");function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wn=250,vn=function(e){function t(){var e,n,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return a=this,l=(e=bn(t)).call.apply(e,[this].concat(u)),n=!l||"object"!==mn(l)&&"function"!=typeof l?gn(a):l,xn(gn(gn(n)),"state",{animateProfile:!1,name:n.props.firstName,showAccountSwitchModal:!1,showNameInput:!1,showNoNameError:!1,showNameLengthError:!1}),xn(gn(gn(n)),"onNameChange",function(e){var t=e.value;n.setState({name:t||"",showNoNameError:!t||i.h(t),showNameLengthError:!!t&&t.length>30})}),xn(gn(gn(n)),"toggleNameInput",function(){var e=n.props.requestContext;if(n.state.showNameInput&&new V.c(e,"web_nux_profile_animation").enabledWithNoActivation()){var t=Object(fn.a)(n.state.name);n.props.updateNameInfo(t)}n.setState(function(e){var t=e.showNameLengthError,n=e.showNoNameError,r=e.showNameInput;return{showNameInput:t||n||!r}}),Object(O.a)(101,{element:136,view:24,viewParameter:259})}),xn(gn(gn(n)),"continueAndSave",function(){var e=n.props,t=e.incrementNuxStep,r=e.requestContext,o=e.setNuxNameProgress,a=e.updateNameInfo,i=n.state.name;a(Object(fn.a)(i)).then(function(){o(),Object(O.a)(101,{element:96,view:24,viewParameter:259}),new V.c(r,"web_nux_profile_animation").enabledWithNoActivation()?n.setState({animateProfile:!0}):t()})}),xn(gn(gn(n)),"getError",function(){var e=n.state,t=e.showNameLengthError,r="";return e.showNoNameError?r=c.a._("And your name is...?","Error flyout when user doesn't input name"):t&&(r=c.a._("Hmm, that's a few characters too long. Try a nickname instead?","Name exceeds 30 character maximum error")),r}),xn(gn(gn(n)),"handleHideAccountSwitcher",function(){return n.setState({showAccountSwitchModal:!1})}),xn(gn(gn(n)),"handleNotYouClick",function(e){e.event.preventDefault(),Object(dn.a)("web.nux.click_login"),n.setState({showAccountSwitchModal:!0})}),xn(gn(gn(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy,t=e.headerText,a=e.subHeaderText,l=n.state,s=l.name,u=l.showNameInput,d=i.c(c.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:t,name:s}),f=t,m=n.getError(),h=o.a.createElement(p.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(p.o,{accessibilityLabel:c.a._("Edit name","Icon to edit name inferred from email"),bgColor:"transparent",icon:u?"check":"edit",onClick:n.toggleNameInput,size:"sm"}));return o.a.createElement(r.Fragment,null,o.a.createElement(p.b,{alignItems:"center",display:"flex",maxWidth:"100%"},o.a.createElement(p.m,{size:"sm",truncate:!0},u?f:d),u&&o.a.createElement(p.b,{"data-test-id":"nux-edit-name-input",marginLeft:2,width:wn},o.a.createElement(p.M,{id:"name",errorMessage:m,onChange:n.onNameChange,placeholder:c.a._("Name","Inferred name textfield placeholder"),type:"text",value:s})),h),o.a.createElement(p.K,{align:"center",size:"xl"},a),o.a.createElement(p.b,{"data-test-id":"nux_name_done_btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(p.c,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:!!m,onClick:n.continueAndSave,text:c.a._("Next","next nux step button"),type:"button"})))}),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.nuxAnimationElement,n=e.requestContext;this.props.dispatchSetNuxStepProgress("welcome"),Object(O.a)(13,{view:24,viewParameter:259}),t&&new V.c(n,"web_nux_profile_animation").enabled()}},{key:"render",value:function(){var e=this,t=this.props,n=t.incrementNuxStep,r=t.personalizationCopy,a=r.headerText,l=r.subHeaderText,s=t.nuxAnimationElement,u=t.userEmail,d=this.state,f=d.animateProfile,m=d.name,h=d.showAccountSwitchModal,b=d.showNameInput,y=i.c(c.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:a,name:m}),g=a,x=c.a._("Already have a Pinterest account?","subtitle to ask users who create a new account if they meant to log in to an existing account"),w=this.getError(),v=o.a.createElement(p.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(p.o,{accessibilityLabel:"editName",bgColor:"transparent",icon:b?"check":"edit",onClick:this.toggleNameInput,size:"sm"}));return o.a.createElement(q.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(o.a.Fragment,null,f&&o.a.createElement(it,Object.assign({item:"profile",onComplete:n},s)),h&&o.a.createElement(Vt.a,{onDismiss:e.handleHideAccountSwitcher,showAddAccount:!0,hideAccountSwitchValueProp:!0,customTaglineText:c.a._("Log in","Title on modal for users to log in to an existing account after they accidentally created a new account")}),o.a.createElement(p.b,{direction:"column",display:"flex",height:"100%",padding:10,minWidth:"100%"},o.a.createElement(p.b,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"around",marginBottom:10,width:"100%"},o.a.createElement(pn,{delayOffset:-5,xRadiusAdjustment:40},o.a.createElement(p.b,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:100,justifyContent:"end",overflow:"hidden",shape:"circle",width:100},o.a.createElement(p.n,{accessibilityLabel:c.a._("Loading state for any sign up registration"),color:"gray",icon:"person",size:70}))),o.a.createElement(p.b,{alignItems:"center",marginTop:5},o.a.createElement(p.K,{align:"center",size:"lg",truncate:!0},u)),o.a.createElement(p.b,{alignItems:"end",display:"flex",width:"100%"},o.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},direction:"column",display:"flex",marginStart:9,maxHeight:170,overflow:"hidden",width:"100%"},o.a.createElement(p.q,{htmlFor:"name"},o.a.createElement(p.m,{size:"sm"},b?g:y)),b&&o.a.createElement(p.b,{alignItems:"center","data-test-id":"nux-edit-name-input",display:"flex",justifyContent:"center",padding:1},o.a.createElement(p.b,{width:wn},o.a.createElement(p.M,{id:"name",errorMessage:w,onChange:e.onNameChange,placeholder:c.a._("name"),type:"text",value:m})),v)),!b&&v),o.a.createElement(p.b,{width:"100%"},o.a.createElement(p.K,{align:"center",size:"xl"},l))),o.a.createElement(p.b,{"data-test-id":"nux_name_done_btn"},o.a.createElement(p.c,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:!!w,onClick:e.continueAndSave,text:c.a._("Next","next nux step button"),type:"button"})),o.a.createElement(p.b,{marginTop:4},o.a.createElement(p.P,{onTouch:e.handleNotYouClick,fullWidth:!1},o.a.createElement(p.K,{size:"lg",align:"center"},x),o.a.createElement(p.K,{size:"lg",align:"center",bold:!0},o.a.createElement(p.t,{href:"#"},c.a._("Log in instead","Link allowing users who just created a new account the option to log in instead into an existing account")))))))})}}])&&hn(n.prototype,a),l&&hn(n,l),t}(),Sn=Object(N.compose)(Q.e,Object(a.connect)(function(e){var t=e.viewer,n=e.ui;return{firstName:t.firstName?t.firstName:"",nuxAnimationElement:n&&n.header&&n.header.nuxAnimationElements&&n.header.nuxAnimationElements.profile?n.header.nuxAnimationElements.profile:void 0,userEmail:t.isAuth?t.email:""}},function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))},updateNameInfo:function(t){return e(Object(U.f)({updateUserData:t}))},setNuxNameProgress:function(){return e(Object(U.a)(k.w,k.b))}}}))(vn),En=[{moduleName:"NuxPicker"},{moduleName:"NuxExtensionUpsell"},{moduleName:"NuxEducationLoader"}];function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Tn=n("JsRk");function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bn(e,t,n[t])})}return e}function In(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=Rn(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==jn(o)&&"function"!=typeof o?Gn(r):o,Bn(Gn(Gn(n)),"state",{followedInterests:[],isLoading:!1,nuxStep:n.getNextStepIndex(-1,n.props.steps,!1),selectedInterests:[],userClickedBack:!1}),Bn(Gn(Gn(n)),"onComplete",function(){var e=n.props,t=e.handleComplete,r=e.isLandingPage,o=e.isRenux,a=e.dispatchUpdateFirstHomeFeedRequestAfterNuxFlag;Object(O.a)(4105,{view:o?213:24,viewParameter:171}),o||a(!0),t(),r&&n.handleNavigate("/")}),Bn(Gn(Gn(n)),"mounted",!1),Bn(Gn(Gn(n)),"handleNavigate",function(e){var t=n.props.router;if(t)t.push(e);else{var r=new u.a;s.default.navigate(e,r)}}),Bn(Gn(Gn(n)),"handleSelectedInterestsChange",function(e,t){n.setState(function(r,o){var a=n.getUpdatedSelectedInterests(r.selectedInterests,e,t),i=n.getUpdatedFollowInterests(r.followedInterests,e,t);return(0,o.dispatchSetNuxSelectedInterestImages)(a.reduce(function(e,t){if(t&&t.images&&t.images["400x"]){var n={height:t.images["400x"].height,width:t.images["400x"].width,url:t.images["400x"].url};e.push(n)}return e},[])),{selectedInterests:a,followedInterests:i}})}),Bn(Gn(Gn(n)),"nuxSteps",{NuxGenderStep:ae,NuxLocaleCountryStep:Ne,NuxPicker:qt,NuxExtensionUpsell:K,NuxEducationLoader:G,NuxWelcomeNameStep:Sn}),Bn(Gn(Gn(n)),"onPrevStepClickFn",function(e){var t=n.props,r=t.steps,o=t.isRenux,a=r[e].moduleName;return function(){var t={NuxWelcomeNameStep:259,NuxGenderStep:3120,NuxLocaleCountryStep:3139,NuxPicker:172}[a];t&&Object(O.a)(101,{component:17,element:34,view:o?213:24,viewParameter:t}),e>0&&n.setState({nuxStep:e-1,userClickedBack:!0})}}),n}var n,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props.isRenux;this.mounted=!0,Object(O.a)(4104,{view:e?213:24,viewParameter:170})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getUpdatedFollowInterests",value:function(e,t,n){var r=In(e);return t.forEach(function(e){var t=Pn({},e,{is_followed:n}),o=!1;r=r.map(function(e){return e.id===t.id?(o=!0,t):e}),o||r.push(t)}),r}},{key:"getUpdatedSelectedInterests",value:function(e,t,n){var r=In(e);return t.forEach(function(t){var o=Object(l.b)(r,t);n&&!o?r.push(Pn({},t,{is_followed:n})):!n&&o&&(r=e.filter(function(e){return e.id!==t.id}))}),r}},{key:"getPersonalizationCopy",value:function(e){var t,n,r=this.props,o=r.isRenux,a=r.isSimpleRenux,l=r.steps,s=e.moduleName,u=l.map(function(e){return e.moduleName}).indexOf(s)===l.length-2;switch(s){case"NuxWelcomeNameStep":return{headerText:c.a._("Welcome to Pinterest","greeting on welcome name step"),subHeaderText:c.a._("Your answers to the next few questions will help us find the right ideas for you","header on nux welcome and name editing step")};case"NuxGenderStep":return t=c.a._("How do you identify?","Header in NUX gender step."),n="",o&&(t=c.a._("It’s time to refresh your feed!","Title on the modal asking user's gender"),n=c.a._("How would you describe yourself?","Subtitle on the modal asking user's gender")),{headerText:t,subHeaderText:n};case"NuxLocaleCountryStep":return{headerText:c.a._("Pick your language and country","Header in NUX locale/country step")};case"NuxPicker":return o&&!a?(t=c.a._("What are you into these days?","Header in ReNUX topic picker step."),n=c.a._("Pick the topics you want to see in your home feed","Subheader in ReNUX topic picker step.")):(t=u?c.a._("Last step! Tell us what you're interested in","Header in NUX topic picker step."):c.a._("Tell us what you're interested in","Header in NUX topic picker step."),n=i.c(c.a._("Pick {{ numberToFollow }} (or more!) to start discovering new ideas","Subheader in NUX topic picker step with required number of topics to follow"),{numberToFollow:String(k.f)})),{headerText:t,subHeaderText:n};case"NuxExtensionUpsell":return{headerText:t=u?c.a._("Last step! Get our handy browser button","Header in NUX browser extension upsell step."):c.a._("Get our handy browser button","Header in NUX browser extension upsell step."),subHeaderText:c.a._("Quickly save any idea you find around the web","Subheader in NUX browser extension upsell step")};default:return{}}}},{key:"nuxStepToRender",value:function(e,t){var n=this,r=this.state,a=r.followedInterests,i=r.selectedInterests,l=this.props,s=l.isRenux,c=l.isSimpleRenux,u=e.moduleName,p=this.nuxSteps[u],d=this.hasNuxStep("NuxGenderStep");return o.a.createElement(Q.a,null,function(r){return o.a.createElement(p,Object.assign({},e.options,{experiments:r.experiments,followedInterests:a,hasGenderStep:d,incrementNuxStep:n.incrementNuxStep(n.state.nuxStep),isSimpleRenux:c,isRenux:s,numberToFollow:s&&!c?k.x:k.f,onSelectedInterestsChange:n.handleSelectedInterestsChange,personalizationCopy:n.getPersonalizationCopy(e),requestContext:r,selectedInterests:i,showTableOfContents:t,toggleLoadingIndicator:function(e){return n.setState({isLoading:e})}}))})}},{key:"getNextStepIndex",value:function(e,t,n){var r=this.props.isRenux,o=e+1;if(n)return o;if(!r)for(;o<t.length&&t[o].isCompleted;)o+=1;return o}},{key:"incrementNuxStep",value:function(e){var t=this,n=this.props,r=n.steps,o=n.dispatchSubmitOrientationContextFollow,a=this.state.userClickedBack,i=this.getNextStepIndex(e,r,a);return i>=r.length?this.onComplete:function(){var n=function(n){if(e!==n)return t.setState({nuxStep:n})};r.length>i&&r[i].options&&r[i].options.onStartApi?r[i].options.onStartApi===k.i?o().finally(n):n(i):n(i)}}},{key:"hasNuxStep",value:function(e){return this.props.steps.some(function(t){return t.moduleName===e})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.nuxStep,r=this.props,a=r.handleDismiss,i=r.isLandingPage,l=r.isPartner,s=r.isRenux,c=r.isSimpleRenux,u=r.requestContext,p=r.steps,d=function(e){return["NuxEducationLoader"].includes(e)},f=p.filter(function(e){return!d(e.moduleName)}),m=!d(p[n].moduleName)&&!i&&!s,h=m&&f.length>1&&!l,b=m&&!h,y=!(!s||d(p[n].moduleName));return o.a.createElement(Je,{displayHide:y,isLoading:t,isRenux:s,isSimpleRenux:c,nuxStep:p[n],onHide:a,onPrevStepClick:this.onPrevStepClickFn(n),requestContext:u,showCounter:b,showTableContents:h,steps:f},this.nuxStepToRender(p[n],h))}}])&&Ln(n.prototype,a),p&&Ln(n,p),t}();Bn(Fn,"defaultProps",{isRenux:!1,isSimpleRenux:!1});t.a=Object(N.compose)(Q.e,Object(a.connect)(function(e){var t=e.viewer;return{isPartner:t.isAuth&&t.isPartner}},function(e){return{dispatchSetNuxSelectedInterestImages:function(t){return e(function(e){return{type:"SET_NUX_SELECTED_INTEREST_IMAGES",payload:{images:e}}}(t))},dispatchSubmitOrientationContextFollow:function(){return e(Object(U.c)())},dispatchUpdateFirstHomeFeedRequestAfterNuxFlag:function(t){return e(Object(U.d)(t))}}}),_.a,function(e){return function(t){function n(){var e,t,r,o,a,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=this,t=!(o=(e=Cn(n)).call.apply(e,[this].concat(c)))||"object"!==_n(o)&&"function"!=typeof o?Nn(r):o,a=Nn(Nn(t)),l={skipExtStep:!1},(i="state")in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,t}var a,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(n,r.PureComponent),a=n,(i=[{key:"componentDidMount",value:function(){var e=this,t=this.props.steps;B.a.extensionReady(k.p).then(function(n){t.some(function(e){return"NuxExtensionUpsell"===e.moduleName})&&n&&e.setState({skipExtStep:!0})})}},{key:"render",value:function(){var t=this.props.steps;return this.state.skipExtStep&&(t=t.filter(function(e){return"NuxExtensionUpsell"!==e.moduleName})),o.a.createElement(e,Object.assign({},this.props,{steps:t}))}}])&&On(a.prototype,i),l&&On(a,l),n}()},function(e){return function(t,n){return o.a.createElement(e,Object.assign({},t,{steps:t.steps||En}))}},Tn.withRouter)(Fn)}}]);
//# sourceMappingURL=pjs-CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~LaunchpadPage~PinAnalyt~c901f584-38f9abeba1269b431121.js.map
