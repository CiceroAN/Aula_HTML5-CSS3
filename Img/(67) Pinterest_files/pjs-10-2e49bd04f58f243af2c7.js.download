(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[10,"PersistentOneClickSaveCommon"],{"/mke":function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),i={backgroundColor:"rgba(0, 0, 0, .06)"},o={backgroundColor:"rgba(51, 51, 51, 1.0)"},l={backgroundColor:"rgba(255, 255, 255, 1.0)"},c={backgroundColor:"rgba(239, 239, 239, 1.0)"},u={backgroundColor:"rgba(142 ,142, 142, 1.0)"},s={backgroundColor:"rgba(230, 0, 35, 1.0)"},d={transparent:{backgroundColor:"transparent"},transparentDarkGray:{backgroundColor:"rgba(51, 51, 51, .8)"},transparentHovered:i,transparentFocused:i,transparentActive:{backgroundColor:"rgba(0, 0, 0, .1)"},transparentDarkGrayHovered:o,transparentDarkGrayFocused:o,transparentDarkGrayActive:{backgroundColor:"rgba(51, 51, 51, 1.0)"},white:{backgroundColor:"rgba(255, 255, 255, .9)"},whiteHovered:l,whiteFocused:l,whiteActive:{backgroundColor:"rgba(255, 255, 255, 1.0)"},lightGray:{backgroundColor:"rgba(239, 239, 239, .9)"},lightGrayHovered:c,lightGrayFocused:c,lightGrayActive:{backgroundColor:"rgba(239, 239, 239, 1.0)"},gray:{color:"rgba(142 ,142, 142, .9)"},grayHovered:u,grayFocused:u,grayActive:{backgroundColor:"rgba(142 ,142, 142, 1.0)"},red:{backgroundColor:"rgba(230, 0, 35, .9)"},redActive:s,redFocused:s,redHovered:s},p=n("+U6O");function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={xs:24,sm:32,md:40,lg:48,xl:56},y={alignItems:"center",borderRadius:"50%",display:"flex",justifyContent:"center"},v={boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)",outline:0},g={transparent:"gray",gray:"white",lightGray:"gray",white:"gray",transparentDarkGray:"white",red:"white"};function h(e){var t=e.active,n=void 0!==t&&t,r=e.bgColor,i=void 0===r?"transparent":r,o=e.focused,l=void 0!==o&&o,c=e.hovered,u=void 0!==c&&c,s=e.icon,m=e.iconColor,h=void 0===m?g[i]:m,w=e.size,E=void 0===w?"md":w,O=e.title,_=void 0===O?"":O,k=e.iconSize||f[E]/2,P={height:f[E],width:f[E]},S=b({},y,d[i],n?d["".concat(i,"Active")]:{},l?v:{},l?d["".concat(i,"Focused")]:{},!u||l||n?{}:d["".concat(i,"Active")]);return a.a.createElement("div",{style:b({},P,S)},a.a.createElement(p.b,{shape:"circle"},a.a.createElement(p.n,{accessibilityLabel:"",color:h,icon:s,size:k,title:_})))}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return x});var x=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=this,a=(e=_(t)).call.apply(e,[this].concat(o)),n=!a||"object"!==w(a)&&"function"!=typeof a?P(r):a,S(P(P(n)),"state",{active:!1,focused:!1,hovered:!1}),S(P(P(n)),"handleBlur",function(){return n.setState({focused:!1})}),S(P(P(n)),"handleFocus",function(){n.setState({focused:!0})}),S(P(P(n)),"handleMouseDown",function(){n.setState({active:!0})}),S(P(P(n)),"handleMouseEnter",function(){n.setState({hovered:!0})}),S(P(P(n)),"handleMouseLeave",function(){n.setState({active:!1,hovered:!1})}),S(P(P(n)),"handleMouseUp",function(){n.setState({active:!1})}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.accessibilityExpanded,n=e.accessibilityHaspopup,r=e.accessibilityLabel,i=e.bgColor,o=e.icon,l=e.iconColor,c=e.iconSize,u=e.onClick,s=e.size,d=e.wrappingPogStyle,p=this.state,b=p.active,m=p.focused,f=p.hovered;return a.a.createElement("button",{"aria-expanded":t,"aria-haspopup":n,"aria-label":r,onBlur:this.handleBlur,onClick:function(e){return u&&u({event:e})},onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,style:{background:"transparent",border:0,cursor:"pointer",display:"block",outline:0,padding:0},title:r,type:"button"},a.a.createElement("div",{style:E({},d||{})},a.a.createElement(h,{active:b,bgColor:i,focused:m,hovered:f,icon:o,iconColor:l,iconSize:c,size:s,title:r})))}}])&&O(n.prototype,r),i&&O(n,i),t}()},"2LZR":function(e,t,n){"use strict";function r(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",function(){return r})},IaXd:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("GyhR"),a=n("NmcB"),i=n("yJaP");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object(i.b)(),l=n.componentType,c=n.contextLogData,u=n.viewParameter,s=n.viewType;return Object(r.useCallback)(function(){Object(a.a)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({component:l,view:s,viewParameter:u},c,t||{}))},[e,l,c,u,s])}},jSHg:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},mzhd:function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),i=n("UmN8"),o=n("Ivf5"),l=n("XwKk"),c=n("CwDa"),u=n("E/Qu"),s=n("kR61"),d=n("zBQm"),p=function(){return{isCarousel:!1,isCollage:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isStoryPin:!1,isVideo:!1}};function b(e){var t=e.access,n=e.aggregated_pin_data,r=e.attribution,a=e.buyable_product,i=e.carousel_data,o=e.embed,l=e.is_eligible_for_web_closeup,c=e.rich_summary,u=e.story_pin_data_id,s=e.videos,b=p();i&&(b.isCarousel=!0),l&&(b.isOneTap=!0),Object(d.h)(s)&&(b.isVideo=!0);var m=o||r&&r.embed||null;return m&&"gif"===m.type&&(b.isGif=!0),(a||c&&"product"===c.type_name)&&(b.isProduct=!0),c&&"recipe"===c.type_name&&(b.isRecipe=!0),n&&n.pin_tags_chips&&(b.isCollage=!0),e.promoter&&!e.is_downstream_promotion&&(b.isPromoted=!0),(t||[]).includes("write")&&(b.isOwnPin=!0),u&&(b.isStoryPin=!0),b}function m(e){var t=e.inChangeTitlesExp,n=e.isGroupBoard,r=e.pin,a=e.surface,i=r.buyable_product,o=r.carousel_data,l=r.grid_title,c=r.rich_summary,u=r.title;if(t)return l||"";var s=c&&"mobile application"!==c.type_name&&c.display_name,d=i&&i.title;if(b(r).isOwnPin&&!n&&!o&&"UserProfilePinGrid"!==a)return"";if(o){var p=o.carousel_slots,m=void 0===p?[]:p,f=o.index;if(m[f]&&m[f].title)return m[f].title.trim()}return u||s||d||l||""}var f={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var y=n("rSK6"),v=n("Qo1m"),g=n("Irlq");function h(e){return a.a.createElement("div",{style:{pointerEvents:"auto"}},e)}var w=n("VPPQ"),E=n("+U6O"),O=n("yJaP"),_=function(){return Promise.all([n.e(9),n.e(25),n.e(28),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"24KF"))},k=function(){return Promise.resolve().then(n.bind(null,"qE0g"))},P=function(){return n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"hm37"))},S=function(){return n.e("PinRepSourceLinkButtonCommon").then(n.bind(null,"MGHi"))};var x=Object(r.memo)(function(e){var t=e.feedbackData,n=e.feedbackType,r=e.onToggleFlyout,i=(e.onToggleModal,e.pin),o=e.pinTitle,l=e.setForcePrimary,c=e.showEditButton,u=e.showOverflowMenu,s=e.sourceLinkStyle,d=e.useDenseGroupBoardLayout,p=Object(O.b)(),b=p.viewParameter,m=p.viewType,f=i.carousel_data,y=i.id,v=a.a.createElement(w.a,{loader:S},function(e){return h(a.a.createElement(e,{pin:i,sourceLinkStyle:s}))}),g=a.a.createElement(w.a,{loader:P},function(e){return h(a.a.createElement(e,{pin:i,setForcePrimary:l}))}),x=u&&a.a.createElement(w.a,{loader:k},function(e){return h(a.a.createElement(e,{feedbackData:t,feedbackType:n,pin:i,pinTitle:o,setForcePrimary:l}))}),j=c&&a.a.createElement(w.a,{loader:_},function(e){return h(a.a.createElement(e,{carouselSlotCurrentIndex:f&&f.index,component:0,onToggleModal:r,pinId:y,style:{size:"sm"},view:m,viewParameter:b,useLegoStyles:!0}))});return d?a.a.createElement(E.b,{alignItems:"center",display:"flex",justifyContent:"between",padding:3},a.a.createElement(E.b,{width:"32px"},v),a.a.createElement(E.b,null,g),a.a.createElement(E.b,null,j)):a.a.createElement(E.b,{alignItems:"center",display:"flex",padding:3},a.a.createElement(E.b,{flex:"shrink"},v),a.a.createElement(E.b,{alignItems:"center",display:"flex",flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"auto"}}},a.a.createElement(E.b,{paddingX:u||c?2:0},g),x,j))}),j=n("oko/"),C=n("NmcB");var T=Object(o.connect)(null,function(e){return{changeCarouselSlotIndex:function(t,n){return e(Object(j.a)(t,n))}}})(function(e){var t=e.pin,n=e.changeCarouselSlotIndex,r=Object(O.b)(),i=r.componentType,o=r.viewParameter,l=r.viewType,c=t.id,u=void 0===c?"":c,s=t.carousel_data;if(!s)return null;var d=s.carousel_slots,p=s.index,b=s.id,m=function(e,t){Object(C.a)(108,{objectId:u,component:i,view:l,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[e]&&Number(d[e].id),carouselDataId:Number(b),carouselSlotIndex:e,toCarouselSlotIndex:t}}})};return a.a.createElement(E.b,{height:"100%",width:"100%",position:"relative"},p>0&&h(a.a.createElement(E.b,{position:"absolute",left:!0,bottom:!0,top:!0},a.a.createElement(E.P,{fullWidth:!0,fullHeight:!0,onTouch:function(){n(u,p-1),m(p,p-1)}},a.a.createElement(E.b,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center","data-test-id":"carousel-slider-left",padding:2},a.a.createElement(E.n,{color:"white",icon:"arrow-back",accessibilityLabel:v.a._("View Previous","Button to advance carousel to the previous image")}))))),p<d.length-1&&h(a.a.createElement(E.b,{position:"absolute",right:!0,bottom:!0,top:!0},a.a.createElement(E.P,{fullWidth:!0,fullHeight:!0,onTouch:function(){n(u,p+1),m(p,p+1)}},a.a.createElement(E.b,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center","data-test-id":"carousel-slider-right",padding:2},a.a.createElement(E.n,{color:"white",icon:"arrow-forward",accessibilityLabel:v.a._("View Next","Button to advance carousel to the next image")}))))))}),I=n("iJ35"),L=32;function D(e){var t=e.avatarUrl,n=e.attributionNameLink,r=e.name,i=void 0===r?"":r,o=a.a.createElement(E.b,{height:"".concat(L,"px"),width:"".concat(L,"px")},a.a.createElement(E.a,{name:i,src:t}));return n?a.a.createElement(I.b,{className:"underlineLink",to:n},o):o}var B=n("b7z0");function A(e){var t=e.attributionNameLink,n=e.name,r=e.regularWeight,i=a.a.createElement(B.b,{size:"sm",truncate:!0,weight:r?"normal":"semibold"},n);return a.a.createElement(E.b,null,t?a.a.createElement(I.b,{className:"underlineLink",to:t},i):i)}function R(e){var t=e.link,n=e.title;if(!n)return null;var r=a.a.createElement(E.K,{leading:"short",size:"sm",truncate:!0},n);return a.a.createElement(E.b,null,t?a.a.createElement(I.b,{className:"underlineLink",to:t},r):r)}var V=n("xP02");function M(e){var t=e.board,n=e.pinner,r=void 0===n?{}:n,a=e.promoter,i="",o="",l="",c="",u="";return b(e).isPromoted&&a?(i=a.image_medium_url||a.image_small_url,l=a.full_name,c=v.a._("Promoted by","indicating the username of the person who promoted the pin"),u="/".concat(a.username,"/")):(i=r.image_medium_url||r.image_small_url,o="/".concat(r.username,"/"),c=r.full_name,u=t?t.url:""),{avatarUrl:i,attributionNameLink:o,attributionTitle:l,name:c,url:u}}var G=n("qE0g"),F=n("IaXd"),H=n("VI9K"),z=n("9Y9K"),N=32;var U=Object(z.compose)(Object(o.connect)(null,function(e){return{setMostRecentPin:function(t){e(Object(H.a)(t))}}}))(function(e){var t=e.feedbackData,n=e.feedbackType,r=e.pin,i=e.pinTitle,o=e.setForcePrimary,l=e.setMostRecentPin,c=e.isDarkPromoter,u=r.id,s=r.pinner,d=b(r).isPromoted,p=s||r.promoter,m=Object(F.a)(101,{element:d?283:27,objectId:u}),f=M(r),y=f.avatarUrl,v=f.attributionNameLink,g=f.attributionTitle,h=f.name,w=f.url,_=Object(O.b)(),k=_.viewParameter,P=_.viewType,S=w&&!v,x=a.a.createElement(E.b,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}}},a.a.createElement(E.b,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}}},a.a.createElement(V.a,{user:p,username:p&&p.username,viewParameter:k,avatarSize:N,viewType:P,isDarkPromoter:c,pinId:u},a.a.createElement(D,{attributionNameLink:v,avatarUrl:y,name:h}))),a.a.createElement(E.b,{overflow:"hidden",flex:"grow",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}}},a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}}},a.a.createElement(A,{attributionNameLink:v,name:h,regularWeight:!g})),a.a.createElement(R,{title:g})));return a.a.createElement(E.b,{display:"flex",alignItems:"center"},a.a.createElement(E.b,{flex:"grow"},S?a.a.createElement(I.b,{className:"underlineLink",onClick:function(){l(u),m()},to:w},x):x),d&&a.a.createElement(E.b,{flex:"none"},a.a.createElement(G.default,{feedbackData:t,feedbackType:n,pin:r,pinTitle:i,setForcePrimary:o,transparentBackground:!0})))}),W=6;var K=Object(o.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carouselData:n[r]&&n[r].carousel_data}},function(e){return{changeCarouselSlotIndex:function(t,n){return e(Object(j.a)(t,n))}}})(function(e){var t=e.carouselData,n=e.changeCarouselSlotIndex,r=e.pinId,i=Object(O.b)(),o=i.componentType,l=i.viewParameter,c=i.viewType,u=t||{},s=u.carousel_slots,d=void 0===s?[]:s,p=u.id,b=u.index;return a.a.createElement(E.b,{display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:-3,marginRight:-3}}},d.map(function(e,t){return a.a.createElement(E.b,{key:r+t,dangerouslySetInlineStyle:{__style:{marginLeft:3,marginRight:3}}},a.a.createElement(E.P,{fullWidth:!1,shape:"circle",onTouch:(i=t,function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),void 0!==n&&(n(r,i),Object(C.a)(108,{component:o,eventData:{pinCarouselSlotEventData:{carouselDataId:Number(p),carouselSlotId:d[b]&&Number(d[b].id),carouselSlotIndex:b,toCarouselSlotIndex:i}},objectId:r,view:c,viewParameter:l}))})},a.a.createElement(E.b,{height:W,width:W,dangerouslySetInlineStyle:{__style:{backgroundColor:t===b?"#555":"lightGray"}},shape:"circle"})));var i}))}),q=n("Mce2"),Q=n("buVl"),X=n("lixz");function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Z(e,t,n[t])})}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){var t,n=e.additionalStyles,r=void 0===n?{}:n,i=e.children,o=e.collageChipId,l=e.componentType,c=e.contextLogData,u=e.elementType,s=e.pin,d=e.viewParameter,p=e.viewType,b=Object(O.b)(),m=s.carousel_data,f=s.id,y="/pin/".concat(o||f,"/"),v="static-pin";if(m){var g=m.carousel_slots,h=void 0===g?[]:g,w=m.id,E=m.index;y="/pin/".concat(f,"/"),t={carousel_slot_id:h[E]&&h[E].id,carousel_data_id:w,carousel_slot_index:E},v="carousel-pin"}return a.a.createElement(q.a,{id:v},a.a.createElement(I.b,{auxData:t,deeplinkUrls:Object(Q.m)(f),forceRefresh:1,onClick:function(){Object(X.e)(13),Object(C.a)(101,J({},c,{component:l||b.componentType,element:u,objectId:f,view:p||b.viewType,viewParameter:d||b.viewParameter}))},pinId:f,style:J({cursor:"zoom-in",display:"block"},r),to:y},i))}var $=n("vl7u");function ee(e){var t=e.feedbackType,n=e.pin,r=n.pinner||{},i=(n.source_interest||{}).name,o=r.full_name,l="topic"===t,c=!l&&"followed"===t,u="/".concat(r.username,"/"),s=Object($.g)(i),d="/search/pins/?q=".concat(encodeURIComponent(s),"&rs=image_only_attribution"),p=l?d:u,b={topic:v.a._("From {topic}","attribution on pin rep"),followed:v.a._("From {pinnerName}","attribution on pin rep"),pfyBoard:v.a._("Picked for you","attribution on pin rep"),pfy:v.a._("Picked for you","attribution on pin rep")}[t];if(!b)return null;if(c||l){var m=0===b.indexOf("{"),f=l?i:o,y=m?b.slice(b.indexOf("}")+1):b.slice(0,b.indexOf("{"));return m?a.a.createElement(E.b,null,a.a.createElement(I.b,{to:p},a.a.createElement(B.b,{weight:"bold",inline:!0,size:"sm",truncate:!0},f)),a.a.createElement(B.b,{inline:!0,size:"sm"},y)):a.a.createElement(E.b,null,a.a.createElement(B.b,{inline:!0,size:"sm"},y),a.a.createElement(I.b,{to:p},a.a.createElement(B.b,{color:"darkGray",weight:"bold",inline:!0,size:"sm",truncate:!0},f)))}return a.a.createElement(E.b,null,a.a.createElement(Y,{pin:n},a.a.createElement(B.b,{color:"darkGray",overflow:"normal",size:"sm",weight:"semibold"},b)))}var te=n("Fpqi");function ne(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){var t,n,r=e.children,i=e.componentType,o=e.contextLogData,l=(e.elementType,e.pin),c=e.viewParameter,u=e.viewType,s=Object(O.b)(),d=l.carousel_data,p=l.id,b=l.link,m=l.tracked_link,f="one-tap-desktop";if(d){var y=d.carousel_slots,v=void 0===y?[]:y,g=d.id,h=d.index;v[h]&&v[h].link&&(t=v[h].link),n={carousel_slot_id:v[h]&&v[h].id,carousel_data_id:g,carousel_slot_index:h},f+="-carousel"}else t=m||b;return a.a.createElement(q.a,{id:f},a.a.createElement(I.b,{auxData:n,deeplinkUrls:Object(Q.m)(p),external:!0,onClick:function(){var e=te.a.getInstance(),t=e.getViewFromContext();Object(C.a)(12,re({},o,{view:u||s.viewType,viewParameter:c||s.viewParameter,component:i||s.componentType,objectId:p,grid_index:s.slotIndex,pin_id:p,prefetch_percentage_complete:ne(b||"")})),Object(C.a)(13,re({closeup_navigation_type:"web_closeup",objectId:p,component:i||s.componentType,view:3},s.contextLogData,o)),e.addViewToContext(t)},pinId:p,style:{cursor:"pointer",display:"block"},to:t},r))}function oe(e){var t=b(e.pin).isOneTap?ie:Y;return a.a.createElement(t,e)}function le(e){return b(e).isProduct&&Object(s.b)(e)||""}var ce=n("LCmp");function ue(e){var t=e.pin,n=e.singleLineMaxLength,r=le(t),i=Object(ce.a)(r,n),o=a.a.createElement(B.b,{color:"darkGray","data-test-id":"PinRep-Source",overflow:"normal",size:"sm",weight:"normal"},i);return a.a.createElement(oe,{pin:t},o)}function se(e){var t=e.numberOfLines,n=void 0===t?2:t,r=e.pin,i=e.singleLineMaxLength,o=e.pinTitle,l=n*i,c=Object(ce.a)(o,l);return a.a.createElement(oe,{pin:r},a.a.createElement(B.b,{color:"darkGray","data-test-id":"PinRep-Title",overflow:"normal",size:"sm",weight:"semibold"},c))}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var pe=120;function be(e,t,n){e.current&&clearTimeout(e.current),e.current=null,n&&(t?e.current=setTimeout(n,t):n())}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe,a=Object(r.useRef)(),i=Object(r.useRef)(e),o=de(Object(r.useState)(e?"active":"inactive"),2),l=o[0],c=o[1];return e!==i.current&&(e?"inactive"===l?(c("starting"),be(a,t,function(){c("active")})):"ending"===l&&(c("active"),be(a)):"active"===l?(c("ending"),be(a,n,function(){c("inactive")})):"starting"===l&&(c("inactive"),be(a))),Object(r.useEffect)(function(){return function(){return be(a)}},[]),i.current=e,l}var fe=function(){return n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"sB4Q"))},ye={container:{padding:"8px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:"opacity ".concat(pe,"ms ease")},visible:{opacity:1}}};var ve=Object(r.memo)(function(e){var t=e.blockClickEvents,n=e.attributionType,r=e.feedbackData,o=e.feedbackType,l=e.hoverTransitionState,c=e.isDarkPromoter,u=e.pin,s=e.pinTitle,d=e.setForcePrimary,p=e.showBoardActivityReply,b=e.showGroupBoardAvatar,m=e.showReactions,f=e.showSource,y=e.singleLineMaxLength,v=e.titleLines,g=u.board_activity,O=u.carousel_data,_=u.id,k=s||f,P=M(u),S=P.avatarUrl,x=P.attributionNameLink,j=P.name,C=null;"default"===n?C=a.a.createElement(U,{feedbackData:r,feedbackType:o,pin:u,pinTitle:s,setForcePrimary:d,isDarkPromoter:c}):"image-only-credit"===n&&(C=a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:ye.imageOnlyAttribution["active"===l?"visible":"hidden"]}},a.a.createElement(ee,{pin:u,feedbackType:o})));var T=a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:ye.container}},O&&a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:k||b||"none"!==n?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center"},a.a.createElement(E.b,{flex:"none"},a.a.createElement(K,{pinId:_}))),a.a.createElement(E.b,{display:"flex"},a.a.createElement(E.b,{flex:"grow"},k&&a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:"none"===n?{}:{marginBottom:"6px"}}},a.a.createElement(se,{numberOfLines:v,pin:u,pinTitle:s,singleLineMaxLength:y}),f&&a.a.createElement(ue,{pin:u,singleLineMaxLength:y})),C,m&&a.a.createElement(E.b,{position:"relative","data-test-id":"board-activity-reactions",minHeight:16},a.a.createElement(i.a,{name:"group_boards_reactions"},function(e){var t=e.anyEnabled;return a.a.createElement(w.a,{loader:fe},function(e){return a.a.createElement(e,{activityId:g&&g.id||u.id,inReactionsExperiment:t,showReply:p,useLegoStyles:!0})})}))),b&&a.a.createElement(E.b,{flex:"none",marginRight:1},a.a.createElement(D,{attributionNameLink:x,avatarUrl:S,name:j}))));return t?a.a.createElement("div",{style:{pointerEvents:"none"}},T):h(T)});function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){he(e,t,n[t])})}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e){var t=e.children,n=e.additionalStyles,r=void 0===n?{}:n;return a.a.createElement(E.b,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:ge({pointerEvents:"none"},r)}},t)}var Ee=function(e,t){return{hidden:{opacity:0,transition:t?"opacity ".concat(t,"ms ease"):void 0},visible:{opacity:1,transition:e?"opacity ".concat(e,"ms ease"):void 0}}};function Oe(e){var t=e.visibility,n=e.children,r=e.fadeInDuration,i=void 0===r?0:r,o=e.fadeOutDuration,l=void 0===o?pe:o;return"none"!==t&&n?a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:Ee(i,l)[t]}},n):null}function _e(e){var t=e.selected;return a.a.createElement(E.b,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:t?"#e60023":"#efefef",borderRadius:Se,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}}})}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pe(e,t,n[t])})}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=16,xe={container:{borderRadius:Se,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{borderRadius:Se,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, .33)"}};function je(e){var t=e.children,n=e.savedOverlayVisibility,r=void 0===n?"none":n,i=e.visualOverlayVisibility,o=void 0===i?"none":i,l=e.primaryContent,c=e.primaryContentVisibility,u=void 0===c?"none":c,s=e.secondaryContent,d=e.secondaryContentVisibility,p=void 0===d?"none":d,b=e.accessoryContent,m=e.accessoryContentVisibility,f=void 0===m?"none":m,y=e.actionBar,v=e.actionBarVisibility,g=void 0===v?"none":v,h=e.footer,w=e.selectionState,O=void 0===w?"no-selection":w,_=e.debugContent,k=e.obscuredPinOverlay;return a.a.createElement(E.b,{position:"relative",dangerouslySetInlineStyle:{__style:xe.container},overflow:"hidden"},"no-selection"!==O&&a.a.createElement(_e,{selected:"selected"===O}),a.a.createElement(E.b,{position:"relative",dangerouslySetInlineStyle:{__style:ke({},xe.content,{WebkitMaskImage:"-webkit-radial-gradient(white, black)"})},overflow:"hidden"},t,a.a.createElement(Oe,{visibility:o},a.a.createElement(we,{additionalStyles:xe.visualOverlay})),a.a.createElement(Oe,{visibility:r},a.a.createElement(we,{additionalStyles:xe.savedOverlay})),b&&a.a.createElement(Oe,{visibility:f},a.a.createElement(we,null,b)),s&&a.a.createElement(Oe,{visibility:p},a.a.createElement(we,null,s)),l&&a.a.createElement(Oe,{visibility:u},a.a.createElement(we,null,l)),y&&a.a.createElement(Oe,{visibility:g},a.a.createElement(we,null,a.a.createElement(E.b,{position:"absolute",left:!0,right:!0,bottom:!0},y))),_&&a.a.createElement(we,null,_)),h,k&&a.a.createElement(E.b,null,k))}var Ce=function(){return Promise.all([n.e(9),n.e(25),n.e(28),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"24KF"))},Te=function(){return Promise.all([n.e(9),n.e(25),n.e(28),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"d94/"))},Ie=function(){return Promise.all([n.e(9),n.e(20),n.e(23),n.e("PinFeedbackPageDesktop~PinSaveButtonCommon"),n.e("PinSaveButtonCommon")]).then(n.bind(null,"odTJ"))},Le=function(){return Promise.all([n.e(9),n.e(20),n.e(23),n.e(25),n.e(28),n.e(45),n.e(62),n.e("PinBetterSaveCommon")]).then(n.bind(null,"qoD0"))},De=function(){return n.e("PinRepSavedCommon").then(n.bind(null,"mnfC"))},Be=function(){return n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"1pwd"))};function Ae(e){var t=e.derivedSaveButtonOptions,n=e.onToggleFlyout,o=e.onToggleModal,l=e.pin,c=e.showEditButton,u=e.showLikeButton,s=l.carousel_data,d=l.id,p=l.savedInfo,b=Object(r.useRef)(!!p),m=Object(O.b)(),f=m.viewParameter,y=m.viewType,v=Object(F.a)(101,{element:0,objectId:d}),g=null,_={onToggleModal:n,view:y,viewParameter:f,useLegoStyles:!0};if("classic"===t.type||"controlled"===t.type){var k=t.renderPinSaveTooltip;g=a.a.createElement(E.b,{display:"flex",justifyContent:"end"},a.a.createElement(w.a,{loader:Ie},function(e){return a.a.createElement(q.a,{id:"pin-save-button"},h(a.a.createElement(e,{icon:!1,onClickCallback:v,onToggleModal:o,oneTapSave:"controlled"===t.type&&t,pin:l,renderPinSaveTooltip:k,variant:"lego"})))}))}else if("inline"===t.type){var P=l,S=t.initialSelection,x=t.onSave,j=t.renderPinSaveTooltip;g=a.a.createElement(w.a,{loader:Le},function(e){return a.a.createElement(q.a,{id:"better-save"},h(a.a.createElement(e,{initialSelection:S,onSave:x,onToggleFlyout:n,onToggleModal:o,pin:P,renderPinSaveTooltip:j,renderSavedStatus:function(e){var t=e.savedInfo;return a.a.createElement(w.a,{loader:De},function(e){return h(a.a.createElement(e,{isNewlySaved:!b.current,name:t.title,url:t.url}))})},useMasonryFlyout:!0,variant:"lego-pin",viewParameter:f})))})}else"persistentOneClickSave"===t.type&&(g=a.a.createElement(w.a,{loader:Te},function(e){return h(a.a.createElement(e,Object.assign({},_,{saveOptions:t,pin:l})))}));var C=null;return c?C=a.a.createElement(w.a,{loader:Ce},function(e){return h(a.a.createElement(e,Object.assign({},_,{carouselSlotCurrentIndex:s&&s.index,component:0,pinId:d,style:{size:"sm"}})))}):u&&(C=a.a.createElement(w.a,{loader:Be},function(e){return a.a.createElement(i.a,{name:"group_boards_reactions",activate:!1},function(t){var n=t.anyEnabled,r=t.customActivate;return h(a.a.createElement(e,{pin:l,activateReactionsExperiment:r,inReactionsExperiment:n}))})})),a.a.createElement(E.b,{display:"flex",margin:3,overflow:"hidden"},C&&a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{marginRight:"auto"}},flex:"grow"},C),g&&a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{marginLeft:"auto"}},flex:"grow",overflow:"hidden"},g))}var Re=n("yXM0");function Ve(e){return a.a.createElement(E.b,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"18px",color:"white",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"}},"data-test-id":"PinTypeIdentifier"},e)}function Me(e){var t=e.pin,n=b(t);if(n.isGif)return Ve("GIF");if(n.isStoryPin)return Ve("Story");if(n.isVideo){var r=t.videos,a=(r&&r.video_list&&r.video_list[Object.keys(r.video_list)[0]]||{}).duration,i=void 0===a?0:a;return Ve(Object(Re.a)(i))}if(n.isCarousel){var o=t.carousel_data||{},l=o.carousel_slots,c=void 0===l?[]:l,u=o.index;return Ve("".concat((void 0===u?0:u)+1,"/").concat(c.length))}return null}var Ge=n("IqQH"),Fe={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function He(e){var t=e.pin,n=(t.aggregated_pin_data||{}).pin_tags_chips;return a.a.createElement(E.b,{display:"flex",dangerouslySetInlineStyle:{__style:Fe.chipContainer}},n&&n.map(function(e){var n=e.images["750x"]||{};return a.a.createElement(E.b,{key:e.id,dangerouslySetInlineStyle:{__style:Fe.chip}},a.a.createElement(E.b,{position:"relative",dangerouslySetInlineStyle:{__style:Fe.chipInner}},a.a.createElement(E.b,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0},a.a.createElement(E.u,{width:"100%",height:"100%",wash:!0},a.a.createElement(Y,{pin:t,collageChipId:e.id,additionalStyles:{width:"100%",height:"100%"}},a.a.createElement(E.p,{alt:"",naturalHeight:n.height,naturalWidth:n.width,src:n.url,fit:"cover"}))))))}))}var ze=n("EQo2"),Ne=n("k3nM"),Ue=55;function We(e){var t=e.allowImageCropping,n=e.inAdsDesktopVideoExperiment,r=e.blockClickEvents,i=(e.isHovering,e.onError),o=e.onLoad,l=e.pin,c=e.resolution,u=void 0===c?"default":c,s=Object(O.b)(),d=s.slotIndex,p=s.viewParameter,m=s.viewType,f=l.id,y=void 0===f?"":f,v=l.aggregated_pin_data,g=l.carousel_data,w=l.image_signature,_=(v||{}).pin_tags_chips,k=b(l),P=k.isVideo,S=k.isPromoted,x=null;if(!P||!n&&S)if(g)x=a.a.createElement(Ge.a,{onError:i,onLoad:o,highResOnly:"high-res"===u,lowResOnly:"low-res"===u,pinId:y,showCarouselBadge:!1});else{var j=t?function(e){var t=e.images,n=e.image_crop,r=t&&t["236x"].height;if(n&&(0!==n.min_y||1!==n.max_y)){var a=n.min_y,i=n.max_y;return{marginTop:"".concat(a>0?-1*a*r:0,"px"),marginBottom:"".concat(i<1?Math.round(-1*(1-i)*r):0,"px")}}return{}}(l):{};x=a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:j},minHeight:Ue},a.a.createElement(ze.a,{pin:l,highResOnly:"high-res"===u,lowResOnly:"low-res"===u,onLoad:o,onError:i}))}else x=a.a.createElement(Ne.a,{inAdsDesktopVideoExperiment:n,pin:l,onLoad:o,viewType:m,viewParameter:p,highResOnly:"high-res"===u,lowResOnly:"low-res"===u,onError:i,isExperimentalPinRep:!0});var C=a.a.createElement(E.u,{wash:!0},x);return r?a.a.createElement(a.a.Fragment,null,C,_&&a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},a.a.createElement(He,{pin:l}))):a.a.createElement(a.a.Fragment,null,a.a.createElement(oe,{pin:l,contextLogData:{grid_index:d,image_signature:w},elementType:35},C),_&&a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},h(a.a.createElement(He,{pin:l}))))}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qe=60,Qe=40,Xe=60;function Je(e){return e<qe+Qe+Xe?"header-only":"none"}function Ze(e){var t,n,a,i=Ke(Object(r.useState)(e.current?Je(e.current.clientHeight||0):"none"),2),o=i[0],l=i[1];return t=e,n=function(e){var t=Je(e.height);t!==o&&l(t)},a=Object(r.useRef)(),Object(r.useEffect)(function(){var e=t.current;if(e){var r=a.current;r&&r.width===e.offsetWidth&&r.height===e.offsetHeight||(a.current={width:e.offsetWidth||0,height:e.offsetHeight||0},n&&n(a.current))}}),a.current,o}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $e=4e3;function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var tt=n("q579"),nt={impressed:{backgroundColor:"#adebad",opacity:.5}},rt=function(){return void 0!==tt.a.getQueryStringParams().debug_impression_log};function at(e){var t=e.debugImpressionState,n=void 0===t?"paused":t,r=e.slotIndex;return"paused"===n?null:a.a.createElement(E.b,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:nt.impressed}},a.a.createElement(E.b,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray"},a.a.createElement(E.K,{size:"xl",color:"white"},r)))}var it=n("nZV1");function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lt(e,t,n[t])})}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ut={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:Se,filter:"blur(20px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.4)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}};function st(e){var t=e.feedbackType,n=e.isContextMenuV2Exp,i=e.isHomefeedControlPanelExp,o=e.pin,l=ct(Object(r.useState)(!1),2),c=l[0],u=l[1],s=ct(Object(r.useState)(!1),2),d=s[0],p=s[1];Object(r.useEffect)(function(){return u(!0)},[u]);var b=function(){return p(!0)},m=o.feedbackText,f=o.images,y=o.showFeedbackOverlay,g=o.undoAction,h=o.undoText,w=f&&f["236x"].url,O=m.image,_=m.subTitle,k=m.title,P=m.unfollow,S=P&&d&&!n,x=i&&"followed"!==t&&"related"!==t&&"search"!==t,j="pfy"===t||"pfyBoard"===t;return a.a.createElement(E.b,{color:n?"transparent":"darkGray",dangerouslySetInlineStyle:{__style:{borderRadius:Se}},overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},n&&a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{borderRadius:Se}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},w&&a.a.createElement(we,{additionalStyles:ot({},ut.background.base,c?ut.background.blurred:{},{backgroundImage:'url("'.concat(w,'")')})}),w&&a.a.createElement(we,{additionalStyles:ot({},ut.background.base,c?ut.background.blurred:{},{backgroundImage:'url("'.concat(w,'")')})}),a.a.createElement(we,{additionalStyles:ot({},ut.backdrop.base,c?ut.backdrop.blurred:{})})),a.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:n&&ot({},ut.feedbackOverlayContainer.base,!y&&c?ut.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%"},a.a.createElement(E.b,{display:"flex",direction:"column",height:"100%",justifyContent:"between"},a.a.createElement(E.b,{maxWidth:216},a.a.createElement("div",{className:"ObscuredOverlay"},a.a.createElement(E.b,{marginBottom:2},a.a.createElement(E.K,{color:"white",size:"xl",bold:!0},S?P.title:k)),a.a.createElement(E.b,{display:"flex"},O&&a.a.createElement(E.b,{marginRight:3},a.a.createElement(E.u,{width:O.width,height:O.height,shape:"rounded",wash:!0},a.a.createElement(E.p,{alt:S?P.subTitle:_||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:O.url}))),a.a.createElement(E.K,{color:"white",overflow:"normal"},S?P.subTitle:_,x&&g&&a.a.createElement(E.b,{display:"inlineBlock",marginLeft:1},a.a.createElement(I.b,{className:"underlineLink",onClick:g,style:ut.navigateLinkStyle},v.a._("Undo","Text on the button to unfollow hiding a pin"))))),n&&!x&&a.a.createElement(E.b,{marginTop:5},g&&a.a.createElement(E.c,{color:"white",inline:!0,onClick:g,text:h||v.a._("Undo","Text on the button to unfollow hiding a pin")})))),!g&&!d&&P&&!j&&a.a.createElement(E.c,{color:"white",onClick:function(){return Object(it.a)(P.action,P.actionOptions,b)},text:v.a._("Unfollow","Text on the button to unfollow a specific board / user")}),!n&&g&&a.a.createElement(E.c,{color:"white",onClick:g,text:v.a._("Undo","Text on the button to unfollow hiding a pin")}),x&&a.a.createElement(I.b,{to:"/edit"},a.a.createElement(E.c,{color:"white",text:v.a._("Tune your home feed","Text on the button to navigate to homefeed control"),onClick:function(){Object(C.a)(101,{view:1,viewParameter:92,element:11347})}})))))}function dt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("visible")?"visible":t.includes("hidden")?"hidden":"none"}var bt=n("k9eC"),mt=n("2YES"),ft=["enabled_disco","enabled_disco_long_titles","enabled_disco_long_titles_m10n","enabled_disco_short_titles"],yt=["employees","enabled_all_grids","enabled_all_grids_old_gutters"],vt=["control","control_m10n"],gt=["control_all_grids","control_all_grids_old_gutters"];function ht(){var e=Object(mt.d)();return{group:new bt.a(e,"web_grid_immersive").getGroup()}}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Et=Object(r.memo)(function(e){var t=e.actionBarProps,n=e.blockClickEvents,o=e.currentlyPlayingVideo,l=e.disableHover,c=void 0!==l&&l,u=e.footerProps,s=e.forcePrimaryContentVisibility,d=e.impressionsDebuggerProps,p=e.onError,b=e.onLoad,m=e.obscuredPinOverlayProps,f=e.pin,y=e.pinVisualProps,v=e.primaryContentProps,g=e.selectionState,h=e.showActionBar,w=e.showFooter,O=e.showImpressionsDebugger,_=e.showObscuredPinOverlay,k=e.showPrimaryAndSecondaryContent,P=f.carousel_data,S=f.savedInfo,j=ht().group,C=wt(Object(r.useState)(!1),2),I=C[0],L=C[1],D=me(I),B=function(){var e=et(Object(r.useState)(!1),2),t=e[0],n=e[1];return{isHovering:t,hoverTransitionState:me(t,0,pe),handleMouseOver:Object(r.useCallback)(function(){return n(!0)},[n]),handleMouseLeave:Object(r.useCallback)(function(){return n(!1)},[n])}}(),A=B.isHovering,R=B.hoverTransitionState,V=B.handleMouseOver,M=B.handleMouseLeave;c&&(A=!1,R="inactive");var G,F=me(!!S),H=dt(F),z=dt(R),N=dt(R),U=dt(D),W=dt(F),K={primaryContentVisibility:pt(N,U,W),secondaryContentVisibility:(G=pt(N,U,W),"none"===G?"visible":"visible"===G?"none":"hidden"),actionBarVisibility:pt(N,U),accessoryContentVisibility:"none"},q=function(e){return ft.concat(yt).includes(e)}(j),Q=function(e){return L(e)},X=function(e){L(e),e||M()},J=null;s&&(K.primaryContentVisibility="visible"),"none"!==K.primaryContentVisibility&&k&&(J=a.a.createElement(Ae,Object.assign({pin:f,onToggleFlyout:Q,onToggleModal:X},v)));var Z=null,Y=Object(r.useRef)(!0),$=Y.current;Y.current=!1;var ee=dt(me(function(e,t){var n=e.carousel_data,a=(n||{}).index,i=Ye(Object(r.useState)(!n||t),2),o=i[0],l=i[1],c=Object(r.useRef)(a),u=Object(r.useRef)(null);if(n){var s=c.current;c.current=a,(a!==s||t)&&(u.current&&clearTimeout(u.current),l(!0),u.current=setTimeout(function(){l(!1),u.current=null},$e))}return Object(r.useEffect)(function(){return function(){u.current&&clearTimeout(u.current)}},[]),o}(f,$)));K.secondaryContentVisibility=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("none")?"none":t.includes("hidden")?"hidden":"visible"}(K.secondaryContentVisibility,ee),"none"!==K.secondaryContentVisibility&&k&&(o||(Z=a.a.createElement(E.b,{margin:2},a.a.createElement(Me,{pin:f}))));var te=null;P&&q&&(te=a.a.createElement(T,{pin:f}),K.accessoryContentVisibility=dt(R));var ne=h?a.a.createElement(x,Object.assign({onToggleFlyout:Q,onToggleModal:X,pin:f,setForcePrimary:L},t)):null,re=w?a.a.createElement(ve,Object.assign({hoverTransitionState:"image-only-credit"===u.attributionType?R:null,blockClickEvents:n,pin:f,setForcePrimary:L},u)):null,ae=O&&a.a.createElement(at,d),ie=Object(r.useRef)();"header-only"===Ze(ie)&&(K.actionBarVisibility="none",K.accessoryContentVisibility="none");var oe=_?a.a.createElement(i.a,{name:"web_homefeed_control_panel_nag",activate:!1},function(e){var t=e.anyEnabled;return a.a.createElement(i.a,{name:"web_homefeed_control_panel_pin_feedback"},function(e){var n=e.anyEnabled;return a.a.createElement(i.a,{name:"web_homefeed_control_contextual_menu_v2"},function(e){var r=e.anyEnabled;return a.a.createElement(st,Object.assign({isContextMenuV2Exp:r,isHomefeedControlPanelExp:t||n,pin:f},m))})})}):null;return a.a.createElement("div",{onMouseOver:V,onMouseLeave:M,"data-test-id":"pin","data-test-pin-id":f.id},a.a.createElement(je,{visualOverlayVisibility:z,savedOverlayVisibility:H,primaryContent:J,primaryContentVisibility:K.primaryContentVisibility,secondaryContent:Z,secondaryContentVisibility:K.secondaryContentVisibility,accessoryContent:te,accessoryContentVisibility:K.accessoryContentVisibility,actionBar:ne,actionBarVisibility:K.actionBarVisibility,footer:re,selectionState:g,debugContent:ae,obscuredPinOverlay:oe},a.a.createElement(E.b,{ref:ie},a.a.createElement(i.a,{name:"ads_desktop_video_ads"},function(e){var t=e.anyEnabled;return a.a.createElement(We,Object.assign({blockClickEvents:n,inAdsDesktopVideoExperiment:t,isHovering:A,onError:p,onLoad:b,pin:f},y))}))))}),Ot=n("+H5w");var _t=n("hCBh");function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pt(e,t,n[t])})}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xt=Object(z.compose)(Object(o.connect)(function(e,t){var n=e.boards.content,r=void 0===n?{}:n,a=e.pins,i=e.ui,o=e.viewer,l=t.pin,c=t.pinId,u=a[c]||l,s=u.board&&u.board.id,p=s?r["".concat(s)]:void 0,b=u.board||p?kt({},u.board||{},p||{}):void 0,m=i.app.videosAutoplaying;return{board:b,currentlyPlayingVideo:Object(d.i)(c,m),reduxPin:u,viewConfig:i.views,viewer:o}},function(){return{}}),mt.e)(function(e){var t=e.allowImageCropping,n=e.blockClickEvents,i=e.attributionOption,o=e.board,l=e.boardActivityOptions,c=e.currentlyPlayingVideo,u=e.debugImpressionState,s=e.feedbackOptions,d=e.imageOnlyOption,p=e.reduxPin,h=e.resolution,w=e.saveButtonOptions,E=e.surface,_=e.trackingParameters,k=e.viewConfig,P=e.viewer,S=e.requestContext,x=St(e,["allowImageCropping","blockClickEvents","attributionOption","board","boardActivityOptions","currentlyPlayingVideo","debugImpressionState","feedbackOptions","imageOnlyOption","reduxPin","resolution","saveButtonOptions","surface","trackingParameters","viewConfig","viewer","requestContext"]),j=o||{},C=j.collaborated_by_me,T=j.collaborator_count,I=j.is_collaborative,L=p.showFeedback,D=_.slotIndex,B=_.viewParameter,A=ht().group,R=new bt.c(S,"web_change_titles").enabled(),V=P.isAuth&&P.isEmployee,M=P.isAuth&&(Object(_t.d)({user:P})||Object(_t.e)({user:P}))&&!P.isPartner,G=M;"default"!==d&&(G="image-only"===d);var F=i;M&&(F="image-only");var H=function(e){var t=e.feedbackOptions,n=e.pin,r=e.viewParameter,a=n.board,i=n.pinner;return(0,Object(y.a)({i18n:v.a,interpolateNamedTemplate:g.b}).getFeedbackType)({board:a,feedback:t,pin:n,pinner:i,viewParameter:r})}({feedbackOptions:s,pin:p,viewParameter:B}),z=(s||{}).data,N=T>0||I,U=N&&"BaseBoardPinGrid"===E,W=function(e,t){var n=e&&e.owner&&e.owner.id;return t.isAuth&&n===t.id}(o,P),K=C||N&&W,q=function(e,t){var n=f[t];return!!n&&"dense"===e[n]}(k,E),Q=!["EngagementDetails","BoardCreateUpsell"].includes(E),X=Object(r.useMemo)(function(){return function(e){var t,n=e.isGroupBoard,r=e.isOwnBoard,a=e.saveButtonOptions,i=e.surface,o=e.viewer,l=e.viewerIsCollaborator,c=o.isAuth?o.boardCount:void 0,u=a||((void 0===(t=c)?0:t)<2?{type:"classic"}:{type:"inline"});return r&&"HomefeedMoreIdeasTabs"===i?u={type:"persistentOneClickSave"}:l?u={type:"none"}:(r||"UserProfilePinGrid"===i)&&(u={type:"classic"}),{derivedSaveButtonOptions:u,showEditButton:r&&!n||"UserProfilePinGrid"===i,showLikeButton:l}}({isGroupBoard:U,isOwnBoard:W,saveButtonOptions:w,surface:E,viewer:P,viewerIsCollaborator:K})},[U,W,w,E,P]),J=!["EngagementDetails","BoardCreateUpsell"].includes(E),Z=Object(r.useMemo)(function(){return function(e){var t=e.feedbackData,n=e.feedbackType,r=e.inChangeTitlesExp,a=e.isDenseView,i=e.isGroupBoard,o=e.isOwnBoard,l=e.pin,c=e.surface,u=b(l),s=u.isOwnPin,d=u.isPromoted,p="default";return a&&(p=i?"icon-only":"truncated-text"),{feedbackData:t,feedbackType:n,pinTitle:m({inChangeTitlesExp:r,isGroupBoard:i,pin:l,surface:c}),showEditButton:i&&s,showOverflowMenu:!(d||o||i||["EngagementDetails","UserProfilePinGrid"].includes(c)),sourceLinkStyle:p,useDenseGroupBoardLayout:i&&a}}({feedbackData:z,feedbackType:H,inChangeTitlesExp:R,isDenseView:q,isGroupBoard:U,isOwnBoard:W,pin:p,surface:E})},[z,H,q,U,W,p,E]),Y=Object(r.useMemo)(function(){return function(e){var t=e.attributionOption,n=e.board,r=e.boardActivityOptions,a=e.feedbackData,i=e.feedbackType,o=e.immersiveGridExpGroup,l=e.inChangeTitlesExp,c=e.isGroupBoard,u=e.pin,s=e.showImageOnly,d=e.surface,p=b(u).isPromoted,f=u.promoter,y=function(e){var t=e.attributionOption,n=e.feedbackType,r=e.isGroupBoard,a=e.pin,i=e.showImageOnly,o=e.surface,l=a.is_downstream_promotion,c=a.is_native,u=a.promoter;if("promoted"===n||u&&!l)return"default";if("UserProfilePinGrid"===o)return"none";if(r)return"none";var s="default";return t&&("image-only"===t?s="image-only-credit":"hide"===t&&(s="none")),c?s:"followed"!==n||i?"none":s}({attributionOption:t,feedbackType:i,isGroupBoard:c,pin:u,showImageOnly:s,surface:d}),v=s?"":m({inChangeTitlesExp:l,isGroupBoard:c,pin:u,surface:d}),g=!p&&!s&&Boolean(le(u)),h=2,w=30;return"enabled_disco_long_titles"===o?(h=1,w=p?60:50):(p?h=3:(g||"none"!==y||"enabled_disco_short_titles"===o)&&(h=1),w=c?25:30),{attributionType:y,feedbackData:a,feedbackType:i,pinTitle:v,showBoardActivityReply:"no-reply"!==r,showGroupBoardAvatar:c,showReactions:Boolean(n&&n.should_show_board_activity)||c,showSource:g,singleLineMaxLength:w,titleLines:h,isDarkPromoter:!p&&!!f}}({attributionOption:F,board:o,boardActivityOptions:l,feedbackData:z,feedbackType:H,immersiveGridExpGroup:A,inChangeTitlesExp:R,isGroupBoard:U,pin:p,showImageOnly:G,surface:E})},[F,o,l,z,H,A,R,U,p,G,E]),$=Boolean(Y.pinTitle)||Y.showSource||"none"!==Y.attributionType,ee="EngagementDetails"!==E&&($||U)&&!q,te=Boolean(L),ne=Object(r.useMemo)(function(){return{feedbackType:H}},[H]),re=Object(r.useMemo)(function(){return{allowImageCropping:(e={allowImageCropping:t,resolution:h}).allowImageCropping||!0,resolution:e.resolution||"default"};var e},[t,h]),ae=V&&rt(),ie=Object(r.useMemo)(function(){return{debugImpressionState:u,slotIndex:D}},[u,D]);return a.a.createElement(O.a,{value:kt({},_)},a.a.createElement(Et,Object.assign({actionBarProps:Z,blockClickEvents:n,currentlyPlayingVideo:c,footerProps:Y,forcePrimaryContentVisibility:"HomefeedMoreIdeasTabs"===E,impressionsDebuggerProps:ie,obscuredPinOverlayProps:ne,pin:p,pinVisualProps:re,primaryContentProps:X,showPrimaryAndSecondaryContent:Q,showActionBar:J,showFooter:ee,showImpressionsDebugger:ae,showObscuredPinOverlay:te},Object(Ot.b)(x,["pinId"]))))});function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ct(e,t,n[t])})}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function It(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Lt=Object(o.connect)(function(e,t){var n=e.pins,r=e.location,a=t.pin;return{location:r,reduxPin:n[t.pinId]||a}},function(){return{}})(function(e){var t=e.blockClickEvents,n=e.location,o=e.reduxPin,d=e.trackingParameters,p=It(e,["blockClickEvents","location","reduxPin","trackingParameters"]),b=Object(l.a)(o,n),m=o.videos&&o.videos.id?o.videos.id:void 0,f=Tt(Object(r.useState)(!1),2),y=f[0],v=f[1],g=Object(r.useCallback)(function(){return v(!0)},[]),h=Object(r.useCallback)(function(){return v(!1)},[]),w=d.componentType,E=d.contextLogData,O=d.impressionAuxFields,_=d.slotIndex,k=d.viewData,P=d.viewParameter,S=d.viewType;return a.a.createElement(i.a,{name:"www_mqtt_accurate_end_time"},function(e){var n=e.anyEnabled;return a.a.createElement(c.a,{componentType:w,contextLogData:jt({},"undefined"!=typeof window?{pwa_type:Object(u.b)(window)}:{},E,Object(s.a)(o,E)),loggingId:o.id,impressionAuxFields:jt({},O||{},{clientTrackingParams:b||"".concat(o.tracking_params||"","-0"),imageURL:o.images&&o.images["236x"].url,isNativeVideoAndWatchable:!!m||void 0,richTypes:o.shopping_flags||[],videoIdStr:m}),impressionType:"Pin",inImpressionExp:n,isPaused:!y,slotIndex:_,viewData:k,viewParameter:P,viewType:S},a.a.createElement(xt,Object.assign({},p,{blockClickEvents:t,debugImpressionState:y?"started":"paused",onError:h,onLoad:g,pin:o,trackingParameters:{componentType:w,contextLogData:E,slotIndex:_,viewParameter:P,viewType:S}})))})}),Dt=(n("E1Qe"),n("hvnN"),n("s3m5")),Bt=n("jSHg"),At={overlay:{__style:{backgroundColor:"#000",opacity:.4}}};function Rt(e){var t=e.pin,n=t.id,r=t.images,i=t.title,o=t.videos,l=t.video_status_message||{},c=r&&r["236x"],u=(o&&o.video_list[Bt.a.V_HLSV4]||{}).duration;return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.d,null,a.a.createElement(I.b,{to:"/pin/".concat(n)},a.a.createElement(E.b,{overflow:"hidden",position:"relative",shape:"rounded"},c&&a.a.createElement(E.p,{alt:i||"",color:"lightGray",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),!!u&&a.a.createElement(E.b,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},a.a.createElement(Dt.a,{duration:u})),a.a.createElement(E.b,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:At.overlay}),a.a.createElement(E.b,{position:"absolute",top:!0,left:!0,padding:5,width:"100%"},a.a.createElement(E.K,{bold:!0,color:"white",size:"xl",overflow:"normal"},l.title),a.a.createElement(E.b,{marginTop:4},a.a.createElement(E.K,{color:"white",size:"sm",overflow:"normal"},l.subtitle)))),a.a.createElement(E.b,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1},a.a.createElement(E.b,{flex:"grow"},i&&a.a.createElement(E.b,{paddingY:1},a.a.createElement(E.K,{bold:!0,inline:!0,size:"sm"},i)))))))}var Vt=n("Ww6/");function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ut(e,t,n[t])})}return e}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wt=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=this,a=(e=Ht(t)).call.apply(e,[this].concat(o)),n=!a||"object"!==Mt(a)&&"function"!=typeof a?Nt(r):a,Ut(Nt(Nt(n)),"state",{startImpressionTimer:!1}),Ut(Nt(Nt(n)),"handleLoad",function(){n.setState({startImpressionTimer:!0})}),Ut(Nt(Nt(n)),"handleError",function(){n.setState({startImpressionTimer:!1})}),n}var n,o,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.componentType,r=t.contextLogData,o=t.impressionAuxFields,p=t.pin,b=t.slotIndex,m=t.location,f=t.viewData,y=t.viewType,v=t.viewParameter,g=Object(l.a)(p,m),h=p.videos&&p.videos.id?p.videos.id:void 0;return a.a.createElement(i.a,{name:"www_mqtt_accurate_end_time"},function(t){var i=t.group;return a.a.createElement(c.a,{componentType:n,contextLogData:Gt({},"undefined"!=typeof window?{pwa_type:Object(u.b)(window)}:{},r,Object(s.a)(p,r)),loggingId:p.id,impressionType:"Pin",impressionAuxFields:Gt({},o||{},{richTypes:p.shopping_flags||[],imageURL:p.images&&p.images["236x"].url,clientTrackingParams:g||"".concat(p.tracking_params,"-0"),videoIdStr:h,isNativeVideoAndWatchable:!!h||void 0}),isPaused:!e.state.startImpressionTimer,slotIndex:b,viewData:f,viewType:y,viewParameter:v,inImpressionExp:i.startsWith("enabled")||i.startsWith("employee")},Object(d.g)(p)?a.a.createElement(Rt,{pin:p}):a.a.createElement(Vt.b,Object.assign({},e.props,{onError:e.handleError,onLoad:e.handleLoad})))})}}])&&Ft(n.prototype,o),p&&Ft(n,p),t}(),Kt=Object(o.connect)(function(e){return{location:e.location}})(Wt);function qt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",function(){return Jt});var Xt=["AuthHomefeed","CloseupRelatedPins","FollowingFeedGrid","SearchItem"];function Jt(e){var t=e.forceOldPinRep,n=Qt(e,["forceOldPinRep"]);return a.a.createElement(i.a,{name:"web_grid_immersive",activate:!1},function(e){var r=e.group,i=e.customActivate;if(t)return a.a.createElement(Kt,n);var o=Xt.includes(n.surface),l=qt(ft).concat(qt(vt)).includes(r)&&o,c=qt(yt).concat(qt(gt)).includes(r);return(l||c)&&i&&i(),o&&ft.includes(r)||yt.includes(r)?a.a.createElement(Lt,function(e){var t={};t.allowImageCropping=e.truncatePinHeight,t.disableHover=e.hideHover,t.feedbackOptions=e.feedback,t.saveButtonOptions=e.saveOptions,t.blockClickEvents=e.blockClickEvents,t.pin=e.pin,t.pinId=e.pin.id,t.imageOnlyOption="default","boolean"==typeof e.showImageOnly&&(t.imageOnlyOption=e.showImageOnly?"image-only":"not-image-only"),t.boardActivityOptions="default",!1===e.showPinReactionsReply&&(t.boardActivityOptions="no-reply"),t.onError=e.onError,t.onLoad=e.onLoad,t.trackingParameters={componentType:e.componentType,contextLogData:e.contextLogData,impressionAuxFields:e.impressionAuxFields,slotIndex:e.slotIndex,viewData:e.viewData,viewParameter:e.viewParameter,viewType:e.viewType},t.resolution="default",e.highResOnly?t.resolution="high-res":e.lowResOnly&&(t.resolution="low-res"),void 0!==e.selection&&(t.selectionState={NO_SELECTION:"no-selection",SELECTED:"selected",UNSELECTED:"deselected"}[e.selection]);return t.attributionOption=null,e.showCredits||!1===e.hideAttribution?t.attributionOption="show":(e.hideAttribution||!1===e.showCredits)&&(t.attributionOption="hide"),t.surface=e.surface,t}(n)):a.a.createElement(Kt,n)})}},qE0g:function(e,t,n){"use strict";n.r(t);var r=n("GyhR"),a=n.n(r),i=n("Ivf5"),o=n("m2OL"),l=n("2LZR"),c=n("Qo1m"),u=n("/mke"),s=n("wSOZ"),d=n("LCmp"),p=n("IaXd"),b=n("UmN8"),m=n("wHKh"),f=n("aaO7"),y=n("zBQm"),v=n("yJaP"),g=n("+U6O");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var w=50,E=60;t.default=Object(i.connect)(function(e){var t=e.experiences;return{isHomefeedContextualMenuTooltipExperience:t&&t.eligibleExperiences&&t.eligibleExperiences[1000116]&&501093===t.eligibleExperiences[1000116].experience_id}},function(e,t){var n=t.pin;return{hidePinFeedbackOverlay:function(){e(Object(f.c)(n.id))}}})(function(e){var t,n=e.feedbackData,i=e.feedbackType,f=e.hidePinFeedbackOverlay,O=e.isHomefeedContextualMenuTooltipExperience,_=e.pin,k=e.pinTitle,P=e.setForcePrimary,S=e.transparentBackground,x=Object(v.b)(),j=x.slotIndex,C=x.viewParameter,T=x.viewType,I=h(Object(r.useState)(!1),2),L=I[0],D=I[1],B=h(Object(r.useState)(),2),A=B[0],R=B[1],V=_.ad_match_reason,M=_.board,G=_.category,F=_.description,H=_.id,z=void 0===H?"":H,N=_.images,U=_.is_promoted,W=_.pinner,K=_.promoter,q=_.recommendation_reason,Q=_.source_interest,X=_.videos,J=(t=U?E:w,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(d.a)(e.trim(),t)})(F),Z=Object(l.a)(N,"236x"),Y=Object(y.h)(X),$=Object(p.a)(101,{component:0,element:981,feedback_type:i,objectId:z}),ee=function(){P(!1),f(),D(!1)},te=function(){L&&ee()},ne=1===j&&O;return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.b,{ref:R},a.a.createElement(u.a,{accessibilityLabel:c.a._("More information","accessibility label for overflow menu button"),bgColor:S?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",iconSize:12,onClick:function(e){e.event,L?ee():(P(!0),D(!0)),$()},size:"sm"})),L&&a.a.createElement(g.r,null,a.a.createElement(g.k,{anchor:A,idealDirection:"right",onDismiss:ee,positionRelativeToAnchor:!1,size:"md"},a.a.createElement(b.a,{name:"web_homefeed_control_contextual_menu_v2"},function(e){var t=e.anyEnabled;return a.a.createElement(s.a,{ad_match_reason:V,bestPinImgSrc:Object(m.j)(_),board:M,feedbackData:n,feedbackType:i,hideDownload:Y,isContextMenuV2Exp:t,isHomefeedContextualMenuTooltip:ne,onLinkClick:te,onHide:ee,pinCategory:G,pinDescription:J,pinId:z,pinImgSrc:Z,pinner:W,pinTitle:k,promoter:K,recommendationReason:q,reportPin:Object(o.a)({pin:_,viewParameter:C,viewType:T}),sourceInterest:Q,viewParameter:C,viewType:T})}))))})},yJaP:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var r=n("GyhR"),a=n.n(r),i=Object(r.createContext)(null),o=i.Provider;function l(){var e=a.a.useContext(i);if(!e)throw new Error("useTrackingParameters must be used within a TrackingParametersContextProvider");return e}}}]);
//# sourceMappingURL=pjs-10-2e49bd04f58f243af2c7.js.map
