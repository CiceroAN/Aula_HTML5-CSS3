(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinFeedbackButtonCommon",72],{CtGn:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("GyhR");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,_=e[Symbol.iterator]();!(o=(a=_.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==_.return||_.return()}finally{if(i)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e){var t=e.children,n=i(Object(o.useState)(!1),2),r=n[0],a=n[1],_=i(Object(o.useState)(!1),2),E=_[0],c=_[1],I=i(Object(o.useState)(!1),2),T=I[0],l=I[1];return t({active:r,focused:E,hovered:T,onBlur:function(){return c(!1)},onFocus:function(){return c(!0)},onMouseDown:function(){return a(!0)},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){l(!1),a(!1)},onMouseUp:function(){return a(!1)}})}},VUfZ:function(e,t){e.exports={ReasonToChoose:{UNKNOWN:0,REPIN_BOARD:1,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,USER_ACTIVITY:4,FOLLOWED_INTEREST:5,RECENT_FOLLOWED_INTEREST:59,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,CLICKTHROUGH:9,BOARD_FOLLOW:35,RECENT_FOLLOWED_BOARD:61,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,LOCAL_REPIN_BOARD:13,SEARCH:46,P2P:14,PROMOTED_PIN:15,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_COMMERCE:21,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLICKTHROUGH:28,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,INSTANT_PFY:34,INSTANT_PFY_NON_MATERIALIZABLE:36,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,RECOMMENDED_TOPICS:65,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS:70,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,NAVBOOST_P2P:88,NAVBOOST_PFY:89,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,NUX_GRAPHSAGE:99,TOPIC_BEST_PINS_V3:101,GEMINI_INTERESTS_FRESH:104,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,LENS_CAMERA_VISUALLY_SIMILAR:111,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515}}},ce8s:function(e,t,n){"use strict";var o=n("GyhR"),i=n.n(o),r=n("CtGn");t.a=function(e){var t=e.accessibilityLabel,n=e.children,o=e.className,a=e.dataTestId,_=e.onClick,E=e.style;return i.a.createElement(r.a,null,function(e){var r=e.active,c=e.focused,I=e.hovered,T=e.onBlur,l=e.onFocus,s=e.onMouseDown,u=e.onMouseEnter,O=e.onMouseLeave,N=e.onMouseUp;return i.a.createElement("button",{"data-test-id":a,"aria-label":t,style:E,onBlur:T,onFocus:l,onMouseDown:s,onMouseEnter:u,onMouseLeave:O,onMouseUp:N,onClick:_,className:o},n({active:r,focused:c,hovered:I}))})}},d9lF:function(e,t,n){"use strict";var o=n("GyhR"),i=n.n(o),r=n("ce8s"),a=n("+U6O");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={base:{borderRadius:"50%"},hovered:{backgroundColor:"rgb(226, 226, 226)"},active:{backgroundColor:"rgb(218, 218, 218)"},focused:{boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0}},c=function(e){var t=e.accessibilityLabel,n=e.active,o=e.focused,r=e.hovered,c=e.icon,I=e.isSVG,T=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){_(e,t,n[t])})}return e}({},E.base,r?E.hovered:{},n?E.active:{},o?E.focused:{});return i.a.createElement(a.b,{"data-test-id":"lego-icon-wrapper",color:"transparent",shape:"circle",dangerouslySetInlineStyle:{__style:T}},i.a.createElement(a.b,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:44,minWidth:44}}},I?i.a.createElement(a.n,{accessibilityLabel:t,dangerouslySetSvgPath:{__path:c},color:"darkGray",inline:!0,size:20}):i.a.createElement(a.n,{accessibilityLabel:t,icon:c,color:"darkGray",inline:!0,size:20})))};t.a=function(e){var t=e.accessibilityLabel,n=e.onClick,o=e.icon,a=e.isSVG,_=e.shadowType;return i.a.createElement(r.a,{accessibilityLabel:t,className:_||"",dataTestId:"lego-button",onClick:n,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"}},function(e){var n=e.active,r=e.hovered,_=e.focused;return i.a.createElement(c,{active:n,accessibilityLabel:t,hovered:r,focused:_,icon:o,isSVG:a})})}},w8LQ:function(e,t,n){"use strict";n.r(t),n.d(t,"PinFeedbackButton",function(){return C});var o=n("GyhR"),i=n.n(o),r=n("Ivf5"),a=n("Qo1m"),_=n("d9lF"),E=n("wSOZ"),c=n("IGno"),I=n("9Y9K"),T=n("UmN8"),l=n("NmcB"),s=n("aaO7"),u=n("OtLr"),O=n("+U6O");function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,_=new Array(r),E=0;E<r;E++)_[E]=arguments[E];return o=this,i=(e=S(t)).call.apply(e,[this].concat(_)),n=!i||"object"!==N(i)&&"function"!=typeof i?d(o):i,p(d(d(n)),"state",{showPinFeedbackFlyout:!1}),p(d(d(n)),"setAnchor",function(e){n.anchor=e}),p(d(d(n)),"showConfirmation",function(){var e=n.props,t=e.dispatch,o=e.pinId;t(Object(s.a)(o,{title:a.a._("Pin reported.")}))}),p(d(d(n)),"handleFeedbackButtonClick",function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),n.state.showPinFeedbackFlyout?n.dismissFlyout():n.setState({showTooltipFlyout:!1},function(){n.setState({showPinFeedbackFlyout:!0})}),n.handleButtonClickLogging()}),p(d(d(n)),"dismissFlyout",function(){var e=n.props,t=e.dispatch,o=e.pinId;t(Object(s.c)(o)),n.setState({showPinFeedbackFlyout:!1,showTooltipFlyout:!1})}),p(d(d(n)),"dismissTooltipFlyout",function(){var e=n.props,t=e.isHomefeedContextualMenuTooltip,o=e.experienceClient;n.setState({showTooltipFlyout:!1,showPinFeedbackFlyout:!1},function(){n.setState({showPinFeedbackFlyout:!0})}),t&&o.completeExperience(1000116,501093),n.handleButtonClickLogging()}),p(d(d(n)),"handleLinkClick",function(){n.state.showPinFeedbackFlyout&&n.dismissFlyout()}),n}var n,r,I;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,o["Component"]),n=t,I=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.isHomefeedContextualMenuTooltip,o=e.experienceClient;return n&&void 0===t.showTooltipFlyout?(o.viewExperience(1000116,501093),{showTooltipFlyout:!0}):null}}],(r=[{key:"handleButtonClickLogging",value:function(){var e=this.props,t=e.feedbackType,n=e.pinId,o=e.viewParameter,i=e.viewType;Object(l.a)(101,{objectId:n,view:i,viewParameter:o,element:981,component:0,feedback_type:t})}},{key:"renderPinFeedback",value:function(){var e=this,t=this.props,n=t.ad_match_reason,o=t.board,r=t.feedbackType,a=t.feedbackData,_=t.hideDownload,c=t.pinId,I=t.pinImage,l=t.bestPinImgSrc,s=t.pinDescription,u=t.pinTitle,O=t.pinCategory,N=t.pinner,R=t.promoter,S=t.recommendationReason,P=t.reportPin,d=t.sourceInterest,p=t.viewParameter,C=t.viewType;return i.a.createElement(T.a,{name:"web_homefeed_control_contextual_menu_v2"},function(t){var T=t.anyEnabled;return i.a.createElement(E.a,{ad_match_reason:n,board:o,feedbackType:r,feedbackData:a,hideDownload:!!_,isContextMenuV2Exp:T,onContentChanged:function(){return e.forceUpdate()},onLinkClick:e.handleLinkClick,onHide:e.dismissFlyout,pinId:c,pinImgSrc:I,bestPinImgSrc:l,pinDescription:s,pinCategory:O,pinTitle:u,pinner:N,promoter:R,recommendationReason:S,reportPin:P,sourceInterest:d,viewParameter:p,viewType:C})})}},{key:"render",value:function(){var e=this,t=this.props.isPromoted,n=this.state,o=n.showTooltipFlyout,r=n.showPinFeedbackFlyout;return i.a.createElement(O.b,null,i.a.createElement(O.b,{ref:this.setAnchor},t?i.a.createElement(_.a,{accessibilityLabel:a.a._("send feedback","accessibility lable to send feedback regarding the promoted pin"),onClick:function(t){return e.handleFeedbackButtonClick({event:t})},icon:"ellipsis"}):i.a.createElement(O.o,{accessibilityLabel:a.a._("More information"),icon:"ellipsis",iconColor:"gray",onClick:this.handleFeedbackButtonClick,size:this.props.size})),!r&&o&&i.a.createElement(c.a,null,i.a.createElement(O.r,null,i.a.createElement(O.k,{anchor:this.anchor,idealDirection:"right",onDismiss:this.dismissTooltipFlyout,positionRelativeToAnchor:!1,size:"sm",color:"blue"},i.a.createElement(O.b,{padding:4},i.a.createElement(O.K,{color:"white",bold:!0,size:"lg"},a.a._("Click here to hide a Pin you don't like","Tooltip text showing how to hide a Pin")),i.a.createElement(O.b,{marginTop:5},i.a.createElement(O.c,{color:"white",text:a.a._("Got it!","Dismiss button for tooltip"),onClick:this.dismissTooltipFlyout,size:"sm"})))))),r&&i.a.createElement(c.a,null,i.a.createElement(O.r,null,i.a.createElement(O.k,{anchor:this.anchor,idealDirection:"right",onDismiss:this.dismissFlyout,positionRelativeToAnchor:!1,size:"md"},this.renderPinFeedback()))),o&&i.a.createElement(T.a,{name:"web_homefeed_control_contextual_menu_v2",activate:!1},function(t){var n=t.group;return n.includes("enabled")&&n.includes("pulsar")&&i.a.createElement(O.b,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center"},i.a.createElement(O.b,{shape:"circle",width:90,height:90,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}}},i.a.createElement(O.P,{onTouch:e.dismissTooltipFlyout,shape:"circle"},i.a.createElement(O.A,{size:90}))))}))}}])&&R(n.prototype,r),I&&R(n,I),t}();p(C,"defaultProps",{size:"xs"}),t.default=Object(I.compose)(Object(r.connect)(),u.a)(C)}}]);
//# sourceMappingURL=pjs-PinFeedbackButtonCommon-4ef1dc68bc5d076729cd.js.map
