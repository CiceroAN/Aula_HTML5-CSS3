(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[33],{"4o3w":function(e,t,n){"use strict";var o=n("GyhR"),a=n.n(o),r=n("Ivf5"),l=n("D+W/"),i=n("PNko"),s=n.n(i),c=n("Qo1m"),u=n("fJWP"),f=n.n(u),d=n("CST5"),p=n("QG6s"),m=n("Irlq");function b(e){var t={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return;case 1:return Object(m.b)(c.a._("{{ first }}"),t);case 2:return Object(m.b)(c.a._("{{ first }} and {{ second }}"),t);case 3:return Object(m.b)(c.a._("{{ first }}, {{ second }} and {{ third }}"),t);case 4:return Object(m.b)(c.a._("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}"),t);case 5:return Object(m.b)(c.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}"),t);case 6:return Object(m.b)(c.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}"),t);default:return Object(m.b)(c.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others"),t)}}var h=n("iJ35"),E=(n("hvnN"),n("uHkb")),g=n("Ii6Q"),y=l.a.GEN.templateConst.settings.HELP_BLOCKING+"?source=block_dialogue";function w(e){return e.map(function(e){return a.a.createElement("span",{key:e.id},e.full_name)})}var k=function(e){var t=e.users,n=e.onClose,o=e.isLoading,r=e.onSubmit,l=a.a.createElement("strong",{key:"userlist"},b(w(t)));return a.a.createElement("form",{className:"standardForm",method:"post"},a.a.createElement("h1",null,c.a.ngettext("Block this person?","Block these people?",t.length,"Confirmation text when blocking users (plural)")),a.a.createElement("p",null,Object(m.b)(c.a._("If you block {{ users }}, you won’t be able to follow  each other or interact with each other’s Pins.","description of blocking users"),{users:l}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("a",{className:"external",href:y},c.a._("Learn more","link to learn more about blocking"))),a.a.createElement("div",{className:"formFooter"},a.a.createElement("div",{className:"formFooterButtons"},a.a.createElement(d.a,{className:"cancelButton",id:"cancelButton",onClick:n,text:c.a._("Cancel","cancel form")}),a.a.createElement(d.a,{className:"blockButton",htmlType:"submit",id:"submitButton",loading:o,onClick:r,text:c.a._("Block","submit form to block users"),type:"primary"}))))},v=n("UhjI"),_=n("ePT2");function C(e,t){var n,o,a;return n={name:"BoardCollaboratorResource",options:{board_id:e,invited_user_id:t,ban:!1}},o="collaborator_delete_invite",(a=_.a.create(n.name,n.options))?a.callDelete().then(function(){return o&&v.a.trackEvent(o,"success"),Promise.resolve()},function(){return o&&v.a.trackEvent(o,"error"),Promise.reject(new Error(a.getName()+" failed to call callDelete()"))}):Promise.reject(new Error(a.getName()+" was not created"))}var O=n("T4mo");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=l.a.GEN.templateConst.settings.HELP_BLOCKING,D=l.a.GEN.templateConst.settings.ABOUT_ACCEPTABLE_USE,x={LEAVE_AND_UNFOLLOW_BOARD:"leaveAndUnfollowBoard",LEAVE_BOARD_AND_BLOCK_PINNER:"leaveBoardAndBlockPinner"};function A(e){var t=e.type,n=e.labelText,o=e.labelDescription,r=e.handleRadioUpdate;return a.a.createElement("label",{className:"blockAndUnfollowFormLabel",htmlFor:t,onChange:r,key:t},a.a.createElement("input",{id:t,name:"action",type:"radio",value:t}),a.a.createElement("div",{className:"flagReasonRadioButtonOuter"},a.a.createElement("div",{className:"flagReasonRadioButtonInner"})),a.a.createElement("div",{className:"labelWrapper"},n,a.a.createElement("span",{className:"labelDescription"},o)))}function U(e){var t=e.id,n=e.value,o=e.labelText,r=e.labelDescription,l=e.handler;return a.a.createElement("label",{className:"blockAndUnfollowFormLabel",htmlFor:t,onChange:l,key:t},a.a.createElement("input",{id:t,name:"action",type:"checkbox",value:n}),a.a.createElement("span",{className:"uncheckedBox"},"☐"),a.a.createElement("span",{className:"checkedBox"},"☑"),a.a.createElement("div",{className:"labelWrapper"},o,a.a.createElement("span",{className:"labelDescription"},r)))}var I=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,i=new Array(l),s=0;s<l;s++)i[s]=arguments[s];return o=this,r=(e=B(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==T(r)&&"function"!=typeof r?R(o):r,S(R(R(n)),"state",{userIdsToBlock:new Set,selectedRadio:null,selectedCheckboxes:new Set,isUnfollowSubflow:!1,nonSelfUsers:n.props.users.filter(function(e){return e.id!==n.props.viewer.id})}),S(R(R(n)),"isFollowingBoard",n.props.board&&n.props.board.followed_by_me),S(R(R(n)),"isFollowingPinner",n.props.users[0]&&n.props.users[0].explicitly_followed_by_me),S(R(R(n)),"isBoardCollaboratedByMe",n.props.board&&n.props.board.collaborated_by_me),S(R(R(n)),"handleClose",function(){n.props.onClose()}),S(R(R(n)),"handleCloseUserBlock",function(){n.props.onFlowStatusChange({status:O.c.SELECTED})}),S(R(R(n)),"handleFlowStatusChange",function(e,t){n.props.onFlowStatusChange(e,t)}),S(R(R(n)),"handleUpdateUserIdsToBlock",function(e){var t=new Set(n.state.userIdsToBlock);e.target.checked?t.add(e.target.value):t.delete(e.target.value),n.setState({userIdsToBlock:t}),n.handleFlowStatusChange({status:0===t.size?O.c.STARTED:O.c.SELECTED})}),S(R(R(n)),"handleCheckboxUpdate",function(e){var t=new Set(n.state.selectedCheckboxes);e.target.checked?t.add(e.target.value):t.delete(e.target.value),n.setState({selectedCheckboxes:t}),n.handleFlowStatusChange({status:0===t.size?O.c.STARTED:O.c.SELECTED})}),S(R(R(n)),"handleRadioUpdate",function(e){var t=n.state.userIdsToBlock;"blockPinner"===e.target.value?t.add(n.props.users[0].id):t.delete(n.props.users[0].id),n.setState({selectedRadio:e.target.value,isUnfollowSubflow:e.target.value.match(/^unfollow/),userIdsToBlock:t},function(){n.handleFlowStatusChange({status:O.c.SELECTED})})}),S(R(R(n)),"handleSubmit",function(){var e=n.state.userIdsToBlock,t=function(){};"unfollowPinner"===n.state.selectedRadio?t=n.unfollowPinner:"unfollowBoard"===n.state.selectedRadio?t=n.unfollowBoard:n.state.selectedCheckboxes.size>0&&(n.state.selectedCheckboxes.has(x.LEAVE_BOARD_AND_BLOCK_PINNER)&&e.add(n.props.users[0].id),n.state.selectedCheckboxes.has(x.LEAVE_AND_UNFOLLOW_BOARD)&&(t=function(){return Promise.all([n.leaveBoard(),n.unfollowBoard()])})),n.setState({userIdsToBlock:e},function(){n.handleFlowStatusChange({status:O.c.SUBMITTED},function(){t()})})}),S(R(R(n)),"unfollowPinner",function(){var e=n.props.unfollowUser;n.handleFlowStatusChange({status:O.c.PROCESSING},function(){e(n.props.users[0].id).then(function(){n.handleFlowStatusChange({status:O.c.COMPLETED})})})}),S(R(R(n)),"unfollowBoard",function(){var e=n.props.unfollowBoard;n.handleFlowStatusChange({status:O.c.PROCESSING},function(){e(n.props.board.id).then(function(){n.handleFlowStatusChange({status:O.c.COMPLETED})})})}),S(R(R(n)),"leaveBoard",function(){n.handleFlowStatusChange({status:O.c.PROCESSING},function(){C(n.props.board.id,n.props.viewer.id).then(function(){n.handleFlowStatusChange({status:O.c.COMPLETED})})})}),S(R(R(n)),"handleSubmitUserBlock",function(){return n.handleFlowStatusChange({status:O.c.PROCESSING}),Promise.all(Array.from(n.state.userIdsToBlock).map(function(e){return function(e){return _.a.create("UserBlockResource",{blocked_user_id:e}).callCreate().then(function(){v.a.trackEvent("user_block","success")},function(){v.a.trackEvent("user_block","error")})}(e)})).then(function(){if(n.state.selectedCheckboxes.has(x.LEAVE_BOARD_AND_BLOCK_PINNER))return Promise.all([n.leaveBoard(),n.unfollowBoard()])}).finally(function(){n.handleFlowStatusChange({status:O.c.COMPLETED})})}),S(R(R(n)),"renderBlockPinnerCheckbox",function(e,t){return U({id:"blockPinner"+e.id,value:e.id,labelText:Object(m.b)(c.a._("Block {{ pinnerName }}","form option to block a pinner"),{pinnerName:e.full_name}),labelDescription:c.a._("You won’t be able to send each other messages or interact with each other’s Pins.","explanation of blocking a user"),handler:t})}),S(R(R(n)),"renderUnfollowBoardRadio",function(){return A({type:"unfollowBoard",labelText:c.a._("Unfollow this board"),labelDescription:c.a._("If you want to stop seeing Pins from this board in your home feed"),handleRadioUpdate:n.handleRadioUpdate})}),S(R(R(n)),"renderUnfollowPinnerRadio",function(){var e=n.props.users;return A({type:"unfollowPinner",labelText:Object(m.b)(c.a._("Unfollow {{ pinnerName }}","form option to unfollow a pinner"),{pinnerName:e[0].full_name}),labelDescription:c.a._("If you want to stop seeing any of their Pins in your home feed"),handleRadioUpdate:n.handleRadioUpdate})}),S(R(R(n)),"renderBlockPinnerRadio",function(){var e=n.props.users;return A({type:"blockPinner",labelText:Object(m.b)(c.a._("Block {{ pinnerName }}","form option to block a pinner"),{pinnerName:e[0].full_name}),labelDescription:c.a._("You won’t be able to follow each other or interact with each other’s Pins"),handleRadioUpdate:n.handleRadioUpdate})}),S(R(R(n)),"renderLeaveAndUnfollowBoardCheckbox",function(){return U({id:x.LEAVE_AND_UNFOLLOW_BOARD,value:x.LEAVE_AND_UNFOLLOW_BOARD,labelText:c.a._("Leave and unfollow this group board","form option to leave a group board"),labelDescription:c.a._("You won’t be able to Pin to it and you won’t see Pins from it in your home feed"),handler:n.handleCheckboxUpdate})}),S(R(R(n)),"renderLeaveBoardBlockPinnerCheckbox",function(){var e=n.props.users;return U({id:x.LEAVE_BOARD_AND_BLOCK_PINNER,value:x.LEAVE_BOARD_AND_BLOCK_PINNER,labelText:Object(m.b)(c.a._("Leave this group board and block {{ pinnerName }}","form option to block a pinner"),{pinnerName:e[0].full_name}),labelDescription:c.a._("You won’t be able to follow each other or interact with each other’s Pins"),handler:n.handleCheckboxUpdate})}),S(R(R(n)),"renderBlockAndUnfollow",function(){var e,t,o=n.props,r=o.flagReason,l=o.selectedReason,i=o.flagType,s=n.state.nonSelfUsers;"harassingOther"===l?e=Object(m.b)(c.a._("We remove content that identifies and attacks private people because we consider it to be bullying. We also don’t allow content that reveal someone’s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.","confirmation message after reporting harassment"),{communityGuidelines:a.a.createElement(h.b,{key:"policyLink",to:D},c.a._("Community Guidelines","link to community guidelines for harassment"))}):"harassingPublicFigure"===l?e=c.a._("Please note that we won’t necessarily take down stuff that attacks public figures.","message shown after reporting harrassment"):"harassingFriend"===l?e=c.a._("Before we can review this Pin, we need to hear from the person who’s being harassed. Please have your friend report this Pin to us.","message shown after reporting harrassment"):["spam","policies","hurtfulContent"].includes(r)&&(e=c.a._("We’ll take a look at this Pin and delete it if it goes against our policies.","confirmation message after reporting a pin")),t=n.isFollowingBoard&&n.isFollowingPinner?c.a._("You can also unfollow or block this person.","description to block or unfollow"):c.a.ngettext("You can also block this person.","You can also block these people.",s.length,"description to block people");var u=[];switch(i){case O.a.PIN:n.isBoardCollaboratedByMe?u=[n.renderLeaveAndUnfollowBoardCheckbox(),n.renderLeaveBoardBlockPinnerCheckbox()]:(n.isFollowingBoard&&u.push(n.renderUnfollowBoardRadio()),n.isFollowingPinner&&u.push(n.renderUnfollowPinnerRadio()),u.push(n.renderBlockPinnerRadio()));break;case O.a.CONVERSATION:case O.a.DID_IT:case O.a.COMMENT:u=s.map(function(e){return n.renderBlockPinnerCheckbox(e,n.handleUpdateUserIdsToBlock)})}return a.a.createElement("div",{className:"blockAndUnfollowFormContent"},a.a.createElement("div",{className:"modalDescription"},e?a.a.createElement("div",null,e,a.a.createElement("br",null),a.a.createElement("br",null)):null,t),u)}),S(R(R(n)),"renderTitle",function(){var e=n.props,t=e.status,o=e.users,a=e.detailedReasons,r=e.flagType,l=n.state,i=l.selectedCheckboxes,s=l.selectedRadio,u=l.userIdsToBlock;switch(r){case O.a.CONVERSATION:if(t===O.c.COMPLETED){var d=o.filter(function(e){return n.state.userIdsToBlock.has(e.id)});return Object(m.b)(c.a._("You’ve blocked {{usernames}}","title of modal after user has been blocked"),{usernames:b(w(d))})}return c.a._("Thanks for your report","title at end of report flow");case O.a.PIN:if(t!==O.c.COMPLETED)return f()(a,["nudity","spam","hate-speech","self-harm","harassingMeOrMyChild","harassingMeOrAFriend","gore"]).length>0?c.a._("Thanks for your report","title at end of report flow"):n.boardCollaboratedByMe?c.a._("Leave this board or block this person?"):n.isFollowingBoard||n.isFollowingPinner?c.a._("Unfollow or block this person?"):c.a._("Block this person?");if("unfollowBoard"===s)return c.a._("You’ve unfollowed this board","title confirming board unfollow");if("unfollowPinner"===s)return Object(m.b)(c.a._("You’ve unfollowed {{ pinnerName }}","title confirming user unfollow"),{pinnerName:o[0].full_name});if(u.size>0){var p=o.filter(function(e){return u.has(e.id)});return Object(m.b)(c.a._("You’ve blocked {{usernames}}","title of modal after user has been blocked"),{usernames:b(w(p))})}if(i.size>0)return c.a._("You’ve left and unfollowed this board","title confirming board leave & unfollow")}}),S(R(R(n)),"renderCompletionMessage",function(){var e,t=n.props.users,o=n.state,r=o.selectedRadio,l=o.userIdsToBlock,i=o.selectedCheckboxes;return"unfollowBoard"===r?e=c.a._("You won’t see Pins from this board in your home feed anymore.","message describing what unfollowing a board means"):"unfollowPinner"===r?e=Object(m.b)(c.a._("You won’t see {{ username }} Pins in your home feed anymore.","message describing what unfollowing a pinner means"),{username:t[0].full_name}):l.size>0?e=c.a._("You won’t be able to follow each other or interact with each other’s pins.","message describing what blocking means"):i.size>0&&(e=c.a._("You won’t be able to save Pins to this board or see its Pins in your home feed anymore.","message describing leave/unfollow board")),a.a.createElement("span",{key:"blockingConfirmation"},e)}),S(R(R(n)),"renderPolicyLink",function(){if(n.props.status!==O.c.COMPLETED)return a.a.createElement("p",{className:"helpText"},Object(m.b)(c.a._("Learn more about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:a.a.createElement(h.b,{key:"policyLink",to:L},c.a._("blocking","footer link to learn more about blocking"))}))}),n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e,t,n=this.props.status,o=this.state,r=o.isUnfollowSubflow,l=o.selectedCheckboxes,i=o.nonSelfUsers;[O.c.STARTED,O.c.COMPLETED].includes(n)?e=a.a.createElement(d.a,{className:s()("doneButton","visible"),onClick:this.handleClose,style:{display:"block"},text:c.a._("Done","confirm reporting flow is done & close modal"),type:"primary"}):(t=l.size>0?c.a._("Leave","submit button"):this.state.isUnfollowSubflow?c.a._("Unfollow","submit board/user to unfollow"):c.a._("Block","submit users to block"),e=a.a.createElement(d.a,{className:s()("blockButton","visible"),onClick:this.handleSubmit,loading:[O.c.SUBMITTED,O.c.PROCESSING].includes(n),text:t,type:"primary"}));return a.a.createElement("form",{className:s()({standardForm:!0,BlockAndUnfollowForm:n!==O.c.COMPLETED,ConfirmDialog:n===O.c.COMPLETED,fluid:n===O.c.COMPLETED}),method:"post"},a.a.createElement("h1",null,this.renderTitle()),a.a.createElement("div",{className:s()("flagContent",{modalActionDescription:n===O.c.COMPLETED})},n!==O.c.COMPLETED?this.renderBlockAndUnfollow():this.renderCompletionMessage()),a.a.createElement("div",{className:"formFooter"},this.renderPolicyLink(),a.a.createElement("div",{className:"formFooterButtons"},e)),![O.c.SUBMITTED,O.c.PROCESSING].includes(n)||r&&!l.has(x.LEAVE_BOARD_AND_BLOCK_PINNER)?null:a.a.createElement(p.a,{className:s()("UserBlock"),onHide:this.handleCloseUserBlock},a.a.createElement(k,{isLoading:n===O.c.PROCESSING,onClose:this.handleCloseUserBlock,onSubmit:this.handleSubmitUserBlock,users:i})))}}])&&P(n.prototype,r),l&&P(n,l),t}(),F=Object(r.connect)(function(e,t){return{viewer:e.viewer}},function(e){return{unfollowBoard:function(t){return e(Object(E.b)(t))},unfollowUser:function(t){return e(Object(g.b)(t))}}})(I),j=n("+U6O");function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t,n){return e.map(function(e,o){var r=e.condition;return void 0===r||r?function(e,t,n,o){var r=e.text,l=e.value,i=e.category;return a.a.createElement("label",{className:"flagReasonLabel",htmlFor:l,key:o},a.a.createElement(j.b,{alignItems:"center",deprecatedPadding:2,display:"flex"},a.a.createElement(j.B,{checked:n===l,id:l,onChange:function(e){return t(e,l,i)},name:"flagReason",value:l}),a.a.createElement(j.b,{deprecatedPadding:2},a.a.createElement(j.K,{size:"sm"},r))))}(e,t,n,o):null})}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.configMap=function(e){var t={},n=function(n){e[n].forEach(function(e){var o=e.value;if(Object.prototype.hasOwnProperty.call(t,o))throw new Error("Duplicate key in FlagOptions config: "+o);t[o]=e,t[o].parentOption=n})};for(var o in e)n(o);return t}(t)}var t,n,o;return t=e,(n=[{key:"getFlagOption",value:function(e){return this.configMap[e]}},{key:"renderFlagLabels",value:function(e){var t=e.flagReason,n=e.onSelectReason,o=e.selectedReason;return K(this.config[t],n,o)}}])&&M(t.prototype,n),o&&M(t,o),e}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return q});var Q=l.a.GEN.templateConst.settings.ABOUT_ACCEPTABLE_USE,X={contentContainer:{color:"#999",display:"table",fontSize:13,height:360,width:550},contents:{display:"table-cell",padding:"0 18px",textAlign:"center",verticalAlign:"middle"}},q=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,i=new Array(l),s=0;s<l;s++)i[s]=arguments[s];return o=this,r=(e=W(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==z(r)&&"function"!=typeof r?H(o):r,J(H(H(n)),"flagOptions",new G(n.props.flagOptionsConfig)),J(H(H(n)),"handleClose",function(){n.props.onClose()}),J(H(H(n)),"handleRevert",function(){n.props.onRevert&&n.props.onRevert()}),J(H(H(n)),"handleNext",function(){n.props.onNext&&n.props.onNext()}),J(H(H(n)),"handleFlowStatusChange",function(e){var t=e.flow,o=void 0===t?n.props.flow:t,a=e.status,r=void 0===a?n.props.status:a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};n.props.onFlowStatusChange({flow:o,status:r},l)}),J(H(H(n)),"renderPolicyLink",function(){var e=n.props,t=e.flow,o=e.flagReason;if(t===O.b.REPORT){if("attacks"===o)return a.a.createElement("p",null,a.a.createElement(j.K,{size:"xs"},Object(m.b)(c.a._("Learn more about our {{ linkToTopic }}","footer link to learn more about community guidelines"),{linkToTopic:a.a.createElement(h.b,{key:"policyLink",to:Q},a.a.createElement(j.K,{inline:!0,color:"red",size:"xs"},c.a._("Community Guidelines","name of footer link to community guidelines")))})));if("policies"===o)return a.a.createElement("p",null,a.a.createElement(j.K,{size:"xs"},Object(m.b)(c.a._("Learn about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:a.a.createElement(h.b,{key:"policyLink",to:Q+"?collapsible-element=0"},a.a.createElement(j.K,{inline:!0,color:"red",size:"xs"},c.a._("our nudity policies","name of footer link to policy")))})),a.a.createElement(j.K,{size:"xs"},Object(m.b)(c.a._("Learn about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:a.a.createElement(h.b,{key:"policyLink",to:Q+"?collapsible-element=1"},a.a.createElement(j.K,{inline:!0,color:"red",size:"xs"},c.a._("our policies on hurtful content","name of footer link to policy")))})),a.a.createElement(j.K,{size:"xs"},Object(m.b)(c.a._("Learn about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:a.a.createElement(h.b,{key:"policyLink",to:Q+"?collapsible-element=5"},a.a.createElement(j.K,{inline:!0,color:"red",size:"xs"},c.a._("our policies on gore","name of footer link to policy")))})));if("spam"===o||void 0===o)return a.a.createElement("p",{className:"helpText"},a.a.createElement(j.K,{size:"xs"},Object(m.b)(c.a._("Learn about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:a.a.createElement(h.b,{key:"policyLink",to:Q},"spam"===o?c.a._("our spam policies","name of footer link to policy"):c.a._("our policies","name of footer link to policy"))})))}}),J(H(H(n)),"renderContent",function(){var e=n.props,t=e.content,o=e.flow,r=e.onSelectReason,l=e.selectedReason;if(t)return t;if(o===O.b.REPORT)return n.flagOptions.renderFlagLabels({flagReason:n.props.flagReason||"__default",onSelectReason:r,selectedReason:l});if(o===O.b.BLOCK);else if(o===O.b.END)return a.a.createElement("span",{style:X.contents},c.a._("We’ll use your feedback to make your Pinterest experience better.","final message in reporting flow"))}),n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,o["Component"]),n=t,(r=[{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.props,n=t.flow,o=t.onCompletedReport,a=t.onCompletedBlock;if(e.flow!==n)switch(n){case O.b.REPORT:o&&o();break;case O.b.BLOCK:a&&a()}}},{key:"render",value:function(){var e=this.props,t=e.aggregated_rich_data_type,n=e.className,o=e.flagType,r=e.flow,l=e.status,i=e.pin,u=e.selectedReason,f=e.detailedReasons,d=e.submitButton,p=e.flagReason,m=e.showPrimaryAction,b=e.title,h=e.users,E=e.board,g=t;if(!g&&i&&i.rich_metadata){var y=i.rich_metadata;["recipe","tutorial"].forEach(function(e){y[e]&&y[e].from_aggregated_data&&y[e].additional_data.url&&(g=e)})}var w,k=null;return r===O.b.REPORT&&(k=void 0===p?a.a.createElement(j.c,{onClick:this.handleClose,text:c.a._("Cancel","cancel form")}):a.a.createElement(j.c,{onClick:this.handleRevert,text:c.a._("Back","previous step in a form")})),r===O.b.REPORT?O.c.PROCESSING===l||this.flagOptions.getFlagOption(u)&&this.flagOptions.getFlagOption(u).isTerminalReason?w=d:m&&(w=a.a.createElement(j.c,{color:"red",disabled:void 0===u,onClick:this.handleNext,text:c.a._("Next","go to the next view in the report flow")})):r===O.b.BLOCK||r===O.b.END&&(w=a.a.createElement(j.c,{color:"red",onClick:this.handleClose,text:c.a._("Got it","confirm reporting flow is done & close modal")})),a.a.createElement("div",{className:s()(n,{FlagBase:r===O.b.REPORT})},r!==O.b.BLOCK?a.a.createElement("form",{className:"standardForm",method:"post"},a.a.createElement(j.b,{marginRight:7,deprecatedPadding:2},a.a.createElement(j.m,{size:"sm"},b)),a.a.createElement("div",{className:s()("flagContent",{withBadRichDataLabel:g,modalActionDescription:r===O.b.BLOCK&&l===O.c.COMPLETED}),style:r===O.b.END||"IP"===p?X.contentContainer:null},this.renderContent()),a.a.createElement("div",{className:"formFooter"},a.a.createElement(j.b,{display:"flex",alignItems:"center"},a.a.createElement(j.b,{flex:"grow"},this.renderPolicyLink()),a.a.createElement(j.b,{deprecatedPadding:1},k),a.a.createElement(j.b,{deprecatedPadding:1},w)))):a.a.createElement(F,{flagReason:p,flagType:o,selectedReason:u,flow:r,detailedReasons:f,status:l,onClose:this.handleClose,users:h,onFlowStatusChange:this.handleFlowStatusChange,board:E}))}}])&&Y(n.prototype,r),l&&Y(n,l),t}()},"6hHB":function(e,t,n){var o=n("kjcR");e.exports=function(e){return o(e)?e:[]}},CST5:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n("GyhR"),a=n("XQD6"),r=n("PNko"),l=n.n(r),i=n("ogC+");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=this,r=(e=u(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==s(r)&&"function"!=typeof r?d(o):r,p(d(d(n)),"handleClick",function(e){e&&e.preventDefault(),n.props.loading||(n.props.src?Object(a.a)(n.props.src):n.props.onClick&&n.props.onClick(e),n.props.stopPropagation&&e.stopPropagation())}),n}var n,r,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.children,a=e.disabled,r=e.hasIcon,s=e.htmlType,c=e.id,u=e.itemProp,f=e.large,d=e.loading,p=e.onMouseDown,m=e.onMouseEnter,b=e.onMouseLeave,h=e.rel,E=e.rounded,g=e.showText,y=e.style,w=e.text,k=e.type,v=l()(this.props.className,{Button:"plain"!==k,Module:"plain"!==k,btn:"borderless"!==k&&"plain"!==k,hasIcon:r,hasText:g,rounded:!0===E,leftRounded:"left"===E,rightRounded:"right"===E,borderless:"borderless"===k,primary:"primary"===k,disabled:a,large:f});return o.createElement("button",{"aria-label":t||null,className:v,disabled:a,id:c,itemProp:u,onClick:this.handleClick,onMouseDown:p,onMouseEnter:m,onMouseLeave:b,rel:h,style:y,type:s},d?o.createElement(i.a,{size:"small"}):null,n,r?o.createElement("em",null):null,o.createElement("span",{className:g?"buttonText":"accessibilityText"},w))}}])&&c(n.prototype,r),m&&c(n,m),t}();p(m,"defaultProps",{disabled:!1,htmlType:"button",large:!1,rounded:!0,showText:!0,type:"default"})},JmB1:function(e,t,n){var o=n("/uNY"),a=n("Okh0"),r=n("7n/n"),l=n("+6eX"),i=n("McNW"),s=n("VptU"),c=Math.min;e.exports=function(e,t,n){for(var u=n?r:a,f=e[0].length,d=e.length,p=d,m=Array(d),b=1/0,h=[];p--;){var E=e[p];p&&t&&(E=l(E,i(t))),b=c(E.length,b),m[p]=!n&&(t||f>=120&&E.length>=120)?new o(p&&E):void 0}E=e[0];var g=-1,y=m[0];e:for(;++g<f&&h.length<b;){var w=E[g],k=t?t(w):w;if(w=n||0!==w?w:0,!(y?s(y,k):u(h,k,n))){for(p=d;--p;){var v=m[p];if(!(v?s(v,k):u(e[p],k,n)))continue e}y&&y.push(k),h.push(w)}}return h}},T4mo:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return r});var o={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},a={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},r={PIN:"PIN",COMMENT:"COMMENT",CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},fJWP:function(e,t,n){var o=n("+6eX"),a=n("JmB1"),r=n("PNgw"),l=n("6hHB"),i=r(function(e){var t=o(e,l);return t.length&&t[0]===e[0]?a(t):[]});e.exports=i},"ogC+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("GyhR"),a=n.n(o);n("hvnN");function r(e){var t=e.mask,n=e.loading,o=e.size;return a.a.createElement("div",null,t&&a.a.createElement("div",{className:"moduleMask",style:{bottom:0,left:0,right:0,top:0}}),n&&a.a.createElement("div",{className:"Spinner"},a.a.createElement("div",{className:"small"===o?"spinnerSmall":"spinnerMedium"})))}r.defaultProps={loading:!0,mask:!0,size:"medium"}},uHkb:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var o=n("UhjI"),a=n("ePT2");function r(e){return a.a.create("BoardFollowResource",{board_id:e})}function l(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function i(e){return function(t){r(e).callCreate().then(function(){o.a.trackEvent("board-follow","success")}).catch(function(){o.a.trackEvent("board-follow","error"),t(l(e,!1))}),t(l(e,!0))}}function s(e){return function(t){r(e).callDelete().then(function(){o.a.trackEvent("board-unfollow","success")}).catch(function(){o.a.trackEvent("board-unfollow","error"),t(l(e,!0))}),t(l(e,!1))}}}}]);
//# sourceMappingURL=pjs-33-058364e69abb100e2327.js.map
