(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ArticlePageDesktop~AuthHomePageDesktop~BoardSectionPageDesktop~FollowingPageDesktop~PinAnalyticsPage~b25f3c75"],{A7Du:function(e,t,n){"use strict";var o=n("GyhR"),r=n("Qo1m"),a=n("MNJ6"),i=n("ay7J"),c=n("tsSC"),l=n("Fbxa"),s=n("+U6O");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return o=this,r=(e=d(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==u(r)&&"function"!=typeof r?b(o):r,m(b(b(n)),"state",{showFlyout:!1}),m(b(b(n)),"setContainerRef",function(e){n.containerRef=e}),m(b(b(n)),"handleCreate",function(){n.hideFlyout();var e=n.props.onCreate;e&&e()}),m(b(b(n)),"handleSelectItem",function(e){n.hideFlyout();var t=n.props,o=t.onSelect,r=t.onCreate;e?o(e):r&&r()}),m(b(b(n)),"handleDropdownTouch",function(){n.setState(function(e){return{showFlyout:!e.showFlyout}})}),m(b(b(n)),"handleHideFlyout",function(e){n.containerRef&&e.target instanceof HTMLElement&&!n.containerRef.contains(e.target)&&n.hideFlyout()}),m(b(b(n)),"hideFlyout",function(){(0,n.props.hoverHandlers.onMouseLeave)(),n.setState({showFlyout:!1})}),n}var n,c,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o["Component"]),n=t,(c=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}},{key:"render",value:function(){var e=this.props,t=e.dropdownValue,n=e.fetchMore,c=e.hoverHandlers,u=c.onMouseOver,f=c.onMouseLeave,d=e.isHovering,p=e.onCreate,b=e.onSearchQueryUpdate,m=e.renderRow,h=e.searchQuery,y=e.sections,v=e.createBtnDisabled,g=this.state.showFlyout;this.indexManager=new a.a(y.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem);var _=!h.trim()||!!v;return o.createElement("div",{ref:this.setContainerRef},o.createElement(s.P,{onMouseEnter:u,onMouseLeave:f,onTouch:this.handleDropdownTouch,fullWidth:!1,shape:"rounded"},o.createElement(s.b,{alignItems:"center",color:d?"lightWash":"lightGray",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:3,shape:"rounded"},o.createElement(s.b,{display:"flex",flex:"grow"},o.createElement(s.K,{bold:!0},t)),o.createElement(s.n,{icon:"arrow-down",size:14,color:"darkGray",accessibilityLabel:""}))),g&&o.createElement(s.b,{position:"relative"},o.createElement(s.b,{shape:"rounded",color:"white",display:"flex",direction:"column",overflow:"hidden",position:"absolute",width:"100%",dangerouslySetInlineStyle:{__style:{border:"1px solid #efefef",zIndex:1}}},o.createElement(s.b,null,o.createElement(s.b,{display:"flex",padding:2,marginLeft:-1,marginRight:-1},o.createElement(s.b,{display:"flex",flex:"grow",paddingX:1},o.createElement(i.a,{hideIcon:!0,indexManager:this.indexManager,onChange:b,value:h})),p&&o.createElement(s.b,{paddingX:1},o.createElement(s.c,{disabled:_,inline:!0,onClick:this.handleCreate,text:r.a._("Create","board or section dropdown create button")})))),o.createElement(l.a,{fetchMore:n,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:m,sections:y}))))}}])&&f(n.prototype,c),h&&f(n,h),t}();t.a=Object(c.a)(h)},DLN1:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return s});var o=64,r=22,a="HeaderContent",i=4,c=24,l=671,s={headerMessage:{__style:{marginBottom:i}}}},SOSk:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("PNko"),c=n.n(i),l=n("axJV"),s=n("Qo1m"),u=n("E56J"),f=n("y9IQ"),d=(n("hvnN"),n("tsSC")),p=n("+U6O");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=function(e){function t(){var e,n,o,a,i,c,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];return o=this,a=(e=h(t)).call.apply(e,[this].concat(f)),n=!a||"object"!==b(a)&&"function"!=typeof a?v(o):a,i=v(v(n)),l=function(e){var t=n.props.inviteQueue;if(!t)return null;var o={text:s.a._("Add","Add board collaborator invite"),color:"red",size:"sm"};return t&&t[e]&&(o.text=s.a._("Remove","Remove a board collaborator invite"),o.color="gray"),r.a.createElement(p.c,o)},(c="renderInviteButton")in i?Object.defineProperty(i,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[c]=l,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o["Component"]),n=t,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.isHovering&&e.isHovering?this.props.onHoverStart():this.props.isHovering&&!e.isHovering&&this.props.onHoverEnd()}},{key:"render",value:function(){var e=this.props,t=e.is_pinner?s.a._("On Pinterest"):e.email?e.email:"facebook_non_pinner"===e.type?s.a._("Facebook"):"gplus_non_pinner"===e.type?s.a._("Google"):s.a._("Enter an email address");return r.a.createElement("a",Object.assign({},this.props.hoverHandlers,{onClick:this.props.onClick,role:"button"}),r.a.createElement(p.b,{position:"relative"},e.send_pin_image?r.a.createElement("span",{className:"typeaheadImg"},r.a.createElement("img",{alt:"",src:e.send_pin_image})):null,r.a.createElement("p",{className:c()("typeaheadName",{hasImage:e.send_pin_image})},e.label),r.a.createElement("div",{className:"titleWrapper"},r.a.createElement("i",{className:c()("titleIcon",{isPinner:e.is_pinner},{isFacebook:"facebook_non_pinner"===e.type},{isGplus:"gplus_non_pinner"===e.type})}),r.a.createElement("p",{className:"title"},t)),r.a.createElement(p.b,{top:!0,right:!0,position:"absolute",width:90},this.renderInviteButton(e.id))))}}])&&m(n.prototype,a),i&&m(n,i),t}(),_=Object(d.a)(g),w=n("TYRv"),E=n("+pqy");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=w.a.FACEBOOK,S=w.a.GPLUS,j=w.a.TWITTER,C=w.a.YAHOO;function P(e){var t,n=e.network,o=(O(t={},k,s.a._("Find friends from Facebook")),O(t,S,s.a._("Find friends from Google+")),O(t,j,s.a._("Find friends from Twitter")),O(t,C,s.a._("Find friends from Yahoo")),t);return r.a.createElement("div",{className:"socialConnect",role:"listitem"},r.a.createElement(p.P,{onTouch:function(){return function(e){E.a.instance().handleConnect(e,!0,{})}(n)},fullWidth:!1},r.a.createElement("div",{className:"socialConnectItem"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:c()("icon","socialConnect-".concat(n))},r.a.createElement("em",null))),r.a.createElement("div",{className:"right"},r.a.createElement("h4",{className:"title"},o[n])))))}var x=n("vBbO"),T=n("9Y9K"),I=n("4+0X"),D=n("VSY/"),R=n("k9eC"),A=n("NmcB"),N=n("2YES"),B=n("0Wmr");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){K(e,t,n[t])})}return e}function F(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=[w.a.FACEBOOK,w.a.TWITTER,w.a.GPLUS],z=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),f=0;f<i;f++)s[f]=arguments[f];return o=this,a=(e=H(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==M(a)&&"function"!=typeof a?G(o):a,K(G(G(n)),"state",{networks:void 0!==n.props.viewer?n.props.viewer.socialNetwork:null,open:!1,typeaheadSuggestions:[]}),K(G(G(n)),"onUserInviteClick",function(e){var t=e.id,o=e.full_name,r=n.props,a=r.boardId,i=r.onInviteItemClick;a?i(Object(B.d)(a,[t]),{type:"user",userName:o}):i(e,!0)}),K(G(G(n)),"handleBodyClick",function(e){n._results&&!n._results===e.target&&n.setState({open:!1})}),K(G(G(n)),"handleTypeaheadSuggestionsChange",function(e){var t=n.props.viewer;u.default.increment("web_contacts_search",1,{source:"social_type_ahead"}),n.setState({typeaheadSuggestions:(e||[]).filter(function(e){return e.id!==t.id})})}),K(G(G(n)),"handleOnEmailInviteClick",function(){var e=n.props,t=e.boardId,o=e.onInviteItemClick,r=e.value;t&&void 0!==r?o(Object(B.c)(t,[r]),{type:"email",email:r}):o(r,!1)}),K(G(G(n)),"subscriber",I.b.subscribe("currentUser","socialNetworkUpdated",function(e,t,o){n.setState({networks:Object(l.a)(o)})})),K(G(G(n)),"logTypeaheadInput",function(e){Object(A.a)(4113,{component:13029,element:1043,entered_query:e})}),K(G(G(n)),"logSearchContactItemClick",function(e){var t=n.props.value;Object(A.a)(101,{component:13029,element:1044,entered_query:t,result_index:e})}),K(G(G(n)),"renderResultItems",function(){var e=n.props,t=e.changeOnTextHover,o=e.inviteQueue,a=e.isWebMessagingRedesignExpEnabled,i=c()("Typeahead","userSelect",{open:n.state.open},{webInboxRedesign:a}),l=n.state.typeaheadSuggestions.map(function(e,a){return r.a.createElement(_,Object.assign({key:a,onClick:function(){n.onUserInviteClick(e),n.logSearchContactItemClick(a)},onHoverEnd:function(){return t?n.restoreTextFieldValue():null},onHoverStart:function(){return t?n.forceTextFieldValue(e.label):null},inviteQueue:o},e))}).concat(n.getStaticItems()).map(function(e,t){return r.a.createElement("li",{key:t},e)}),s={overflow:"scroll",height:"364px",zIndex:1e3,marginTop:a?8:4,border:a?"1px solid #dadada":null,borderTop:"none"};return r.a.createElement("div",{className:i,ref:function(e){n._results=e},style:s},l)}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,o["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;["mousedown","touchstart"].forEach(function(t){document.addEventListener(t,e.handleBodyClick)})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.value;this.setState({open:t.length>0})}},{key:"componentWillUnmount",value:function(){var e=this;["mousedown","touchstart"].forEach(function(t){document.removeEventListener(t,e.handleBodyClick)}),this.subscriber.unsubscribe()}},{key:"getStaticItems",value:function(){return F(this.getEmailItems()).concat(F(this.getSocialItems(this.state.networks)))}},{key:"getEmailItems",value:function(){var e=this.props.value||"";return[r.a.createElement(f.a,{email:e,isValid:Object(D.g)(e),key:"send-to-email-component",onClick:this.handleOnEmailInviteClick,showSendEmailText:!1})]}},{key:"getSocialItems",value:function(e){return V.filter(function(t){return!e||!1===e[t].connected}).map(function(e,t){return r.a.createElement(P,{key:"socialConnect-".concat(e),network:e})})}},{key:"forceTextFieldValue",value:function(e){this.props.value&&(this.previousValue=this.props.value),this.props.onChange(e)}},{key:"restoreTextFieldValue",value:function(){this.props.onChange(this.previousValue),delete this.previousValue}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardId,o=t.className,a=t.onChange,i=t.onKeyDown,l=t.showInputPlaceholder,u=t.value,f=t.isWebMessagingRedesignExpEnabled,d=t.requestContext,b=new R.c(d,"web_invites_search_results_number").enabled(),m=n?{board:n}:null,h=s.a._("Enter name or email","search");return r.a.createElement(x.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:L({},m,{count:b?25:5}),value:u||""},r.a.createElement("div",{className:c()(o,"reactSocialTypeahead")},r.a.createElement("div",{className:c()("TypeaheadField","userSelect","inputContainer","socialInboxTypeahead",{webInboxRedesign:f})},r.a.createElement(p.M,{id:"collaboratorInviterTypeahead",onChange:function(t){var n=t.value;a(n),e.logTypeaheadInput(n)},onKeyDown:i,placeholder:l?h:"",value:u})),this.renderResultItems()))}}])&&U(n.prototype,a),i&&U(n,i),t}();K(z,"defaultProps",{changeOnTextHover:!1,onKeyDown:function(){},showInputPlaceholder:!0,value:""});t.a=Object(T.compose)(N.e,Object(a.connect)(function(e){return{viewer:e.viewer}}))(z)},axJV:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return d});var r="facebook",a="twitter",i="google",c="youtube",l="gplus",s="microsoft",u="etsy",f="instagram";function d(e){var t;return o(t={},r,{connected:e.connected_to_facebook||!1}),o(t,i,{connected:e.connected_to_google||!1}),o(t,c,{connected:e.connected_to_youtube||!1}),o(t,l,{connected:!!e.gplus_url,url:e.gplus_url}),o(t,s,{connected:e.connected_to_microsoft||!1}),o(t,a,{connected:!!e.twitter_url,url:e.twitter_url}),o(t,u,{connected:e.connected_to_etsy||!1}),o(t,f,{connected:e.connected_to_instagram||!1}),t}},bqgw:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("op2h"),c=n("Qo1m"),l=n("kIql"),s=n("9Y9K"),u=n("VSY/"),f=n("+U6O");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,m(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o["Component"]),n=t,(r=[{key:"getSubtitleText",value:function(e,t,n){var o=this.props.invite.invited_by_user.full_name;return e?c.a._("That's you","subtext for current user who requested to join this board"):t?c.a._("Invited by you","subtext for a pending collaborator who was invited by the current viewer"):n?c.a._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board"):Object(u.c)(c.a._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:o})}},{key:"getDeclineDeleteText",value:function(e,t,n){return e?c.a._("Leave","[button] for a collaborator to leave a group board"):t&&!n?c.a._("Decline","[button] decline another pinner's request to join board as a collaborator"):c.a._("Remove","[button] remove a collaborator from the board]")}},{key:"render",value:function(){var e=this.props,t=e.onApprove,n=e.isDim,r=e.onDelete,a=e.actionsDisabled,l=e.viewer,s=e.invite,u=s.access,d=s.status,p=s.invited_by_user,b=s.invited_user,m=b.id===l.id,h=p.id===l.id,y=b.id===p.id,v="accepted"===d,g=u.includes("approve"),_=u.includes("delete"),w=c.a._("Approve","[button] approve another pinner's request to join the board as a collaborator"),E=this.getDeclineDeleteText(m,y,v),O=_&&!g,k=_&&g,S="/".concat(b.username,"/");return o.createElement(f.b,null,o.createElement(i.a,{imageUrl:b.image_medium_url||"",name:b.full_name,title:b.full_name,subtitle:this.getSubtitleText(m,h,y),linkURL:S,isDim:void 0!==n?n:!v,accessory:O&&o.createElement(f.c,{inline:!0,disabled:a,onClick:r,text:E,size:"sm"})}),k&&o.createElement(f.b,{paddingX:3,marginLeft:12,display:"flex",justifyContent:"end"},o.createElement(f.b,{paddingX:1,flex:"grow",width:"50%"},o.createElement(f.c,{disabled:a,onClick:r,text:E,size:"sm"})),o.createElement(f.b,{paddingX:1,flex:"grow",width:"50%"},o.createElement(f.c,{color:"red",disabled:a,onClick:t,text:w,size:"sm"}))))}}])&&p(n.prototype,r),a&&p(n,a),t}(),v=Object(s.compose)(l.a)(y),g=n("UhjI"),_=n("DLN1"),w=n("0Wmr"),E=n("dsfX"),O=n("Irlq");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=e.onCancel,n=e.onRemove,o=e.useGestaltModal,a=c.a._("Are you sure you want to leave this group board and remove it from your profile?"),i=o?f.y:E.b;return r.a.createElement(i,{accessibilityCloseLabel:c.a._("close","accessible label for button to close modal"),accessibilityModalLabel:c.a._("Leave board?"),heading:c.a._("Leave board?"),onDismiss:t,size:"sm",footer:r.a.createElement(f.b,{display:"flex",justifyContent:"end"},r.a.createElement(f.b,{paddingX:1},r.a.createElement(f.c,{inline:!0,onClick:t,text:c.a._("Cancel")})),r.a.createElement(f.b,{paddingX:1},r.a.createElement(f.c,{color:"red",inline:!0,onClick:n,text:c.a._("Leave")})))},r.a.createElement(f.b,{padding:5},r.a.createElement(f.K,null,a)))}var I=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return o=this,n=!(r=(e=j(t)).call.apply(e,[this].concat(i)))||"object"!==k(r)&&"function"!=typeof r?P(o):r,x(P(P(n)),"state",{shouldBlock:!1}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o["Component"]),n=t,(a=[{key:"getBlockDescription",value:function(e,t){return"declineRequest"===e?t?Object(O.b)(c.a._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):c.a._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator"):t?Object(O.b)(c.a._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):c.a._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator")}},{key:"render",value:function(){var e=this,t=this.props,n=t.asModal,a=t.removeType,i=t.firstName,l=t.fullName,s=t.onCancel,u=t.onRemove,d=t.onRemoveAndBlock,p=t.useGestaltModal,b="declineRequest"===a?Object(O.b)(c.a._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:l}).join(""):Object(O.b)(c.a._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:l}).join(""),m=c.a._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),h=this.getBlockDescription(a,i),y=this.state.shouldBlock?c.a._("Block","block another pinner after denying their request to collaborate on a board"):c.a._("Remove","decline another pinner's request to collaborate on a board"),v=n?0:-1,g=r.a.createElement(o.Fragment,null,r.a.createElement(f.b,{padding:5},r.a.createElement(f.K,null,m)),r.a.createElement(f.j,null),r.a.createElement(f.b,{padding:5,display:"flex",marginLeft:v,marginRight:v},r.a.createElement(f.b,{paddingX:1},r.a.createElement(f.e,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:function(){return e.setState({shouldBlock:!e.state.shouldBlock})}})),r.a.createElement(f.b,{paddingX:1},r.a.createElement(f.q,{htmlFor:"banUser"},r.a.createElement(f.K,{bold:!0},Object(O.b)(c.a._("Block {{ name }}"),{name:i||""})),r.a.createElement(f.K,{size:"sm"},h)))));if(n){var _=p?f.y:E.b;return r.a.createElement(_,{accessibilityCloseLabel:c.a._("close","accessible label for button to close modal"),accessibilityModalLabel:b,heading:b,onDismiss:s,size:"sm",footer:r.a.createElement(f.b,{display:"flex",justifyContent:"end",marginLeft:-1,marginRight:-1},r.a.createElement(f.b,{paddingX:1},r.a.createElement(f.c,{inline:!0,onClick:s,text:c.a._("Cancel")})),r.a.createElement(f.b,{paddingX:1},r.a.createElement(f.c,{color:"red",inline:!0,onClick:this.state.shouldBlock?d:u,text:y})))},g)}return r.a.createElement(D,Object.assign({},this.props,{onConfirm:this.state.shouldBlock?d:u,submitMessage:y,title:b}),g)}}])&&S(n.prototype,a),i&&S(n,i),t}();function D(e){return r.a.createElement("div",{className:"ConfirmDialog"},r.a.createElement("form",{className:"standardForm",method:"post"},r.a.createElement("h1",null,e.title),r.a.createElement("div",null,e.children),r.a.createElement("div",{className:"formFooter"},r.a.createElement(f.b,{display:"flex",justifyContent:"end",marginLeft:-1,marginRight:-1},r.a.createElement(f.b,{paddingX:1},r.a.createElement(f.c,{inline:!0,onClick:e.onCancel,text:c.a._("Cancel")})),r.a.createElement(f.b,{paddingX:1},r.a.createElement(f.c,{color:"red",inline:!0,type:"submit",onClick:e.onConfirm,text:e.submitMessage}))))))}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}x(I,"defaultProps",{asModal:!1});var F="collaborator_decline_invite",U="collaborator_delete_invite",H=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return o=this,r=(e=N(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==R(r)&&"function"!=typeof r?M(o):r,L(M(M(n)),"state",{currentModal:null,loading:!1}),L(M(M(n)),"onDelete",function(){var e=n.props.onModalOpen;e&&e(),n.setState({currentModal:"delete"})}),L(M(M(n)),"onApprove",function(){var e=n.props,t=e.approveBoardCollabInvite,o=e.onInviteDidUpdate;n.setState({loading:!0}),t().then(o).finally(function(){n.setState({loading:!1})})}),L(M(M(n)),"deleteBoardInvite",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props,o=t.deleteBoardCollabInvite,r=t.onBoardLeave,a=t.onInviteDidUpdate,i=n.isViewerInvitedUser,c=i?F:U;g.a.trackEvent(c,"click"),n.setState({currentModal:null,loading:!0}),o(i,e).then(function(){g.a.trackEvent(c,"success"),a(),i&&r()}).catch(function(){g.a.trackEvent(c,"error")}).finally(function(){n.setState({loading:!1})})}),L(M(M(n)),"handleDeleteBoardInvite",function(){n.deleteBoardInvite(!1)}),L(M(M(n)),"handleDeleteBoardInviteAndBan",function(){n.deleteBoardInvite(!0)}),L(M(M(n)),"handleHideModal",function(){n.setState({currentModal:null})}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,o["Component"]),n=t,(r=[{key:"renderCurrentModal",value:function(){var e=this.props,t=e.invite.invited_user,n=e.useGestaltModal,r=void 0!==n&&n;return"delete"===this.state.currentModal?this.isViewerInvitedUser?o.createElement("div",{style:{position:"absolute",zIndex:_.g+1}},o.createElement(T,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:r})):o.createElement("div",{style:{position:"absolute",zIndex:_.g+1}},o.createElement(I,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:t.first_name,fullName:t.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:r,asModal:!0})):null}},{key:"render",value:function(){var e=this.props,t=e.invite,n=e.isDim,r=this.state.loading;return o.createElement(f.b,null,o.createElement(v,{invite:t,isDim:n&&"accepted"!==t.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:r}),this.renderCurrentModal())}},{key:"isViewerInvitedUser",get:function(){var e=this.props,t=e.viewer,n=e.invite.invited_user;return t.isAuth&&t.id===n.id}},{key:"isRequestToJoin",get:function(){var e=this.props.invite,t=e.invited_user,n=e.invited_by_user;return t.id===n.id}}])&&A(n.prototype,r),a&&A(n,a),t}();t.a=Object(s.compose)(Object(a.connect)(null,function(e,t){var n=t.invite,o=t.invite,r=o.invited_user.id,a=o.board.id;return{approveBoardCollabInvite:function(){return e(Object(w.a)(a,r))},deleteBoardCollabInvite:function(t,o){return e(Object(w.b)(n,t,o))}}}),l.a)(H)},c61H:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("H3Xe"),c=function(e){return{isLimitedLogin:e.viewer.isLimitedLogin,isAuth:e.viewer.isAuth}};function l(e){var t=function(t){var n=t.dispatch,o=t.isAuth,a=t.isLimitedLogin,c=!o||a?function(e){return function(e){e&&e.stopPropagation(),n(i.a)}}:function(e){return e};return r.a.createElement(e,Object.assign({authAction:c},t))};return t.displayName="WithAuthenticatedAction(".concat(String(e.displayName||e.name),")"),Object(a.connect)(c)(t)}},gUPf:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("GyhR");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){function t(){var e,n,o,a,c,s,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return o=this,a=(e=i(t)).call.apply(e,[this].concat(d)),n=!a||"object"!==r(a)&&"function"!=typeof a?l(o):a,c=l(l(n)),u=function(){var e=n.props,t=e.isAtEnd,o=e.isFetching,r=e.fetchMore,a=e.scrollBuffer,i=e.scrollHeight,c=e.scrollTop;t||o||c+a>i&&r()},(s="check")in c?Object.defineProperty(c,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[s]=u,n}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["PureComponent"]),n=t,(s=[{key:"componentDidMount",value:function(){setTimeout(this.check)}},{key:"componentDidUpdate",value:function(){this.check()}},{key:"render",value:function(){return null}}])&&a(n.prototype,s),u&&a(n,u),t}()},kYkb:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("UhjI"),c=n("Qo1m"),l=(n("hvnN"),n("KCDi")),s=n("c61H"),u=n("KsVg"),f=n("9Y9K"),d=n("NmcB"),p=n("+U6O"),b=n("uHkb");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="board_follow",E="board_unfollow",O=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];return o=this,a=(e=y(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==m(a)&&"function"!=typeof a?g(o):a,_(g(g(n)),"followUnfollow",function(){var e=n.props,t=e.boardId,o=e.follow,a=e.hideAllToasts,i=e.isFollowed,s=e.showToast,u=e.unfollow;if(i)u(t);else{o(t);var f=n.props,d=f.boardImage,p=f.boardUrl,b=f.boardName;a(),s(function(e){var t=e.onHide;return r.a.createElement(l.a,{onHide:t,text:[c.a._("Now following","text that comes before a board/user name in toast on homefeed"),b],href:p,imageUrl:d})})}}),_(g(g(n)),"logBoardFollowClick",function(e){Object(d.a)(101,{component:1,element:e?1154:37,objectId:n.props.boardId,view:n.props.isBoardLandingPage?5:4,viewParameter:n.props.viewParameter})}),_(g(g(n)),"handleFollow",function(e){var t=e.event;t.preventDefault(),t.stopPropagation();var o=n.props,r=o.authAction,a=o.isFollowed,c=a?E:w;r(n.followUnfollow)(),n.logBoardFollowClick(a),i.a.trackEvent(c,"click")}),_(g(g(n)),"handlePulsarClick",function(e){n.setState({isPaused:!0}),n.handleFollow(e)}),n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.isFollowed,n=e.showPulsar,o=e.size,a=t?c.a._("Following"):c.a._("Follow");return r.a.createElement(p.b,{position:"relative",display:"flex","data-test-id":"board-follow-button"},r.a.createElement(p.c,{color:t?"gray":"red",inline:!0,onClick:this.handleFollow,size:o,text:a}),n&&r.a.createElement(p.P,{onTouch:this.handlePulsarClick},r.a.createElement(p.b,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}}},r.a.createElement(p.A,{paused:t}))))}}])&&h(n.prototype,a),s&&h(n,s),t}();t.a=Object(f.compose)(Object(a.connect)(function(e,t){var n=t.boardId,o=t.isFollowed,r=e.boards.content[n];return{isFollowed:r?r.followed_by_me:o}},function(e){return{follow:function(t){return e(Object(b.a)(t))},unfollow:function(t){return e(Object(b.b)(t))}}}),s.a,u.a)(O)},"kYt+":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("GyhR"),r=n("Qo1m"),a=n("+U6O");function i(e){var t=e.cancelButtonLabel,n=e.confirmButtonLabel,i=e.heading,c=e.message,l=e.onCancel,s=e.onConfirm;return o.createElement("form",{className:"standardForm"},o.createElement(a.b,{paddingX:12,paddingY:4},o.createElement(a.K,{align:"center",bold:!0,size:"xl"},i||r.a._("Are you sure?"))),o.createElement(a.j,null),o.createElement("div",{className:"body"},o.createElement(a.K,null,c)),o.createElement("div",{className:"formFooter"},o.createElement("div",{className:"formFooterButtons"},o.createElement(a.b,{"data-test-id":"confirmBoardDelete",display:"inlineBlock",marginRight:2},o.createElement(a.c,{inline:!0,onClick:l,text:t||r.a._("Cancel")})),o.createElement(a.b,{display:"inlineBlock"},o.createElement(a.c,{inline:!0,onClick:s,text:n,color:"red"})))))}},op2h:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("GyhR"),r=n.n(o),a=n("iJ35"),i=n("+U6O");function c(e){var t=e.imageUrl,n=e.name,o=e.title,c=e.subtitle,l=e.accessory,s=e.linkURL,u={__style:{opacity:e.isDim?.5:1}};return r.a.createElement(i.b,{display:"flex",alignItems:"center",paddingX:3,paddingY:2},r.a.createElement(i.b,{marginRight:4,dangerouslySetInlineStyle:u},r.a.createElement(a.b,{to:s},r.a.createElement(i.a,{outline:!0,size:"md",name:n,src:t}))),r.a.createElement(i.b,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:u},r.a.createElement(a.b,{to:s},r.a.createElement(i.K,{bold:!0,color:"darkGray",size:"sm",truncate:!0},o)),r.a.createElement(i.K,{truncate:!0,size:"xs"},c)),l&&r.a.createElement(i.b,{marginLeft:2},l))}},tEBU:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("GyhR"),r=n("Qo1m"),a=n("gUPf"),i=n("+U6O");function c(e){var t=e.fetchMore,n=e.invites,c=e.isAtEnd,l=e.isFetching,s=e.onBoardLeave,u=e.refreshData,f=e.scroll,d=e.renderInvite;return o.createElement("div",null,f&&o.createElement(a.a,{scrollBuffer:3*f.container.clientHeight,scrollHeight:f.container.scrollHeight,scrollTop:f.top,isAtEnd:c,isFetching:l,fetchMore:t}),n.map(function(e,t){return e&&e.invited_user&&e.invited_user.id?o.createElement(i.b,{key:t},d(e,s,u)):null}),l&&!c&&o.createElement(i.G,{accessibilityLabel:r.a._("loading board invites","accessibility label for board collaborator invites loading spinner"),show:!0}))}},tkA3:function(e,t,n){"use strict";var o=n("GGL+"),r=n.n(o),a=n("RPeA"),i=n("ePT2"),c=n("aqOH"),l=function(e){e=e||{},this.tags=e.tags,this.enable_recent_queries=!!e.enable_recent_queries,this.minimum_term_character_length=e.minimum_term_character_length||0,this.bypass_lru_cache=e.bypass_lru_cache;var t={tags:e.tags,pin:e.pin_id},n=e.num_places;n?t.num_places=n:t.count="count"in e?e.count:5,e.exclude_non_followers&&(t.exclude_non_followers=!0),e.field_set_key&&(t.field_set_key=e.field_set_key),e.pin_scope&&(t.pin_scope=e.pin_scope);var o="TypeaheadResource";e.resource_name&&(o=e.resource_name),this.searchResource=i.a.create(o,t),this.itemsCache=new a.a};Object.assign(l.prototype,r.a),Object.assign(l.prototype,{search:function(e,t){var n;if(!e&&"pinners_and_contacts"===this.tags)return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&c.default.isLimitedLogin())return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&this.enable_recent_queries&&c.default&&c.default.isAuthenticated())n="recent_search";else{var o=this.bypass_lru_cache?{}:this.itemsCache.get(e);if(o){var r=o.items;if(r&&r.length){this.abortSearch();var a=o.hint;return void this.publishData(e,r,a,t)}}}e.length>=this.minimum_term_character_length?this.fetch(e,n,t):this.publishData(e,[],{},t)},getResource:function(){return this.searchResource},abortSearch:function(){this.getResource().abort()},publishData:function(e,t,n,o){var r={term:e,items:t,hint:n};this.trigger("data",r),o&&o(r)},setAutocompleteScope:function(e){this.getResource().set("autocompleteScope",e)},fetch:function(e,t,n){var o=this,r=this.getResource();if(r.isCalling()){var a=r.get("term");if(e===a)return;this.abortSearch()}""!==this.tags&&(r.set("term",e),r.set("tags",t||this.tags),r.resetBookmark(),r.callGet({showError:!1}).then(function(t){var r=t.resource_response.data,a=r.items,i=r.hint||{},c={hint:i,items:a};o.cacheData(e,c),o.publishData(e,a,i,n)},function(e){o.trigger("fetchError",e)}),this.warm=!0)},removeCacheForTerm:function(e){this.itemsCache.remove(e)},cacheData:function(e,t){this.itemsCache.set(e,t)},prefetch:function(){this.warm||(i.a.create("TypeaheadPrepareResource").callGet({showError:!1}),this.warm=!0)}}),t.a=l},uHkb:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var o=n("UhjI"),r=n("ePT2");function a(e){return r.a.create("BoardFollowResource",{board_id:e})}function i(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function c(e){return function(t){a(e).callCreate().then(function(){o.a.trackEvent("board-follow","success")}).catch(function(){o.a.trackEvent("board-follow","error"),t(i(e,!1))}),t(i(e,!0))}}function l(e){return function(t){a(e).callDelete().then(function(){o.a.trackEvent("board-unfollow","success")}).catch(function(){o.a.trackEvent("board-unfollow","error"),t(i(e,!0))}),t(i(e,!1))}}},vBbO:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n("GyhR"),r=(n("hvnN"),n("tkA3"));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),f=0;f<i;f++)l[f]=arguments[f];return o=this,r=(e=c(t)).call.apply(e,[this].concat(l)),n=!r||"object"!==a(r)&&"function"!=typeof r?s(o):r,u(s(s(n)),"searchCache",Object.create(null)),u(s(s(n)),"lastSearchedQuery",null),u(s(s(n)),"search",function(e){n.lastSearchedQuery=e,e in n.searchCache?n.props.onTypeaheadSuggestionsChange(n.searchCache[e],e):n.provider.search(e,function(t){var o=t.items;n.searchCache[e]=o,e===n.lastSearchedQuery&&n.props.onTypeaheadSuggestionsChange(o,e)})}),n}var n,f,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["Component"]),n=t,(f=[{key:"componentDidMount",value:function(){var e=this.props.resourceOptions||{};this.provider=new r.a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){u(e,t,n[t])})}return e}({resource_name:this.props.resourceName},e));var t=this.props.value;null!=t&&this.props.allowSearchOnMount&&this.search(this.props.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.value;null!=t&&t!==this.props.value&&this.search(t)}},{key:"render",value:function(){return this.props.children||null}}])&&i(n.prototype,f),d&&i(n,d),t}();u(f,"defaultProps",{resourceName:"TypeaheadResource"})},y9IQ:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("GyhR"),r=n("PNko"),a=n.n(r),i=n("Qo1m"),c=(n("hvnN"),n("VSY/"));function l(e){var t=e.email,n=e.isValid,r=e.onClick,l=e.showSendEmailText,s=n?o.createElement("div",{className:"icon"},t[0].toUpperCase()):o.createElement("div",{className:a()("icon","typingEmail")},o.createElement("em",null)),u=n?i.a._("Click to send!"):i.a._("Keep typing!"),f=l?Object(c.i)(i.a._("Email {{ email }}"),{email:t}):Object(c.i)(i.a._("Invite {{ email }}"),{email:t});return o.createElement("div",{className:a()("sendToEmail",{unclickable:!n})},o.createElement("a",{className:"selectableEmailItem",onClick:function(){n&&r()},role:"button"},o.createElement("div",{className:"left"},s),o.createElement("div",{className:"right"},o.createElement("h4",{className:"title"},f),o.createElement("p",{className:"subtitle"},u))))}},yLAA:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("KsVg"),c=n("9Y9K"),l=n("ePT2");function s(e){return function(t){return function(e){return l.a.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then(function(e){return new Promise(function(t,n){var o=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;o?t(o):n(new Error("No blocking actions found in the response"))})})}(e).then(function(n){return t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:n}}),n})}}var u=n("PNko"),f=n.n(u),d=n("Qo1m"),p=n("+U6O");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){return r.a.createElement(p.b,{display:"flex",justifyContent:"around",overflow:"hidden"},r.a.createElement("div",{className:"boardBlockingActionToastWhiteSpinner"},r.a.createElement(p.n,{accessibilityLabel:d.a._("board action pending","accessibility label for board action toast to indicate pending action"),color:"white",icon:"knoop",size:40})))}var w=2e3,E=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return o=this,r=(e=h(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==b(r)&&"function"!=typeof r?v(o):r,g(v(v(n)),"state",{hiding:!1,visible:!1}),g(v(v(n)),"handleHide",function(){n.setState({hiding:!0}),n.timeout=window.setTimeout(n.props.onHide,200)}),g(v(v(n)),"handleMouseEnter",function(){window.clearTimeout(n.timeout)}),g(v(v(n)),"handleMouseLeave",function(){n.timeout=window.setTimeout(n.handleHide,n.props.duration||w)}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.firstLine&&(window.setTimeout(function(){e.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||w))}},{key:"render",value:function(){var e=this.props,t=e.actionStatus,n=e.location,o=this.state,a=o.visible,i=o.hiding,c=this.firstLine;if(!c)return null;var l="inProgress"===t?"".concat(n.name,"..."):n.name;return r.a.createElement("div",{className:f()("ToastBase","react",{visible:a},{hiding:i}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.a.createElement(p.N,{color:"darkGray",text:[c,l],thumbnail:"completed"===t?void 0:r.a.createElement(_,null)}))}},{key:"firstLine",get:function(){var e=this.props,t=e.actionType,n=e.actionStatus,o=e.location.isSection,r="completed"===n;switch(t){case"create_section":return r?d.a._("Created section","toast text to indicate a section has been created successfully"):d.a._("Creating section","toast text to indicate a section is being created");case"delete_pins":return o?r?d.a._("Deleted Pins from","toast text to notify Pins have been deleted from a section"):d.a._("Deleting Pins from","toast text to notify Pins are being deleted from a section"):r?d.a._("Deleted Pins from","toast text to notify Pins have been deleted from a board"):d.a._("Deleting Pins from","toast text to notify Pins are being deleted from a board");case"move_pins":return o?r?d.a._("Moved to","toast text to notify pins have been moved to this section"):d.a._("Moving to","toast text to notify pins are being moved to this section"):r?d.a._("Moved to","toast text to notify pins have been moved to this board"):d.a._("Moving to","toast text to notify pins are being moved to this board");case"merge":return o?r?d.a._("Moved to","toast text to notify anotehr section has been merged to this section"):d.a._("Moving to","toast text to notify another section is being merged to this section"):r?d.a._("Moved to","toast text to notify another board has been merged to this board"):d.a._("Moving to","toast text to notify another board is being merged to this board");default:return null}}}])&&m(n.prototype,a),i&&m(n,i),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return N});var x=2e3,T=2e3,I=5e3;var D=["merge","move_pins","create_section"];var R=0,A={};function N(e){var t=function(t){function n(){var e,t,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,a=(e=S(n)).call.apply(e,[this].concat(c)),t=!a||"object"!==O(a)&&"function"!=typeof a?C(r):a,P(C(C(t)),"showBlockingActionToast",function(e){var n,r,a,i,c,l,s=e.actionType,u=e.board,f=e.section,d=t.props.showToast,p=function(e){return function(t){var n=t.onHide;return o.createElement(E,{actionType:s,actionStatus:e,duration:"inProgress"===e?x:T,location:{name:f?f.title:u.name,isSection:!!f},onHide:n})}};d(p("inProgress")),r=(n={check:function(){return t.poll(s,u.id,f&&f.id)},checkDelay:x,checkInterval:I,onComplete:function(){return d(p("completed"))}}).check,a=n.checkDelay,i=n.checkInterval,c=n.onComplete,l="timeout".concat(R),R+=1,A[l]=setTimeout(function e(){var t=Date.now();r().then(function(n){var o=Date.now()-t;n?(c(),delete A[l]):A[l]=setTimeout(e,Math.max(1e3,i-o))}).catch(function(){delete A[l]})},a)}),P(C(C(t)),"poll",function(e,n,o){return t.props.dispatch(s(n)).then(function(t){return!function(e){var t=e.blockingActions,n=e.actionType,o=e.boardId,r=e.sectionId;return t.find(function(e){return!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==n||D.includes(e.action_type)&&e.is_origin||e.board_id!==o||(r?r!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress)})}({blockingActions:t,actionType:e,boardId:n,sectionId:o})})}),t}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,o["Component"]),r=n,(a=[{key:"render",value:function(){return o.createElement(e,Object.assign({},this.props,{showBlockingActionToast:this.showBlockingActionToast}))}}])&&k(r.prototype,a),i&&k(r,i),n}();return P(t,"displayName","WithShowBlockingActionToasts(".concat(e.displayName||e.name,")")),Object(c.compose)(Object(a.connect)(),i.a)(t)}}}]);
//# sourceMappingURL=pjs-ArticlePageDesktop~AuthHomePageDesktop~BoardSectionPageDesktop~FollowingPageDesktop~PinAnalyticsPage~b25f3c75-3f8291ae799e951d3d72.js.map
